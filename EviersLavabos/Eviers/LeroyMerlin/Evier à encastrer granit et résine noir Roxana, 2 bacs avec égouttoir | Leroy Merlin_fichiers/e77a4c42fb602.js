var CS_CONF={"projectId":21,"status":1,"hostnames":["leroymerlin.fr"],"allowSubdomains":1,"visitorCookieTimeout":34164000000,"storeInputData":0,"excludedBlocks":[],"excludedPages":[],"includedPages":[],"sampleRate":30,"recordingRate":1,"validationRate":100,"jquery":false,"lastTrackingDraw":null,"trackerDomain":"t.content-square.net","ed":"e.content-square.net/log"};!function(CS_CONF){function overrideOptions(){if(window._uxa&&window._uxa.length)for(var a=0;a<window._uxa.length;a++){var b=window._uxa[a];if("setOption"===b[0])for(var c=0;c<OVERRIDABLE_OPTIONS.length;c++)b[1]===OVERRIDABLE_OPTIONS[c]&&(CS_CONF[b[1]]=b[2])}}function initJQuery(){window.jQuery_cs=UXUtils.getJQueryInstance(),jQuery_cs&&void 0!==CS_CONF&&CS_CONF.jquery&&jQuery_cs.noConflict(!0)}function getUserInfo(){var a=UXUtils.getCookie(COOKIES.VISITOR);a=a?a.split("."):[];var b={userId:a[0],sessionNumber:a[2],pageNumber:UXUtils.getCookie(COOKIES.SESSION)};return JSON2.stringify(b)}function getInclusionTimeStamp(){try{return UXUtils.getCookie(COOKIES.VISITOR).split(".")[5]}catch(a){}}function UXA(){"use strict";function apply(){var a,b;if(b=arguments[0],a=Array.prototype.shift.call(b),tracker[a])return tracker[a].apply(tracker,b)}function TrackerProxy(){return{push:CSLoader.tryToExecute("UXA.load",apply)}}var defaults={cookieNamePrefix:"_cs_",visitorCookieTimeout:34164e6,sessionCookieTimeout:18e5,referralCookieTimeout:15768e6,customVariableMaximumLength:50,projectId:"",eventTracking:!0,sampleRate:100,allowSubdomains:!1,trackerDomain:"",excludedAreas:[],countPreRendered:!0,storeInputData:0,domain:void 0},options=jQuery_cs.extend({},defaults),version="2.5.0",exports={},stringifiedLZString='var LZString={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(input){if(input==null){return""}var output="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;input=LZString.compress(input);while(i<input.length*2){if(i%2==0){chr1=input.charCodeAt(i/2)>>8;chr2=input.charCodeAt(i/2)&255;if(i/2+1<input.length){chr3=input.charCodeAt(i/2+1)>>8}else{chr3=NaN}}else{chr1=input.charCodeAt((i-1)/2)&255;if((i+1)/2<input.length){chr2=input.charCodeAt((i+1)/2)>>8;chr3=input.charCodeAt((i+1)/2)&255}else{chr2=chr3=NaN}}i+=3;enc1=chr1>>2;enc2=((chr1&3)<<4)|(chr2>>4);enc3=((chr2&15)<<2)|(chr3>>6);enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64}else{if(isNaN(chr3)){enc4=64}}output=output+LZString._keyStr.charAt(enc1)+LZString._keyStr.charAt(enc2)+LZString._keyStr.charAt(enc3)+LZString._keyStr.charAt(enc4)}return output},decompressFromBase64:function(input){if(input==null){return""}var output="",ol=0,output_,chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0,f=LZString._f;input=input.replace(/[^A-Za-z0-9+/=]/g,"");while(i<input.length){enc1=LZString._keyStr.indexOf(input.charAt(i++));enc2=LZString._keyStr.indexOf(input.charAt(i++));enc3=LZString._keyStr.indexOf(input.charAt(i++));enc4=LZString._keyStr.indexOf(input.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;if(ol%2==0){output_=chr1<<8;if(enc3!=64){output+=f(output_|chr2)}if(enc4!=64){output_=chr3<<8}}else{output=output+f(output_|chr1);if(enc3!=64){output_=chr2<<8}if(enc4!=64){output+=f(output_|chr3)}}ol+=3}return LZString.decompress(output)},compressToUTF16:function(input){if(input==null){return""}var output="",i,c,current,status=0,f=LZString._f;input=LZString.compress(input);for(i=0;i<input.length;i++){c=input.charCodeAt(i);switch(status++){case 0:output+=f((c>>1)+32);current=(c&1)<<14;break;case 1:output+=f((current+(c>>2))+32);current=(c&3)<<13;break;case 2:output+=f((current+(c>>3))+32);current=(c&7)<<12;break;case 3:output+=f((current+(c>>4))+32);current=(c&15)<<11;break;case 4:output+=f((current+(c>>5))+32);current=(c&31)<<10;break;case 5:output+=f((current+(c>>6))+32);current=(c&63)<<9;break;case 6:output+=f((current+(c>>7))+32);current=(c&127)<<8;break;case 7:output+=f((current+(c>>8))+32);current=(c&255)<<7;break;case 8:output+=f((current+(c>>9))+32);current=(c&511)<<6;break;case 9:output+=f((current+(c>>10))+32);current=(c&1023)<<5;break;case 10:output+=f((current+(c>>11))+32);current=(c&2047)<<4;break;case 11:output+=f((current+(c>>12))+32);current=(c&4095)<<3;break;case 12:output+=f((current+(c>>13))+32);current=(c&8191)<<2;break;case 13:output+=f((current+(c>>14))+32);current=(c&16383)<<1;break;case 14:output+=f((current+(c>>15))+32,(c&32767)+32);status=0;break}}return output+f(current+32)},decompressFromUTF16:function(input){if(input==null){return""}var output="",current,c,status=0,i=0,f=LZString._f;while(i<input.length){c=input.charCodeAt(i)-32;switch(status++){case 0:current=c<<1;break;case 1:output+=f(current|(c>>14));current=(c&16383)<<2;break;case 2:output+=f(current|(c>>13));current=(c&8191)<<3;break;case 3:output+=f(current|(c>>12));current=(c&4095)<<4;break;case 4:output+=f(current|(c>>11));current=(c&2047)<<5;break;case 5:output+=f(current|(c>>10));current=(c&1023)<<6;break;case 6:output+=f(current|(c>>9));current=(c&511)<<7;break;case 7:output+=f(current|(c>>8));current=(c&255)<<8;break;case 8:output+=f(current|(c>>7));current=(c&127)<<9;break;case 9:output+=f(current|(c>>6));current=(c&63)<<10;break;case 10:output+=f(current|(c>>5));current=(c&31)<<11;break;case 11:output+=f(current|(c>>4));current=(c&15)<<12;break;case 12:output+=f(current|(c>>3));current=(c&7)<<13;break;case 13:output+=f(current|(c>>2));current=(c&3)<<14;break;case 14:output+=f(current|(c>>1));current=(c&1)<<15;break;case 15:output+=f(current|c);status=0;break}i++}return LZString.decompress(output)},compressToUint8Array:function(uncompressed){var compressed=LZString.compress(uncompressed);var buf=new Uint8Array(compressed.length*2);for(var i=0,TotalLen=compressed.length;i<TotalLen;i++){var current_value=compressed.charCodeAt(i);buf[i*2]=current_value>>>8;buf[i*2+1]=current_value%256}return buf},decompressFromUint8Array:function(compressed){if(compressed===null||compressed===undefined){return LZString.decompress(compressed)}else{var buf=new Array(compressed.length/2);for(var i=0,TotalLen=buf.length;i<TotalLen;i++){buf[i]=compressed[i*2]*256+compressed[i*2+1]}return LZString.decompress(String.fromCharCode.apply(null,buf))}},compressToEncodedURIComponent:function(uncompressed){return LZString.compressToBase64(uncompressed).replace("=","$").replace("/","-")},decompressFromEncodedURIComponent:function(compressed){if(compressed){compressed=compressed.replace("$","=").replace("-","/")}return LZString.decompressFromBase64(compressed)},compress:function(uncompressed){if(uncompressed==null){return""}var i,value,context_dictionary={},context_dictionaryToCreate={},context_c="",context_wc="",context_w="",context_enlargeIn=2,context_dictSize=3,context_numBits=2,context_data_string="",context_data_val=0,context_data_position=0,ii,f=LZString._f;for(ii=0;ii<uncompressed.length;ii+=1){context_c=uncompressed.charAt(ii);if(!Object.prototype.hasOwnProperty.call(context_dictionary,context_c)){context_dictionary[context_c]=context_dictSize++;context_dictionaryToCreate[context_c]=true}context_wc=context_w+context_c;if(Object.prototype.hasOwnProperty.call(context_dictionary,context_wc)){context_w=context_wc}else{if(Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)){if(context_w.charCodeAt(0)<256){for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}}value=context_w.charCodeAt(0);for(i=0;i<8;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=value>>1}}else{value=1;for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1)|value;if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=0}value=context_w.charCodeAt(0);for(i=0;i<16;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=value>>1}}context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++}delete context_dictionaryToCreate[context_w]}else{value=context_dictionary[context_w];for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=value>>1}}context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++}context_dictionary[context_wc]=context_dictSize++;context_w=String(context_c)}}if(context_w!==""){if(Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)){if(context_w.charCodeAt(0)<256){for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}}value=context_w.charCodeAt(0);for(i=0;i<8;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=value>>1}}else{value=1;for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1)|value;if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=0}value=context_w.charCodeAt(0);for(i=0;i<16;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=value>>1}}context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++}delete context_dictionaryToCreate[context_w]}else{value=context_dictionary[context_w];for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=value>>1}}context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++}}value=2;for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=value>>1}while(true){context_data_val=(context_data_val<<1);if(context_data_position==15){context_data_string+=f(context_data_val);break}else{context_data_position++}}return context_data_string},decompress:function(compressed){if(compressed==null){return""}if(compressed==""){return null}var dictionary=[],next,enlargeIn=4,dictSize=4,numBits=3,entry="",result="",i,w,bits,resb,maxpower,power,c,f=LZString._f,data={string:compressed,val:compressed.charCodeAt(0),position:32768,index:1};for(i=0;i<3;i+=1){dictionary[i]=i}bits=0;maxpower=Math.pow(2,2);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=32768;data.val=data.string.charCodeAt(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}switch(next=bits){case 0:bits=0;maxpower=Math.pow(2,8);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=32768;data.val=data.string.charCodeAt(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}c=f(bits);break;case 1:bits=0;maxpower=Math.pow(2,16);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=32768;data.val=data.string.charCodeAt(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}c=f(bits);break;case 2:return""}dictionary[3]=c;w=result=c;while(true){if(data.index>data.string.length){return""}bits=0;maxpower=Math.pow(2,numBits);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=32768;data.val=data.string.charCodeAt(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}switch(c=bits){case 0:bits=0;maxpower=Math.pow(2,8);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=32768;data.val=data.string.charCodeAt(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}dictionary[dictSize++]=f(bits);c=dictSize-1;enlargeIn--;break;case 1:bits=0;maxpower=Math.pow(2,16);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=32768;data.val=data.string.charCodeAt(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}dictionary[dictSize++]=f(bits);c=dictSize-1;enlargeIn--;break;case 2:return result}if(enlargeIn==0){enlargeIn=Math.pow(2,numBits);numBits++}if(dictionary[c]){entry=dictionary[c]}else{if(c===dictSize){entry=w+w.charAt(0)}else{return null}}result+=entry;dictionary[dictSize++]=w+entry.charAt(0);enlargeIn--;w=entry;if(enlargeIn==0){enlargeIn=Math.pow(2,numBits);numBits++}}}};if(typeof module!=="undefined"&&module!=null){module.exports=LZString};';eval("var module = null;"+stringifiedLZString+"exports.LZString = LZString;");var TrackerUtils=function(){function a(){var a=new Date,c=Math.round(a.getTime()/1e3),d=UXUtils.getCookie(COOKIES.VISITOR),e=d?d.split("."):[],f={};return f.flag=d?"0":"1",f.id=e[0]||b(),f.creationTimestamp=e[1]||c,f.visitsCount=e[2]||0,f.hitTimestamp=e[3]||c,f.lastVisitTimestamp=e[4]||"",f}function b(){return l||(l=c()),l}function c(){var a=navigator.userAgent+navigator.language+navigator.platform,b=d(a).toString(16).slice(-4),c=(new Date).getTime();return"xxxxxxxx-hhhh-axxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=(c+16*Math.random())%16|0;return c=Math.floor(c/16),("x"===a?b:7&b|8).toString(16)}).replace("hhhh",b)}function d(a){for(var b=0,c=0;c<a.length;c++)b=a.charCodeAt(c)+(b<<6)+(b<<16)-b;return Math.abs(b)}function e(){return parseInt(a().visitsCount)}function f(){return parseInt(UXUtils.getCookie(COOKIES.SESSION))}function g(){m=1*new Date}function h(){return m}function i(){if(o>=n)throw Error("Impossible to renew session, [VISITOR] "+JSON2.stringify(UXUtils.getCookie(COOKIES.VISITOR)));null===UXUtils.getCookie(COOKIES.SESSION)&&(o++,window._uxa.push(["trackPageview"]))}function j(){var b=a(),c=b.id,d=b.creationTimestamp,e=(new Date).getTime(),g=Math.round(e/1e3),h=1,i=b.visitsCount,j=b.lastVisitTimestamp,l=UXUtils.getCookie(COOKIES.SESSION),m=options.lastTrackingDraw||1;l?(h=f(),h++):(i++,j=g),k(),UXUtils.setCookie(COOKIES.VISITOR,c+"."+d+"."+i+"."+g+"."+j+"."+m,options.domain,options.visitorCookieTimeout),UXUtils.setCookie(COOKIES.SESSION,h,options.domain,options.sessionCookieTimeout)}function k(){UXUtils.getCookie(COOKIES.VISITOR)&&(1===options.allowSubdomains?(UXUtils.deleteCookie(COOKIES.VISITOR,void 0),UXUtils.deleteCookie(COOKIES.SESSION,void 0)):(UXUtils.deleteCookie(COOKIES.VISITOR,UXUtils.getRootDomain()),UXUtils.deleteCookie(COOKIES.SESSION,UXUtils.getRootDomain())))}var l,m,n=5,o=0;return g(),{pageViewAlreadyTracked:!1,customVariableKeyMaximumLength:20,customVariableValueMaximumLength:255,getPageNumber:f,getSessionNumber:e,getVisitor:a,getPageViewTimeStamp:h,initPageViewTimeStamp:g,renewSessionIfNeeded:i,updateVisitorAndSessionCookies:j}}(),UXValidationSchema=function(){function a(a){return a}function b(a){return 0===a||1===a}function c(a){return"number"==typeof a&&!isNaN(a)}function d(a){return a===parseInt(a)}function e(a){return d(a)&&a>=0}function f(a){return d(a)&&a>=1}function g(a){return"string"==typeof a||a instanceof String}function h(a){return String(a).length>0&&g(a)}function i(a,b,c){return d(a)&&a>=b&&a<=c}function j(a){return i(a,0,9999999999)}function k(a){return"string"==typeof a}function l(a){return a instanceof Array}function m(a){return"object"==typeof a}function n(a){return void 0!==a}function o(a){return n(a)&&null!==a}function p(a){var b;for(b in a)return!1;return!0}function q(a){if(!a)return!0;for(var b in a){var c=parseInt(b),d=a[b],e=d[0],f=d[1];if(!i(c,1,20)||e.length>TrackerUtils.customVariableKeyMaximumLength||f.length>TrackerUtils.customVariableValueMaximumLength)return!1}return!0}function r(a){for(var b in a){var c=parseInt(b),d=a[b],e=d[0],f=d[1];(!i(c,1,20)||e.length>TrackerUtils.customVariableKeyMaximumLength||f.length>TrackerUtils.customVariableValueMaximumLength)&&delete a[b]}var g=p(a)?[]:a;return encodeURIComponent(JSON2.stringify(g))}function s(a){for(var b=0;b<a.length;b++){var e=a[b];if(!g(e.id)||!g(e.name)||!c(parseFloat(e.price))||!d(parseInt(e.quantity))||e.sku&&!g(e.sku)||e.category&&!g(e.category))return!1}return!0}function t(a){for(var b=a.length-1;b>=0;b--){var e=a[b];g(e.id)&&g(e.name)&&c(parseFloat(e.price))&&d(parseInt(e.quantity))&&(!e.sku||g(e.sku))&&(!e.category||g(e.category))||a.splice(b,1)}return encodeURIComponent(JSON2.stringify(a.length>0?a:[]))}function u(a){for(var b=0;b<a.length;b++)for(var c=a[b],e=0;e<c.length;e++)if(!d(c[e]))return!1;return!0}function v(a){for(var b=a.length-1;b>=0;b--)for(var c=a[b],e=0;e<c.length;e++)d(c[e])||a.splice(b,1);return encodeURIComponent(JSON2.stringify(a.length>0?a:[]))}function w(a){for(var b=0;b<a.length;b++){var c=a[b],f=c[0],g=c[1],h=c[2],j=c[3];if(!e(g)||d(h)&&!e(h)||d(j)&&!e(j)||!i(f,0,13))return!1}return!0}function x(a){return encodeURIComponent(UXAnalytics.LZString.compressToBase64(JSON2.stringify(a)))}function y(a,b,c){return"Invalid parameter for "+a+": "+b+"="+c}return{isString:g,isNotEmptyString:h,isObject:m,isDefined:n,isDefinedAndNotNull:o,CACHE_BUSTING:{getErrorMessage:y,getFormattedValue:a,paramName:"r",isValid:function(a){return e(parseInt(a))&&6===a.length},isValidType:g},HIT_DATE:{getErrorMessage:y,getFormattedValue:a,paramName:"hd",isValid:j,isValidType:j},LAST_HIT_DATE:{getErrorMessage:y,getFormattedValue:a,paramName:"lhd",isValid:j,isValidType:j},LAST_VISIT:{getErrorMessage:y,getFormattedValue:a,paramName:"lv",isValid:j,isValidType:j},PROJECT_ID:{getErrorMessage:y,getFormattedValue:a,paramName:"pid",isValid:f,isValidType:d},PAGE_NUMBER:{getErrorMessage:y,getFormattedValue:a,paramName:"pn",isValid:f,isValidType:d},RECORDING:{getErrorMessage:y,getFormattedValue:a,paramName:"re",isValid:b,isValidType:b},SESSION_NUMBER:{getErrorMessage:y,getFormattedValue:a,paramName:"sn",isValid:f,isValidType:d},USER_ID:{getErrorMessage:y,getFormattedValue:a,paramName:"uu",isValid:function(a){return new RegExp(/[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$/).test(a)},isValidType:g},DOM_COMPLETE:{getErrorMessage:y,getFormattedValue:a,paramName:"dc",isValid:e,isValidType:d},DOM_INTERACTIVE:{getErrorMessage:y,getFormattedValue:a,paramName:"di",isValid:e,isValidType:d},EVENT:{getErrorMessage:y,getFormattedValue:x,paramName:"e",isValid:w,isValidType:l},FULLY_LOADED:{getErrorMessage:y,getFormattedValue:a,paramName:"fl",isValid:e,isValidType:d},SCROLL_RATE:{getErrorMessage:y,getFormattedValue:a,paramName:"sr",isValid:function(a){return i(parseInt(a),0,100)},isValidType:d},START_RENDER:{getErrorMessage:y,getFormattedValue:a,paramName:"str",isValid:e,isValidType:d},PAGE_URL:{getErrorMessage:y,getFormattedValue:encodeURIComponent,paramName:"url",isValid:k,isValidType:g},PAGE_CONTENT:{getErrorMessage:y,getFormattedValue:encodeURIComponent,paramName:"content",isValid:g,isValidType:g},CUSTOM_VAR_PAGE:{getErrorMessage:y,getFormattedValue:r,paramName:"cvarp",isValid:q,isValidType:m},CUSTOM_VAR_SESSION:{getErrorMessage:y,getFormattedValue:r,paramName:"cvars",isValid:q,isValidType:m},CUSTOM_VAR_USER:{getErrorMessage:y,getFormattedValue:r,paramName:"cvaru",isValid:q,isValidType:m},DOCUMENT_HEIGHT:{getErrorMessage:y,getFormattedValue:a,paramName:"dh",isValid:e,isValidType:d},DOCUMENT_WIDTH:{getErrorMessage:y,getFormattedValue:a,paramName:"dw",isValid:e,isValidType:d},LANGUAGE:{getErrorMessage:y,getFormattedValue:a,paramName:"la",isValid:g,isValidType:g},REFERRER:{getErrorMessage:y,getFormattedValue:encodeURIComponent,paramName:"dr",isValid:function(a){return!a||k(a)},isValidType:g},SCREEN_HEIGHT:{getErrorMessage:y,getFormattedValue:a,paramName:"sh",isValid:e,isValidType:d},SCREEN_WIDTH:{getErrorMessage:y,getFormattedValue:a,paramName:"sw",isValid:e,isValidType:d},URL:{getErrorMessage:y,getFormattedValue:encodeURIComponent,paramName:"url",isValid:k,isValidType:g},UXTESTING:{getErrorMessage:y,getFormattedValue:v,paramName:"uxt",isValid:u,isValidType:l},WINDOW_HEIGHT:{getErrorMessage:y,getFormattedValue:a,paramName:"wh",isValid:e,isValidType:d},WINDOW_WIDTH:{getErrorMessage:y,getFormattedValue:a,paramName:"ww",isValid:e,isValidType:d},ITEMS:{getErrorMessage:y,getFormattedValue:t,paramName:"items",isValid:s,isValidType:l},REVENUE:{getErrorMessage:y,getFormattedValue:a,paramName:"revenue",isValid:c,isValidType:c},SHIPPING:{getErrorMessage:y,getFormattedValue:a,paramName:"shipping",isValid:c,isValidType:c},TAX:{getErrorMessage:y,getFormattedValue:a,paramName:"tax",isValid:c,isValidType:c},TRANSACTION_ID:{getErrorMessage:y,getFormattedValue:encodeURIComponent,paramName:"id",isValid:h,isValidType:function(a){return"undefined"!==a&&h(a)}}}}(),CSStorage=function(){function a(a){var b=String(Math.random()).slice(2,8),c=[B,E,b,a].join(C);return H[b]={id:b,name:a},H[b][F]={},H[b][G]={},g(H[b],c)}function b(a){var b=[];for(var c in H){var d=H[c];if(d.name===a){var e=[B,E,c,a].join(C);b.push(g(d,e))}}return b}function c(a){localStorage.setItem(D,a)}function d(){return localStorage.getItem(D)}function e(){var a=d();if(!a)return c(I),!1;var b=a!==I;return b&&(I=a),b}function f(){return!1}function g(a,b){function c(b){return a[F][b]={},f(b)}function d(b){return a[G][b]=[],g(b)}function e(){return a.id}function f(c){var d=a[F][c],e=[b,F,c].join(C);return d?h(d,e):void 0}function g(c){var d=a[G][c],e=[b,G,c].join(C);return d?m(d,e):void 0}function i(){for(var b in a[F])f(b).deleteAll();for(var c in a[G])g(c).clear()}return{createMap:c,createQueue:d,getId:e,getMap:f,getQueue:g,empty:i}}function h(a,b){function c(c,d){w(a,c,d,b)}function d(a){for(var b in a)a.hasOwnProperty(b)&&c(b,a[b])}function e(b){return a[b]}function f(){var b={};for(var c in a)b[c]=a[c];return b}function g(c){y(a,c,b)}function h(){for(var b in a)g(b)}return{setItem:c,setItemsFromObject:d,getItem:e,getAll:f,deleteItem:g,deleteAll:h}}function i(a,b,c){a[b]=c}function j(a,b,c,d){localStorage.setItem(d+C+b,JSON2.stringify(c)),i(a,b,c)}function k(a,b){delete a[b]}function l(a,b,c){localStorage.removeItem(c+C+b),k(a,b)}function m(a,b){function c(c){x(a,c,b)}function d(){for(var b=[],c=0;c<a.length;c++)void 0!==a[c]&&b.push(a[c]);return b}function e(){return a.length}function f(){return z(a,b)}function g(){for(var b=a.length,c=0;c<b;c++)f()}return{push:c,getAll:d,length:e,pop:f,clear:g}}function n(a,b){a.push(b)}function o(a,b,c){var d=a.length;localStorage.setItem(c+C+d,JSON2.stringify(b)),n(a,b)}function p(a){return a.pop()}function q(a,b){var c=a.length-1;return localStorage.removeItem(b+C+c),p(a)}function r(a){return a[0]===B&&a[1]===E}function s(a,b){var c=b[2],d=b[3],e=b[4],f=b[5],g=b[6];t(c,d);var h=H[c];u(h,e,f);var i=h[e][f];i[g]=JSON2.parse(localStorage.getItem(a)),e===G&&Number(g)>i.maxIndex&&(i.maxIndex=Number(g))}function t(a,b){if(!H[a]){var c={id:a,name:b};c[F]={},c[G]={},H[a]=c}}function u(a,b,c){if(!a[b][c]){var d={};b===G&&(d.maxIndex=0),a[b][c]=d}}function v(){for(var a in H){var b=H[a];for(var c in b[G]){for(var d=b[G][c],e=[],f=d.maxIndex+1,g=0;g<f;g++)e.push(d[g]);b[G][c]=e}}}var w,x,y,z,A,B="CSStorageData",C=":",D=B+C+"timeStamp",E="stores",F="maps",G="queues",H={},I=""+(new Date).getTime();return function(){var a="CSLocalStorageTest";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(a){return!1}}()?(!function(){for(var a=localStorage.length,b=0;b<a;b++){var c=localStorage.key(b),d=c.split(C);r(d)&&s(c,d)}v()}(),c(I),w=j,x=o,y=l,z=q,A=e):(w=i,x=n,y=k,z=p,A=f),{createStore:a,getAllStoresByName:b,hasBeenRecovered:A}}(window),CSIo=function(){function generatePixel(a){var b=new Image(1,1);b.onload=doNothingHandler,b.onerror=doNothingHandler,b.src="https://"+options.trackerDomain+a}function sendRequest(a,b){var c=new Date;generatePixel("/"+b+"?"+a),expireDateTime=c.getTime()+trackerPause}function doNothingHandler(){}function sendHtml(a){if(a||!1||TrackerUtils.pageViewAlreadyTracked&&!htmlSent&&startSend>stopSend){TrackerUtils.renewSessionIfNeeded(),htmlSent=!0;var b=UXBrowserUtils.getPageHtml();b=b.replace(/<!-- MousetestSensitiveStart ([\s\S]*?)-->([\s\S]*?)<!-- MousetestSensitiveEnd -->/g,"$1"),(1!==options.storeInputData||options.excludedAreas.length>0)&&(b=stripUserInputData(b));var c=getBaseParams();c.PAGE_URL=window.location.href,compressInWorker(b,function(a){CSLoader.tryToExecute("Send compressed HTML",function(){a&&(c.PAGE_CONTENT=a,sendValidRequest(c,"page"))})()})}}function compressInWorker(html,callback){function workerScript(){self.addEventListener("message",function(e){var exports={};eval(e.data[1]+"exports.LZString = LZString;"),postMessage(exports.LZString.compressToBase64(e.data[0]))},!1)}var compressionWorker=createWorker("("+workerScript.toString()+")()");null!==compressionWorker&&(compressionWorker.onmessage=function(a){callback(a.data)},compressionWorker.onerror=function(a){CSLoader.reportError(a.message)},compressionWorker.postMessage([html,stringifiedLZString]))}function createWorker(a){var b=window.URL||window.webkitURL,c=window.Blob,d=window.Worker;if(!b||!c||!d)return null;try{var e=new c([a])}catch(b){var f=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,g=new f;g.append(a);var e=g.getBlob()}try{var h=new d(b.createObjectURL(e))}catch(a){var h=null}return h}function stripUserInputData(a){return a=a.replace(/(<\s*input)([^>]*)(type\s*=\s*('|")\s*(?:email|file|hidden|number|password|search|tel|text)\s*\4)([^>]*)(value\s*=\s*'[^']*'|value\s*=\s*"[^"]*")/gim,"$1$2$3$5value=''"),a=a.replace(/(<\s*input)([^>]*)(value\s*=\s*'[^']*'|value\s*=\s*"[^"]*")([^>]*)(type\s*=\s*('|")\s*(?:email|file|hidden|number|password|search|tel|text)\s*\6)/gim,"$1$2value=''$4$5"),a=a.replace(/(<\s*textarea)([^>]*)>([^<]*)/gim,"$1$2>")}function getBaseParams(){var a=TrackerUtils.getVisitor();return{PROJECT_ID:options.projectId,CACHE_BUSTING:String(Math.random()).slice(2,8),USER_ID:a.id,PAGE_NUMBER:TrackerUtils.getPageNumber(),LAST_VISIT:parseInt(a.lastVisitTimestamp),HIT_DATE:parseInt(a.hitTimestamp),LAST_HIT_DATE:parseInt(a.lastVisitTimestamp),SESSION_NUMBER:parseInt(a.visitsCount),RECORDING:Number(options.record)}}function getErrorMessagesForInvalidParams(a){var b=[];for(var c in a){var d=UXValidationSchema[c],e=a[c],f=d.paramName;d.isValidType(e)?d.isValid(e)||b.push(d.getErrorMessage(c,f,e)):b.push("Breaking TypeError: "+d.getErrorMessage(c,f,e))}return b}function generateRequest(a){var b=[];for(var c in a){var d=UXValidationSchema[c],e=a[c],f=d.paramName;b.push(f+"="+d.getFormattedValue(e))}return b.push(getVersionParam()),b.join("&")}function getVersionParam(){return UXA_VERSION_PARAM_NAME+"="+version}function sendValidRequest(a,b){if(null===UXUtils.getCookie(COOKIES.EXCLUDED)){var c=getErrorMessagesForInvalidParams(a);c.length>0&&CSLoader.reportError("["+b+"] "+c+" (cookies: "+stringifyCookies()+")");var d=generateRequest(a);"page"!==b?sendRequest(d,b):sendCrossBrowserAjaxRequest(d,"/page")}}function incrementStartSend(){startSend+=1}function incrementStopSend(){stopSend+=1}function sendCrossBrowserAjaxRequest(a,b){if(null!==window.XMLHttpRequest){var c=new XMLHttpRequest;c.open("POST","https://"+options.trackerDomain+b,!0),c.setRequestHeader("Access-Control-Expose-Headers","Content-compression"),c.setRequestHeader("Content-type","text/plain, charset=UTF-8"),c.setRequestHeader("Content-compression","LZString"),c.onreadystatechange=function(){},c.send(a)}}function stringifyCookies(){var a="";for(var b in COOKIES)Object.prototype.hasOwnProperty.call(COOKIES,b)&&(a+="["+b+"] "+JSON2.stringify(UXUtils.getCookie(COOKIES[b]))+"; ");return a}var UXA_VERSION_PARAM_NAME="v",expireDateTime,trackerPause=400,htmlSent=!1,stopSend=0,startSend=1;return{sendValidRequest:sendValidRequest,sendHtml:sendHtml,getBaseParams:getBaseParams,incrementStartSend:incrementStartSend,incrementStopSend:incrementStopSend}}(),CSEvents=function(){function a(){var a={};if(H.timing&&H.timing.loadEventEnd>0){var b=H.timing;a.FULLY_LOADED=b.loadEventEnd-b.requestStart,a.START_RENDER=b.domLoading-b.requestStart,a.DOM_COMPLETE=b.domComplete-b.requestStart,a.DOM_INTERACTIVE=b.domInteractive-b.requestStart}return a}function b(){if(c(),h(),E.bind("resize",h),F.bind("scroll",i),F.bind("mousemove",j),F.bind("mousedown",k),F.bind("mouseup",l),F.bind("click",m),!jQuery_cs.fn.delegate)return void CSLoader.reportError("[jQuery] Version is too old: "+jQuery_cs.fn.jquery);d()}function c(){for(var a=0;a<G.length;a++){var b=G[a];g(b.getQueue(D.EVENTS),b.getMap(D.EVENTS_META_DATA)),b.empty()}}function d(){F.delegate("a, input, select, textarea, button","mouseover",n),F.delegate("a, input, select, textarea, button","mouseout",o),1===options.storeInputData&&(F.delegate('input[type="text"], textarea',"keypress",p),F.delegate('input[type="text"], textarea',"keyup",q),F.delegate("input, select, textarea","change",r)),F.delegate("input, select, textarea","focus",s),F.delegate("input, select, textarea","blur",t),F.delegate("form","submit",u)}function e(a,b){TrackerUtils.renewSessionIfNeeded(),CSStorage.hasBeenRecovered()&&J.clear(),0===J.length()&&K.setItemsFromObject(CSIo.getBaseParams());var c=+new Date,d=[a,c-TrackerUtils.getPageViewTimeStamp()];"x"in b&&d.push(b.x),"y"in b&&d.push(b.y),"target"in b&&d.push(b.target),"value"in b&&d.push(b.value),J.push(d),J.length()>(options.record?A:B)&&f()}function f(){K.setItemsFromObject(a()),g(J,K),J.clear()}function g(a,b){if(a&&b){var c=b.getAll();c.EVENT=a.getAll(),c.SESSION_NUMBER&&c.PAGE_NUMBER&&c.EVENT.length>0&&CSIo.sendValidRequest(c,"events")}}function h(){CSLoader.tryToExecute("CSEvents.resizeHandler",function(){var a=UXBrowserUtils.getWindowSize();e(z.RESIZE,{x:a.windowWidth,y:a.windowHeight})})()}function i(){CSLoader.tryToExecute("CSEvents.scrollHandler",function(){options.record&&e(z.SCROLL,{x:F.scrollLeft(),y:F.scrollTop()}),v()})()}function j(a){CSLoader.tryToExecute("CSEvents.mouseMoveHandler",function(){options.record&&e(z.MOUSEMOVE,{x:a.pageX,y:a.pageY})})()}function k(a){CSLoader.tryToExecute("CSEvents.mouseDownHandler",function(){e(z.MOUSEDOWN,{x:a.pageX,y:a.pageY,target:y(a)})})()}function l(a){CSLoader.tryToExecute("CSEvents.mouseUpHandler",function(){e(z.MOUSEUP,{x:a.pageX,y:a.pageY,target:y(a)})})()}function m(a){CSLoader.tryToExecute("CSEvents.clickHandler",function(){e(z.CLICK,{x:a.pageX,y:a.pageY,target:y(a)})})()}function n(a){CSLoader.tryToExecute("CSEvents.mouseHoverHandler",function(){e(z.MOUSEHOVER,{x:a.pageX,y:a.pageY,target:y(a)})})()}function o(a){CSLoader.tryToExecute("CSEvents.mouseOutHandler",function(){e(z.MOUSEOUT,{x:a.pageX,y:a.pageY,target:y(a)})})()}function p(a){CSLoader.tryToExecute("CSEvents.keyPressHandler",function(){jQuery_cs(a.target).hasClass("cs-exclude")||e(z.KEYPRESS,{target:y(a),value:jQuery_cs(a.target).val()})})()}function q(a){CSLoader.tryToExecute("CSEvents.keyUpHandler",function(){jQuery_cs(a.target).hasClass("cs-exclude")||e(z.KEYUP,{target:y(a),value:jQuery_cs(a.target).val()})})()}function r(a){CSLoader.tryToExecute("CSEvents.changeHandler",function(){jQuery_cs(a.target).hasClass("cs-exclude")||"password"===a.target.type||e(z.CHANGE,{target:y(a),value:jQuery_cs(a.target).val()})})()}function s(a){CSLoader.tryToExecute("CSEvents.focusHandler",function(){e(z.FOCUS,{target:y(a)})})()}function t(a){CSLoader.tryToExecute("CSEvents.blurHandler",function(){e(z.BLUR,{target:y(a)})})()}function u(a){CSLoader.tryToExecute("CSEvents.submitHandler",function(){e(z.SUBMIT,{target:y(a)})})()}function v(){var a=F.height(),b=x(a),c=E.scrollTop(),d=c+b,e=Math.round(d/a*100);e>K.getItem(C)&&K.setItem(C,e)}function w(){var a=F.height(),b=x(a);K.setItem(C,Math.round(b/a*100))}function x(a){
for(var b=[E.height(),window.innerHeight,document.body.clientHeight,document.documentElement.clientHeight],c=0;c<b.length;c++){var d=b[c];if(d&&d<a)return d}return a}function y(a){return window.CSPathComputation.getElementPath(jQuery_cs(a.target))}var z={RESIZE:0,SCROLL:1,MOUSEMOVE:2,MOUSEDOWN:3,MOUSEUP:4,CLICK:5,MOUSEHOVER:6,MOUSEOUT:7,KEYPRESS:8,KEYUP:9,CHANGE:10,FOCUS:11,BLUR:12,SUBMIT:13},A=100,B=50,C="SCROLL_RATE",D={EVENTS_STORE:"eventsStore",EVENTS:"events",EVENTS_META_DATA:"eventsMetaData"},E=jQuery_cs(window),F=jQuery_cs(document),G=CSStorage.getAllStoresByName(D.EVENTS_STORE),H=UXBrowserUtils.windowPerformance.get(),I=CSStorage.createStore(D.EVENTS_STORE),J=I.createQueue(D.EVENTS),K=I.createMap(D.EVENTS_META_DATA);return K.setItem(C,0),{init:b,pushEvents:f,initMaxScrollRate:w}}(window),CSTransaction=function(){function a(a){d=a}function b(a){e.push(a)}function c(){TrackerUtils.renewSessionIfNeeded();var a=CSIo.getBaseParams();a.TRANSACTION_ID=d.id,a.REVENUE=parseFloat(d.revenue),isNaN(parseFloat(d.tax))||(a.TAX=parseFloat(d.tax)),isNaN(parseFloat(d.shipping))||(a.SHIPPING=parseFloat(d.shipping)),e&&(a.ITEMS=e),CSIo.sendValidRequest(a,"transaction")}var d={},e=[];return{addTransaction:a,addTransactionItem:b,send:c}}(),CSTracker=function(){function a(a){var b=UXBrowserUtils.getDocumentSize();return{width:b.documentWidth<a.windowWidth?a.windowWidth:b.documentWidth,height:b.documentHeight<a.windowHeight?a.windowHeight:b.documentHeight}}function b(a){options=jQuery_cs.extend({},options,a)}function c(a){options.projectId=a}function d(a){var b=UXUtils.getCookie(a);return null!==b&&(b=JSON2.parse(b),UXValidationSchema.isObject(b))?b:{}}function e(){C===!1&&(C=d(COOKIES.CUSTOM_VAR_SESSION))}function f(a){var b=jQuery_cs(a);return b.length>0&&b.each(function(){$(this).addClass("cs-exclude")}),!0}function g(){for(var a=0;a<options.excludedAreas.length;a++)f(options.excludedAreas[a])}function h(){TrackerUtils.pageViewAlreadyTracked||l(),F?CSEvents.initMaxScrollRate():G.push(function(){CSEvents.initMaxScrollRate()})}function i(a){CSEvents.pushEvents(),TrackerUtils.initPageViewTimeStamp(),j(a),l(),options.record&&CSIo.sendHtml(!0)}function j(a){UXValidationSchema.isDefined(a)&&(A=a)}function k(a,b){if(""===a)return b.href;var c="/"===a.substring(0,1)?a:"/"+a;return b.protocol+"//"+b.host+c+b.search}function l(){TrackerUtils.updateVisitorAndSessionCookies();var b=UXBrowserUtils.getWindowSize(),c=a(b),d=CSIo.getBaseParams();d.DOCUMENT_WIDTH=c.width,d.DOCUMENT_HEIGHT=c.height,d.LANGUAGE=window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage||window.navigator.systemLanguage||"unknown",d.REFERRER=H,d.SCREEN_WIDTH=screen.width,d.SCREEN_HEIGHT=screen.height,d.URL=k(A,window.location),d.WINDOW_WIDTH=b.windowWidth,d.WINDOW_HEIGHT=b.windowHeight,e();var f=C;for(var g in D)f[g]=D[g];JSON2.stringify(f).length>2&&(d.CUSTOM_VAR_SESSION=f,d.CUSTOM_VAR_USER=f,D&&JSON2.stringify(D).length>2&&(d.CUSTOM_VAR_PAGE=D)),B&&B.length>0&&(d.UXTESTING=B),CSIo.sendValidRequest(d,"pageview"),TrackerUtils.pageViewAlreadyTracked=!0}function m(){var a,b;b=arguments[0],a=Array.prototype.shift.call(b),z[a]&&z[a].apply(z,b)}function n(){if(!F){F=!0;for(var a=0;a<G.length;a++)G[a]()}return!0}function o(a){CSTransaction.addTransaction(a)}function p(a){CSTransaction.addTransactionItem(a)}function q(){CSTransaction.send()}function r(){CSIo.incrementStopSend()}function s(){CSIo.incrementStartSend(),options.record&&CSIo.sendHtml()}function t(a,d){c(a),b(d);for(var e=0;e<E.length;e++)m(E[e])}function u(a,b){B.push([a,b])}function v(){F?(g(),options.record&&CSIo.sendHtml(),CSEvents.init()):G.push(function(){g(),options.record&&CSIo.sendHtml(),CSEvents.init()})}function w(a,b,c,d){var f,g;a>0&&UXValidationSchema.isDefinedAndNotNull(b)&&UXValidationSchema.isDefinedAndNotNull(c)&&(b=UXValidationSchema.isString(b)?b:String(b),c=UXValidationSchema.isString(c)?c:String(c),f=[b.slice(0,TrackerUtils.customVariableKeyMaximumLength),c.slice(0,TrackerUtils.customVariableValueMaximumLength)],g=""!==c,UXValidationSchema.isDefined(d)&&"visit"!==d&&2!==d||(e(),g?C[a]=f:delete C[a],UXUtils.setCookie(COOKIES.CUSTOM_VAR_SESSION,JSON2.stringify(C),options.domain)),UXValidationSchema.isDefined(d)&&"page"!==d&&3!==d||(g?D[a]=f:delete D[a]))}function x(a){for(var b=0;b<a.length;b++)a[b]&&E.push(a[b])}function y(a,b){jQuery_cs.inArray(a,OVERRIDABLE_OPTIONS)>-1&&(options[a]=b)}var z,A="",B=[],C=!1,D={},E=[],F=!1,G=[],H=function(){var a=UXUtils.getCookie(COOKIES.REFERRER_SOURCE);return null!==a?(UXUtils.deleteCookie(COOKIES.REFERRER_SOURCE),a):UXUtils.getReferrer()}();return jQuery_cs(document).ready(CSLoader.tryToExecute("CSTracker.loadHandler",n)),z={"ecommerce:addTransaction":o,"ecommerce:addItem":p,"ecommerce:send":q,"page:asyncSendHtml":r,"page:sendHtml":s,create:t,sendPageView:h,trackPageview:i,trackUXT:u,record:v,setCustomVariable:w,setPath:j,initProjectLoadHandlers:x,setOption:y}};window._uxa||(window._uxa=window._uxa||[]);var tracker;return tracker=new CSTracker,tracker.initProjectLoadHandlers(window._uxa),window._uxa=new TrackerProxy,exports.getTracker=function(){return tracker},exports.getIo=function(){return CSIo},exports}var UXUtils=function(){"use strict";function a(){return Math.floor(1e4*Math.random())/100}function b(b){return a()>b}function c(b){return a()<b}function d(){return window.location}function e(){return navigator.userAgent}function f(a){var b=a.match(/(chrome|opera|firefox|msie|trident|AppleWebKit)\/?\s*(\d+)/i)||[];return{browser:b[1],version:b[2]}}function g(a,b,c,d,e,f){var g;if(d){if(isNaN(d))throw"Bad type given for msToExpire";g=new Date,g.setTime(g.getTime()+parseInt(d))}var h=a+"="+encodeURIComponent(b)+(d?";expires="+g.toGMTString():"")+";path="+(e||"/");return void 0!==c&&null!==c&&(h+=";domain="+c),h+=f?";secure":"",document.cookie=h,!0}function h(a,b){i(a)&&g(a,"",b,-1,"/")}function i(a){var b=new RegExp("(^|;)[ ]*"+a+"=([^;]*)"),c=b.exec(document.cookie);return c?decodeURIComponent(c[2]):null}function j(a){a=a||[];for(var b=[],c=0;c<a.length;c++)b.push(i(a[c]));return b}function k(a){return a?l():void 0}function l(){for(var a=d().hostname.split("."),b=a.pop(),c="_cs_"+(new Date).getTime();a.length&&null===i(c);)b=[a.pop(),b].join("."),g(c,c,b);return h(c,b),b}function m(a){var b=this.getWindowLocation().hash.match(new RegExp(a+"=([^&]*)"));return b?b[1]:null}function n(a){return this.getWindowLocation().hash.indexOf(a)>-1}function o(a){var b=document.createElement("script");b.type="text/javascript",b.src=a,document.head.appendChild(b)}function p(){var a="";try{a=window.top.document.referrer}catch(b){if(window.parent)try{a=window.parent.document.referrer}catch(b){a=""}}return""===a&&(a=document.referrer),a}function q(a,b,c,f){var g=new Image(1,1),h=(new Date).getTime();g.src="https://"+c+"?a="+a+"&d="+h+"&l="+b+"&s="+encodeURIComponent(f)+"&u="+encodeURIComponent(e())+"&p="+encodeURIComponent(d()),g.onload=function(){}}function r(a,b,c,d,e){e="function "+c+": "+s(d)+"\n"+e,q(a,u,b,e)}function s(a){return(a.message?a.message:a.toString())+" "+(a.stack?a.stack:a.toString())}function t(){return void 0!==window.jQuery?window.jQuery:void 0!==window.$&&void 0!==window.$.fn&&void 0!==window.$.fn.jquery?window.$:null}var u="ERROR";return{getRandomPercentage:a,randGtPercent:b,randLtPercent:c,getWindowLocation:d,getCookieDomain:k,getUserAgent:e,getBrowserInfo:f,setCookie:g,deleteCookie:h,getCookie:i,getCookies:j,getRootDomain:l,getParameterValue:m,urlHasParameter:n,addScriptToDocument:o,getReferrer:p,reportError:q,reportException:r,getErrorMessageAndStack:s,getJQueryInstance:t}}(),UXBrowserUtils=function(){"use strict";return{getWindowSize:function(){var a=document.documentElement,b=document.body,c=window;return{windowWidth:c.innerWidth?c.innerWidth:a&&a.clientWidth?a.clientWidth:b&&b.clientWidth?b.clientWidth:0,windowHeight:c.innerHeight?c.innerHeight:a&&a.clientHeight?a.clientHeight:b&&b.clientHeight?b.clientHeight:0}},getDocumentSize:function(){var a=document.body,b=window;return{documentWidth:a&&a.scrollWidth>a.offsetWidth?a.scrollWidth:a&&a.offsetWidth?a.offsetWidth:b.innerWidth&&b.scrollMaxX?b.innerWidth+b.scrollMaxX:0,documentHeight:a&&a.scrollHeight>a.offsetHeight?a.scrollHeight:a&&a.offsetHeight?a.offsetHeight:b.innerHeight&&b.scrollMaxY?b.innerHeight+b.scrollMaxY:0}},getDocumentEncoding:function(){return document.charset||document.characterSet||document.inputEncoding||document.defaultCharset||""},getPageReferrer:function(){return document.referrer||window.document.referrer||window.top.document.referrer||""},getPageTitle:function(){return document.title||window.document.title||""},getPageHtml:function(){var a=document.doctype||window.document.doctype,b="";return a&&(b="<!DOCTYPE "+a.name+(a.publicId?' PUBLIC "'+a.publicId+'"':"")+(!a.publicId&&a.systemId?" SYSTEM":"")+(a.systemId?' "'+a.systemId+'"':"")+">"),b+=document.documentElement.outerHTML||"<html>"+document.documentElement.innerHTML+"</html>"},windowPerformance:{get:function(){return window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{}},dnsLookupTime:function(){var a=this.get().timing;return a?a.domainLookupEnd-a.domainLookupStart:0},timeToStartLoading:function(){var a=this.get().timing;return a?a.responseStart-a.requestStart:0},pageDownloadTime:function(){var a=this.get().timing;return a?a.responseEnd-a.responseStart:0},contentLoadEventTime:function(){var a=this.get().timing;return a?a.domContentLoadedEventEnd-a.domContentLoadedEventStart:0},loadEventTime:function(){var a=this.get().timing;return a?a.loadEventEnd-a.loadEventStart:0},timeBeforeDomLoading:function(){var a=this.get().timing;return a?a.domLoading-a.navigationStart:0},timeBeforeDomInteractive:function(){var a=this.get().timing;return a?a.domInteractive-a.navigationStart:0},timeBeforeDomComplete:function(){var a=this.get().timing;return a?a.domComplete-a.navigationStart:0}}}}();"object"!=typeof JSON2&&(JSON2={}),function(){"use strict";function f(a){return a<10?"0"+a:a}function objectToJSON(a,b){var c=Object.prototype.toString.apply(a);return"[object Date]"===c?isFinite(a.valueOf())?a.getUTCFullYear()+"-"+f(a.getUTCMonth()+1)+"-"+f(a.getUTCDate())+"T"+f(a.getUTCHours())+":"+f(a.getUTCMinutes())+":"+f(a.getUTCSeconds())+"Z":null:"[object String]"===c||"[object Number]"===c||"[object Boolean]"===c?a.valueOf():"[object Array]"!==c&&"function"==typeof a.toJSON?a.toJSON(b):a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&(i=objectToJSON(i,a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;c<f;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;c<f;c+=1)"string"==typeof rep[c]&&(d=rep[c],(e=str(d,i))&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i))&&g.push(quote(d)+(gap?": ":":")+e);return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON2.stringify&&(JSON2.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;d<c;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON2.stringify");return str("",{"":a})}),"function"!=typeof JSON2.parse&&(JSON2.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),new RegExp("^[\\],:{}\\s]*$").test(text.replace(new RegExp('\\\\(?:["\\\\/bfnrt]|u[0-9a-fA-F]{4})',"g"),"@").replace(new RegExp('"[^"\\\\\n\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?',"g"),"]").replace(new RegExp("(?:^|:|,)(?:\\s*\\[)+","g"),"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON2.parse")})}();var CSFrameCommunication=CSFrameCommunication||function(){function a(){return window!=k&&window.addEventListener}function b(a){return a+"?cb="+(new Date).getTime()}function c(a){var b=document.createElement("script");b.type="text/javascript",b.async=!0;var c=j.replace(/^https?:/,"");b.src=c+"/"+l+"/"+a,document.getElementsByTagName("head")[0].appendChild(b)}function d(){e(m.ping)}function e(a){window.addEventListener("message",a,!1)}function f(a){window.removeEventListener("message",a,!1)}function g(a){return function(b){b.origin===j&&a(b)}}function h(a){j&&k.postMessage(a,j)}function i(a){return/http:\/\/([a-z]+-)?uxanalytics\.content-square\.fr/.test(a)}var j,k=window.opener||window.parent,l="tag",m={ping:function(a){"ping"===a.data&&i(a.origin)&&(j=a.origin,f(m.ping),e(m.insertMessageScript),c(b("utils.js")))},insertMessageScript:g(function(a){var b=a.data;"string"==typeof b&&"ping"!==b&&(f(m.insertMessageScript),c(b))})};return{isActivable:a,waitForConnection:d,listen:e,removeListener:f,secureListener:g,post:h}}(window);window.CSPathComputation=window.CSPathComputation||function(){function a(a){if(g=g||jQuery_cs(document),1!==a.length)throw"getElementPath called with zero or more than one elements";return b(a)}function b(a){if(!a.length||!a[0].localName)return"";var g=a[0],h=g.localName.toLowerCase(),i=g.getAttribute("id");if(i&&c(i)&&!d(g)&&!e(i))return h+"#"+i;var j=f(h),k=a.parent(),l=k.children(j).index(a),m=b(k);return(m?m+">":"")+h+":eq("+l+")"}function c(a){return 1===g.find('[id="'+a+'"]').length}function d(a){return a.hasAttribute("data-cs-dynamic-id")}function e(a){return a.match(/\d{4}/)}function f(a){return a.replace(/([#;&,.+*~\':"!^$[\]()=>|\/])/g,"\\$1")}var g;return{getElementPath:a}}(window);var OVERRIDABLE_OPTIONS=["trackerDomain","ed","storeInputData"];overrideOptions(),initJQuery();var DEFAULT_VALIDATION_RATE=10,STATUS_ACTIVE=1,APP_NAME="uxa",WARNING_LEVEL="WARNING",NB_MAX_ERRORS=5,reportedErrors=0,COOKIES={TEST:"_cs_t",CUSTOM_VAR_SESSION:"_cs_cvars",EXCLUDED:"_cs_ex",INCLUDED:"_cs_inc",RECORDED:"_cs_r",REFERRER_SOURCE:"uxt_referrer_source",SESSION:"_cs_s",VALIDATION:"_cs_v",VISITOR:"_cs_id"},CSLoader=CSLoader||{isAlreadyLoaded:!1,load:function(a){if(this.isLoadAllowed(a)){if(this.isActiveProject(a)){var b=this;CSLoader.tryToExecute("CSLoader.load",function(a){b.conf=a,b.setEnv(),b.initValidation(),b.isJQueryPresent()&&(b.initUXA(),b.executeLoad())})(a)}CSLoader.tryToExecute("Wait for frame connection",function(){CSFrameCommunication.isActivable()&&(window.CSFrameCommunication=CSFrameCommunication,CSFrameCommunication.waitForConnection())})(a)}},isLoadAllowed:function(a){return!this.isUXALoaded()&&this.areCookieEnabled()&&!this.isDocPrerendered()&&this.isConfValid(a)},isUXALoaded:function(){return this.isAlreadyLoaded||void 0!==window.UXAnalytics},areCookieEnabled:function(){return"cookie"in document&&(document.cookie.length>0||UXUtils.setCookie(COOKIES.TEST,1)&&document.cookie.indexOf(COOKIES.TEST)>-1)},isDocPrerendered:function(){return"visibilityState"in document&&"prerender"===document.visibilityState},isConfValid:function(a){return void 0!==a.projectId},isActiveProject:function(a){return 1===a.status},setEnv:function(){this.env=this.initEnvParameters(this.conf.allowSubdomains)},initEnvParameters:function(a){return{url:window.location.href,host:window.location.hostname,domain:UXUtils.getCookieDomain(a)}},initValidation:function(){if(!this.hasValidationCookie()){var a=void 0!==this.conf.validationRate?this.conf.validationRate:10;UXUtils.randLtPercent(a)?this.activateValidation(this.env.domain):this.excludeValidation(this.env.domain)}},isJQueryPresent:function(){return!!jQuery_cs||(CSLoader.reportError("[jQuery] is missing : jQuery_cs, jQuery, $ not found"),!1)},initUXA:function(){window.UXAnalytics=new UXA},executeLoad:function(){if(this.isAlreadyLoaded=!0,this.matchHostnames()&&!this.isExcluded()&&this.isIncluded()){var a=UXUtils.randLtPercent(this.conf.sampleRate);this.deletePreviousCookiesIfNeeded(a),!this.isExcludedUser()&&(100===this.conf.sampleRate||this.isReturningVisitor()||a)||this.isForcedIncludedUser()?(this.hasRecordingCookie()||(this.isForcedIncludedUser()||UXUtils.randLtPercent(this.conf.recordingRate)?this.recordUser(this.env.domain):this.excludeRecording(this.env.domain)),this.executeCommand("create",this.conf.projectId,{excludedAreas:this.getExcludedBlocks(),trackerDomain:this.conf.trackerDomain,allowSubdomains:this.conf.allowSubdomains,domain:this.env.domain,sampleRate:this.conf.sampleRate,storeInputData:this.conf.storeInputData,record:this.isRecorded(),visitorCookieTimeout:this.conf.visitorCookieTimeout,lastTrackingDraw:this.conf.lastTrackingDraw}),this.executeCommand("sendPageView"),this.executeCommand("record")):this.excludeUser(this.env.domain)}else window._uxa=[]},hasRecordingCookie:function(){return null!==UXUtils.getCookie(COOKIES.RECORDED)},recordUser:function(a){UXUtils.setCookie(COOKIES.RECORDED,"1",a)},excludeRecording:function(a){UXUtils.setCookie(COOKIES.RECORDED,"0",a)},isRecorded:function(){return"1"==UXUtils.getCookie(COOKIES.RECORDED)},hasValidationCookie:function(){return null!==UXUtils.getCookie(COOKIES.VALIDATION)},activateValidation:function(a){UXUtils.setCookie(COOKIES.VALIDATION,"1",a)},excludeValidation:function(a){UXUtils.setCookie(COOKIES.VALIDATION,"0",a)},isValidationActive:function(){return"1"==UXUtils.getCookie(COOKIES.VALIDATION)},deletePreviousCookiesIfNeeded:function(a){this.isLastDrawObsolete()&&(UXUtils.deleteCookie(COOKIES.EXCLUDED,this.env.domain),a||UXUtils.deleteCookie(COOKIES.VISITOR,this.env.domain))},excludeUser:function(a){UXUtils.setCookie(COOKIES.EXCLUDED,this.conf.lastTrackingDraw||"1",a,2592e6)},isReturningVisitor:function(){return null!==UXUtils.getCookie(COOKIES.VISITOR)},isExcludedUser:function(){return null!==UXUtils.getCookie(COOKIES.EXCLUDED)||window.location.href.indexOf(COOKIES.EXCLUDED)>0},isForcedIncludedUser:function(){return null!==UXUtils.getCookie(COOKIES.INCLUDED)||window.location.href.indexOf(COOKIES.INCLUDED)>0},isLastDrawObsolete:function(){if(this.conf.lastTrackingDraw){return(UXUtils.getCookie(COOKIES.EXCLUDED)||getInclusionTimeStamp())!==""+this.conf.lastTrackingDraw}return!1},executeCommand:function(){window._uxa.push(arguments)},isExcluded:function(){for(var a=0;a<this.conf.excludedPages.length;a++)if(this.matchUrl(this.conf.excludedPages[a].type,this.env.url,this.conf.excludedPages[a].url))return!0;return!1},matchHostnames:function(){for(var a=0;a<this.conf.hostnames.length;a++)if(this.env.host.indexOf(this.conf.hostnames[a])>=0)return!0;return!1},isIncluded:function(){if(0===this.conf.includedPages.length)return!0;for(var a=0;a<this.conf.includedPages.length;a++)if(this.matchUrl(this.conf.includedPages[a].type,this.env.url,this.conf.includedPages[a].url))return!0;return!1},getExcludedBlocks:function(){for(var a=[],b=0;b<this.conf.excludedBlocks.length;b++)this.matchUrl(this.conf.excludedBlocks[b].type,this.env.url,this.conf.excludedBlocks[b].url)&&a.push(this.conf.excludedBlocks[b].selectors);return a},matchUrl:function(a,b,c){return"simple"==a?this.matchSimple(b,c):"regex"==a&&this.matchRegex(b,c)},matchRegex:function(a,b){return m=RegExp(b,"gi"),!!m.test(a)},matchSimple:function(a,b){var c=a.indexOf("#");return c>0&&(a=a.substring(0,c)),"/"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),"/"==b.charAt(b.length-1)&&(b=b.substring(0,b.length-1)),a==b},reportError:function(a){this.isValidationActive()&&reportedErrors<5&&(a+="\n"+getUserInfo(),UXUtils.reportError("uxa","WARNING",CS_CONF.ed,a),reportedErrors++)},tryToExecute:function(a,b){return function(){try{return b.apply(this,arguments)}catch(b){try{CSLoader.isValidationActive()&&reportedErrors<5&&(UXUtils.reportException("uxa",CS_CONF.ed,a,b,getUserInfo()),reportedErrors++)}catch(a){}}}}},CS_CONF=CS_CONF||{};CSLoader.load(CS_CONF)}(CS_CONF);