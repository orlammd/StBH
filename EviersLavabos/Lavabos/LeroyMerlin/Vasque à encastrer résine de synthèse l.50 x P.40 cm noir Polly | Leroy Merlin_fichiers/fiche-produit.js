(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define(factory);}else if(typeof module=='object'&&module.exports){module.exports=factory();}else{window.matchesSelector=factory();}}(window,function factory(){'use strict';var matchesMethod=(function(){var ElemProto=window.Element.prototype;if(ElemProto.matches){return'matches';}
if(ElemProto.matchesSelector){return'matchesSelector';}
var prefixes=['webkit','moz','ms','o'];for(var i=0;i<prefixes.length;i++){var prefix=prefixes[i];var method=prefix+'MatchesSelector';if(ElemProto[method]){return method;}}})();return function matchesSelector(elem,selector){return elem[matchesMethod](selector);};}));},{}],2:[function(require,module,exports){(function(global,factory){if(typeof define=='function'&&define.amd){define(factory);}else if(typeof module=='object'&&module.exports){module.exports=factory();}else{global.EvEmitter=factory();}}(typeof window!='undefined'?window:this,function(){"use strict";function EvEmitter(){}
var proto=EvEmitter.prototype;proto.on=function(eventName,listener){if(!eventName||!listener){return;}
var events=this._events=this._events||{};var listeners=events[eventName]=events[eventName]||[];if(listeners.indexOf(listener)==-1){listeners.push(listener);}
return this;};proto.once=function(eventName,listener){if(!eventName||!listener){return;}
this.on(eventName,listener);var onceEvents=this._onceEvents=this._onceEvents||{};var onceListeners=onceEvents[eventName]=onceEvents[eventName]||{};onceListeners[listener]=true;return this;};proto.off=function(eventName,listener){var listeners=this._events&&this._events[eventName];if(!listeners||!listeners.length){return;}
var index=listeners.indexOf(listener);if(index!=-1){listeners.splice(index,1);}
return this;};proto.emitEvent=function(eventName,args){var listeners=this._events&&this._events[eventName];if(!listeners||!listeners.length){return;}
var i=0;var listener=listeners[i];args=args||[];var onceListeners=this._onceEvents&&this._onceEvents[eventName];while(listener){var isOnce=onceListeners&&onceListeners[listener];if(isOnce){this.off(eventName,listener);delete onceListeners[listener];}
listener.apply(this,args);i+=isOnce?0:1;listener=listeners[i];}
return this;};return EvEmitter;}));},{}],3:[function(require,module,exports){(function(window,factory){if(typeof define=='function'&&define.amd){define(['desandro-matches-selector/matches-selector'],function(matchesSelector){return factory(window,matchesSelector);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('desandro-matches-selector'));}else{window.fizzyUIUtils=factory(window,window.matchesSelector);}}(window,function factory(window,matchesSelector){'use strict';var utils={};utils.extend=function(a,b){for(var prop in b){a[prop]=b[prop];}
return a;};utils.modulo=function(num,div){return((num%div)+div)%div;};utils.makeArray=function(obj){var ary=[];if(Array.isArray(obj)){ary=obj;}else if(obj&&typeof obj=='object'&&typeof obj.length=='number'){for(var i=0;i<obj.length;i++){ary.push(obj[i]);}}else{ary.push(obj);}
return ary;};utils.removeFrom=function(ary,obj){var index=ary.indexOf(obj);if(index!=-1){ary.splice(index,1);}};utils.getParent=function(elem,selector){while(elem!=document.body){elem=elem.parentNode;if(matchesSelector(elem,selector)){return elem;}}};utils.getQueryElement=function(elem){if(typeof elem=='string'){return document.querySelector(elem);}
return elem;};utils.handleEvent=function(event){var method='on'+event.type;if(this[method]){this[method](event);}};utils.filterFindElements=function(elems,selector){elems=utils.makeArray(elems);var ffElems=[];elems.forEach(function(elem){if(!(elem instanceof HTMLElement)){return;}
if(!selector){ffElems.push(elem);return;}
if(matchesSelector(elem,selector)){ffElems.push(elem);}
var childElems=elem.querySelectorAll(selector);for(var i=0;i<childElems.length;i++){ffElems.push(childElems[i]);}});return ffElems;};utils.debounceMethod=function(_class,methodName,threshold){var method=_class.prototype[methodName];var timeoutName=methodName+'Timeout';_class.prototype[methodName]=function(){var timeout=this[timeoutName];if(timeout){clearTimeout(timeout);}
var args=arguments;var _this=this;this[timeoutName]=setTimeout(function(){method.apply(_this,args);delete _this[timeoutName];},threshold||100);};};utils.docReady=function(callback){var readyState=document.readyState;if(readyState=='complete'||readyState=='interactive'){setTimeout(callback);}else{document.addEventListener('DOMContentLoaded',callback);}};utils.toDashed=function(str){return str.replace(/(.)([A-Z])/g,function(match,$1,$2){return $1+'-'+$2;}).toLowerCase();};var console=window.console;utils.htmlInit=function(WidgetClass,namespace){utils.docReady(function(){var dashedNamespace=utils.toDashed(namespace);var dataAttr='data-'+dashedNamespace;var dataAttrElems=document.querySelectorAll('['+dataAttr+']');var jsDashElems=document.querySelectorAll('.js-'+dashedNamespace);var elems=utils.makeArray(dataAttrElems)
.concat(utils.makeArray(jsDashElems));var dataOptionsAttr=dataAttr+'-options';var jQuery=window.jQuery;elems.forEach(function(elem){var attr=elem.getAttribute(dataAttr)||elem.getAttribute(dataOptionsAttr);var options;try{options=attr&&JSON.parse(attr);}catch(error){if(console){console.error('Error parsing '+dataAttr+' on '+elem.className+
': '+error);}
return;}
var instance=new WidgetClass(elem,options);if(jQuery){jQuery.data(elem,namespace,instance);}});});};return utils;}));},{"desandro-matches-selector":1}],4:[function(require,module,exports){(function(window,factory){if(typeof define=='function'&&define.amd){define(['flickity/js/index','imagesloaded/imagesloaded'],function(Flickity,imagesLoaded){return factory(window,Flickity,imagesLoaded);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('flickity'),require('imagesloaded'));}else{window.Flickity=factory(window,window.Flickity,window.imagesLoaded);}}(window,function factory(window,Flickity,imagesLoaded){'use strict';Flickity.createMethods.push('_createImagesLoaded');var proto=Flickity.prototype;proto._createImagesLoaded=function(){this.on('activate',this.imagesLoaded);};proto.imagesLoaded=function(){if(!this.options.imagesLoaded){return;}
var _this=this;function onImagesLoadedProgress(instance,image){var cell=_this.getParentCell(image.img);_this.cellSizeChange(cell&&cell.element);if(!_this.options.freeScroll){_this.positionSliderAtSelected();}}
imagesLoaded(this.slider).on('progress',onImagesLoadedProgress);};return Flickity;}));},{"flickity":10,"imagesloaded":17}],5:[function(require,module,exports){(function(window,factory){if(typeof define=='function'&&define.amd){define(['./flickity','fizzy-ui-utils/utils'],function(Flickity,utils){return factory(window,Flickity,utils);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('./flickity'),require('fizzy-ui-utils'));}else{factory(window,window.Flickity,window.fizzyUIUtils);}}(window,function factory(window,Flickity,utils){'use strict';function getCellsFragment(cells){var fragment=document.createDocumentFragment();cells.forEach(function(cell){fragment.appendChild(cell.element);});return fragment;}
var proto=Flickity.prototype;proto.insert=function(elems,index){var cells=this._makeCells(elems);if(!cells||!cells.length){return;}
var len=this.cells.length;index=index===undefined?len:index;var fragment=getCellsFragment(cells);var isAppend=index==len;if(isAppend){this.slider.appendChild(fragment);}else{var insertCellElement=this.cells[index].element;this.slider.insertBefore(fragment,insertCellElement);}
if(index===0){this.cells=cells.concat(this.cells);}else if(isAppend){this.cells=this.cells.concat(cells);}else{var endCells=this.cells.splice(index,len-index);this.cells=this.cells.concat(cells).concat(endCells);}
this._sizeCells(cells);var selectedIndexDelta=index>this.selectedIndex?0:cells.length;this._cellAddedRemoved(index,selectedIndexDelta);};proto.append=function(elems){this.insert(elems,this.cells.length);};proto.prepend=function(elems){this.insert(elems,0);};proto.remove=function(elems){var cells=this.getCells(elems);var selectedIndexDelta=0;var len=cells.length;var i,cell;for(i=0;i<len;i++){cell=cells[i];var wasBefore=this.cells.indexOf(cell)<this.selectedIndex;selectedIndexDelta-=wasBefore?1:0;}
for(i=0;i<len;i++){cell=cells[i];cell.remove();utils.removeFrom(this.cells,cell);}
if(cells.length){this._cellAddedRemoved(0,selectedIndexDelta);}};proto._cellAddedRemoved=function(changedCellIndex,selectedIndexDelta){selectedIndexDelta=selectedIndexDelta||0;this.selectedIndex+=selectedIndexDelta;this.selectedIndex=Math.max(0,Math.min(this.slides.length-1,this.selectedIndex));this.cellChange(changedCellIndex,true);this.emitEvent('cellAddedRemoved',[changedCellIndex,selectedIndexDelta]);};proto.cellSizeChange=function(elem){var cell=this.getCell(elem);if(!cell){return;}
cell.getSize();var index=this.cells.indexOf(cell);this.cellChange(index);};proto.cellChange=function(changedCellIndex,isPositioningSlider){var prevSlideableWidth=this.slideableWidth;this._positionCells(changedCellIndex);this._getWrapShiftCells();this.setGallerySize();this.emitEvent('cellChange',[changedCellIndex]);if(this.options.freeScroll){var deltaX=prevSlideableWidth-this.slideableWidth;this.x+=deltaX*this.cellAlign;this.positionSlider();}else{if(isPositioningSlider){this.positionSliderAtSelected();}
this.select(this.selectedIndex);}};return Flickity;}));},{"./flickity":9,"fizzy-ui-utils":3}],6:[function(require,module,exports){(function(window,factory){if(typeof define=='function'&&define.amd){define(['fizzy-ui-utils/utils'],function(utils){return factory(window,utils);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('fizzy-ui-utils'));}else{window.Flickity=window.Flickity||{};window.Flickity.animatePrototype=factory(window,window.fizzyUIUtils);}}(window,function factory(window,utils){'use strict';var requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame;var lastTime=0;if(!requestAnimationFrame){requestAnimationFrame=function(callback){var currTime=new Date().getTime();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=setTimeout(callback,timeToCall);lastTime=currTime+timeToCall;return id;};}
var proto={};proto.startAnimation=function(){if(this.isAnimating){return;}
this.isAnimating=true;this.restingFrames=0;this.animate();};proto.animate=function(){this.applyDragForce();this.applySelectedAttraction();var previousX=this.x;this.integratePhysics();this.positionSlider();this.settle(previousX);if(this.isAnimating){var _this=this;requestAnimationFrame(function animateFrame(){_this.animate();});}};var transformProperty=(function(){var style=document.documentElement.style;if(typeof style.transform=='string'){return'transform';}
return'WebkitTransform';})();proto.positionSlider=function(){var x=this.x;if(this.options.wrapAround&&this.cells.length>1){x=utils.modulo(x,this.slideableWidth);x=x-this.slideableWidth;this.shiftWrapCells(x);}
x=x+this.cursorPosition;x=this.options.rightToLeft&&transformProperty?-x:x;var value=this.getPositionValue(x);this.slider.style[transformProperty]=this.isAnimating?'translate3d('+value+',0,0)':'translateX('+value+')';var firstSlide=this.slides[0];if(firstSlide){var positionX=-this.x-firstSlide.target;var progress=positionX/this.slidesWidth;this.dispatchEvent('scroll',null,[progress,positionX]);}};proto.positionSliderAtSelected=function(){if(!this.cells.length){return;}
this.x=-this.selectedSlide.target;this.positionSlider();};proto.getPositionValue=function(position){if(this.options.percentPosition){return(Math.round((position/this.size.innerWidth)*10000)*0.01)+'%';}else{return Math.round(position)+'px';}};proto.settle=function(previousX){if(!this.isPointerDown&&Math.round(this.x*100)==Math.round(previousX*100)){this.restingFrames++;}
if(this.restingFrames>2){this.isAnimating=false;delete this.isFreeScrolling;this.positionSlider();this.dispatchEvent('settle');}};proto.shiftWrapCells=function(x){var beforeGap=this.cursorPosition+x;this._shiftCells(this.beforeShiftCells,beforeGap,-1);var afterGap=this.size.innerWidth-(x+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,afterGap,1);};proto._shiftCells=function(cells,gap,shift){for(var i=0;i<cells.length;i++){var cell=cells[i];var cellShift=gap>0?shift:0;cell.wrapShift(cellShift);gap-=cell.size.outerWidth;}};proto._unshiftCells=function(cells){if(!cells||!cells.length){return;}
for(var i=0;i<cells.length;i++){cells[i].wrapShift(0);}};proto.integratePhysics=function(){this.x+=this.velocity;this.velocity*=this.getFrictionFactor();};proto.applyForce=function(force){this.velocity+=force;};proto.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?'freeScrollFriction':'friction'];};proto.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor());};proto.applyDragForce=function(){if(!this.isPointerDown){return;}
var dragVelocity=this.dragX-this.x;var dragForce=dragVelocity-this.velocity;this.applyForce(dragForce);};proto.applySelectedAttraction=function(){if(this.isPointerDown||this.isFreeScrolling||!this.cells.length){return;}
var distance=this.selectedSlide.target*-1-this.x;var force=distance*this.options.selectedAttraction;this.applyForce(force);};return proto;}));},{"fizzy-ui-utils":3}],7:[function(require,module,exports){(function(window,factory){if(typeof define=='function'&&define.amd){define(['get-size/get-size'],function(getSize){return factory(window,getSize);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('get-size'));}else{window.Flickity=window.Flickity||{};window.Flickity.Cell=factory(window,window.getSize);}}(window,function factory(window,getSize){'use strict';function Cell(elem,parent){this.element=elem;this.parent=parent;this.create();}
var proto=Cell.prototype;proto.create=function(){this.element.style.position='absolute';this.x=0;this.shift=0;};proto.destroy=function(){this.element.style.position='';var side=this.parent.originSide;this.element.style[side]='';};proto.getSize=function(){this.size=getSize(this.element);};proto.setPosition=function(x){this.x=x;this.updateTarget();this.renderPosition(x);};proto.updateTarget=proto.setDefaultTarget=function(){var marginProperty=this.parent.originSide=='left'?'marginLeft':'marginRight';this.target=this.x+this.size[marginProperty]+
this.size.width*this.parent.cellAlign;};proto.renderPosition=function(x){var side=this.parent.originSide;this.element.style[side]=this.parent.getPositionValue(x);};proto.wrapShift=function(shift){this.shift=shift;this.renderPosition(this.x+this.parent.slideableWidth*shift);};proto.remove=function(){this.element.parentNode.removeChild(this.element);};return Cell;}));},{"get-size":16}],8:[function(require,module,exports){(function(window,factory){if(typeof define=='function'&&define.amd){define(['./flickity','unidragger/unidragger','fizzy-ui-utils/utils'],function(Flickity,Unidragger,utils){return factory(window,Flickity,Unidragger,utils);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('./flickity'),require('unidragger'),require('fizzy-ui-utils'));}else{window.Flickity=factory(window,window.Flickity,window.Unidragger,window.fizzyUIUtils);}}(window,function factory(window,Flickity,Unidragger,utils){'use strict';utils.extend(Flickity.defaults,{draggable:true,dragThreshold:3,});Flickity.createMethods.push('_createDrag');var proto=Flickity.prototype;utils.extend(proto,Unidragger.prototype);var isTouch='createTouch' in document;var isTouchmoveScrollCanceled=false;proto._createDrag=function(){this.on('activate',this.bindDrag);this.on('uiChange',this._uiChangeDrag);this.on('childUIPointerDown',this._childUIPointerDownDrag);this.on('deactivate',this.unbindDrag);if(isTouch&&!isTouchmoveScrollCanceled){window.addEventListener('touchmove',function(){});isTouchmoveScrollCanceled=true;}};proto.bindDrag=function(){if(!this.options.draggable||this.isDragBound){return;}
this.element.classList.add('is-draggable');this.handles=[this.viewport];this.bindHandles();this.isDragBound=true;};proto.unbindDrag=function(){if(!this.isDragBound){return;}
this.element.classList.remove('is-draggable');this.unbindHandles();delete this.isDragBound;};proto._uiChangeDrag=function(){delete this.isFreeScrolling;};proto._childUIPointerDownDrag=function(event){event.preventDefault();this.pointerDownFocus(event);};var cursorNodes={TEXTAREA:true,INPUT:true,OPTION:true,};var clickTypes={radio:true,checkbox:true,button:true,submit:true,image:true,file:true,};proto.pointerDown=function(event,pointer){var isCursorInput=cursorNodes[event.target.nodeName]&&!clickTypes[event.target.type];if(isCursorInput){this.isPointerDown=false;delete this.pointerIdentifier;return;}
this._dragPointerDown(event,pointer);var focused=document.activeElement;if(focused&&focused.blur&&focused!=this.element&&focused!=document.body){focused.blur();}
this.pointerDownFocus(event);this.dragX=this.x;this.viewport.classList.add('is-pointer-down');this._bindPostStartEvents(event);this.pointerDownScroll=getScrollPosition();window.addEventListener('scroll',this);this.dispatchEvent('pointerDown',event,[pointer]);};var touchStartEvents={touchstart:true,MSPointerDown:true};var focusNodes={INPUT:true,SELECT:true};proto.pointerDownFocus=function(event){if(!this.options.accessibility||touchStartEvents[event.type]||focusNodes[event.target.nodeName]){return;}
var prevScrollY=window.pageYOffset;this.element.focus();if(window.pageYOffset!=prevScrollY){window.scrollTo(window.pageXOffset,prevScrollY);}};proto.canPreventDefaultOnPointerDown=function(event){var isTouchstart=event.type=='touchstart';var targetNodeName=event.target.nodeName;return!isTouchstart&&targetNodeName!='SELECT';};proto.hasDragStarted=function(moveVector){return Math.abs(moveVector.x)>this.options.dragThreshold;};proto.pointerUp=function(event,pointer){delete this.isTouchScrolling;this.viewport.classList.remove('is-pointer-down');this.dispatchEvent('pointerUp',event,[pointer]);this._dragPointerUp(event,pointer);};proto.pointerDone=function(){window.removeEventListener('scroll',this);delete this.pointerDownScroll;};proto.dragStart=function(event,pointer){this.dragStartPosition=this.x;this.startAnimation();window.removeEventListener('scroll',this);this.dispatchEvent('dragStart',event,[pointer]);};proto.pointerMove=function(event,pointer){var moveVector=this._dragPointerMove(event,pointer);this.dispatchEvent('pointerMove',event,[pointer,moveVector]);this._dragMove(event,pointer,moveVector);};proto.dragMove=function(event,pointer,moveVector){event.preventDefault();this.previousDragX=this.dragX;var direction=this.options.rightToLeft?-1:1;var dragX=this.dragStartPosition+moveVector.x*direction;if(!this.options.wrapAround&&this.slides.length){var originBound=Math.max(-this.slides[0].target,this.dragStartPosition);dragX=dragX>originBound?(dragX+originBound)*0.5:dragX;var endBound=Math.min(-this.getLastSlide().target,this.dragStartPosition);dragX=dragX<endBound?(dragX+endBound)*0.5:dragX;}
this.dragX=dragX;this.dragMoveTime=new Date();this.dispatchEvent('dragMove',event,[pointer,moveVector]);};proto.dragEnd=function(event,pointer){if(this.options.freeScroll){this.isFreeScrolling=true;}
var index=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var restingX=this.getRestingPosition();this.isFreeScrolling=-restingX>this.slides[0].target&&-restingX<this.getLastSlide().target;}else if(!this.options.freeScroll&&index==this.selectedIndex){index+=this.dragEndBoostSelect();}
delete this.previousDragX;this.isDragSelect=this.options.wrapAround;this.select(index);delete this.isDragSelect;this.dispatchEvent('dragEnd',event,[pointer]);};proto.dragEndRestingSelect=function(){var restingX=this.getRestingPosition();var distance=Math.abs(this.getSlideDistance(-restingX,this.selectedIndex));var positiveResting=this._getClosestResting(restingX,distance,1);var negativeResting=this._getClosestResting(restingX,distance,-1);var index=positiveResting.distance<negativeResting.distance?positiveResting.index:negativeResting.index;return index;};proto._getClosestResting=function(restingX,distance,increment){var index=this.selectedIndex;var minDistance=Infinity;var condition=this.options.contain&&!this.options.wrapAround?function(d,md){return d<=md;}:function(d,md){return d<md;};while(condition(distance,minDistance)){index+=increment;minDistance=distance;distance=this.getSlideDistance(-restingX,index);if(distance===null){break;}
distance=Math.abs(distance);}
return{distance:minDistance,index:index-increment};};proto.getSlideDistance=function(x,index){var len=this.slides.length;var isWrapAround=this.options.wrapAround&&len>1;var slideIndex=isWrapAround?utils.modulo(index,len):index;var slide=this.slides[slideIndex];if(!slide){return null;}
var wrap=isWrapAround?this.slideableWidth*Math.floor(index/len):0;return x-(slide.target+wrap);};proto.dragEndBoostSelect=function(){if(this.previousDragX===undefined||!this.dragMoveTime||new Date()-this.dragMoveTime>100){return 0;}
var distance=this.getSlideDistance(-this.dragX,this.selectedIndex);var delta=this.previousDragX-this.dragX;if(distance>0&&delta>0){return 1;}else if(distance<0&&delta<0){return-1;}
return 0;};proto.staticClick=function(event,pointer){var clickedCell=this.getParentCell(event.target);var cellElem=clickedCell&&clickedCell.element;var cellIndex=clickedCell&&this.cells.indexOf(clickedCell);this.dispatchEvent('staticClick',event,[pointer,cellElem,cellIndex]);};proto.onscroll=function(){var scroll=getScrollPosition();var scrollMoveX=this.pointerDownScroll.x-scroll.x;var scrollMoveY=this.pointerDownScroll.y-scroll.y;if(Math.abs(scrollMoveX)>3||Math.abs(scrollMoveY)>3){this._pointerDone();}};function getScrollPosition(){return{x:window.pageXOffset,y:window.pageYOffset};}
return Flickity;}));},{"./flickity":9,"fizzy-ui-utils":3,"unidragger":20}],9:[function(require,module,exports){(function(window,factory){if(typeof define=='function'&&define.amd){define(['ev-emitter/ev-emitter','get-size/get-size','fizzy-ui-utils/utils','./cell','./slide','./animate'],function(EvEmitter,getSize,utils,Cell,Slide,animatePrototype){return factory(window,EvEmitter,getSize,utils,Cell,Slide,animatePrototype);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('ev-emitter'),require('get-size'),require('fizzy-ui-utils'),require('./cell'),require('./slide'),require('./animate'));}else{var _Flickity=window.Flickity;window.Flickity=factory(window,window.EvEmitter,window.getSize,window.fizzyUIUtils,_Flickity.Cell,_Flickity.Slide,_Flickity.animatePrototype);}}(window,function factory(window,EvEmitter,getSize,utils,Cell,Slide,animatePrototype){'use strict';var jQuery=window.jQuery;var getComputedStyle=window.getComputedStyle;var console=window.console;function moveElements(elems,toElem){elems=utils.makeArray(elems);while(elems.length){toElem.appendChild(elems.shift());}}
var GUID=0;var instances={};function Flickity(element,options){var queryElement=utils.getQueryElement(element);if(!queryElement){if(console){console.error('Bad element for Flickity: '+(queryElement||element));}
return;}
this.element=queryElement;if(this.element.flickityGUID){var instance=instances[this.element.flickityGUID];instance.option(options);return instance;}
if(jQuery){this.$element=jQuery(this.element);}
this.options=utils.extend({},this.constructor.defaults);this.option(options);this._create();}
Flickity.defaults={accessibility:true,cellAlign:'center',freeScrollFriction:0.075,friction:0.28,namespaceJQueryEvents:true,percentPosition:true,resize:true,selectedAttraction:0.025,setGallerySize:true};Flickity.createMethods=[];var proto=Flickity.prototype;utils.extend(proto,EvEmitter.prototype);proto._create=function(){var id=this.guid=++GUID;this.element.flickityGUID=id;instances[id]=this;this.selectedIndex=0;this.restingFrames=0;this.x=0;this.velocity=0;this.originSide=this.options.rightToLeft?'right':'left';this.viewport=document.createElement('div');this.viewport.className='flickity-viewport';this._createSlider();if(this.options.resize||this.options.watchCSS){window.addEventListener('resize',this);}
Flickity.createMethods.forEach(function(method){this[method]();},this);if(this.options.watchCSS){this.watchCSS();}else{this.activate();}};proto.option=function(opts){utils.extend(this.options,opts);};proto.activate=function(){if(this.isActive){return;}
this.isActive=true;this.element.classList.add('flickity-enabled');if(this.options.rightToLeft){this.element.classList.add('flickity-rtl');}
this.getSize();var cellElems=this._filterFindCellElements(this.element.children);moveElements(cellElems,this.slider);this.viewport.appendChild(this.slider);this.element.appendChild(this.viewport);this.reloadCells();if(this.options.accessibility){this.element.tabIndex=0;this.element.addEventListener('keydown',this);}
this.emitEvent('activate');var index;var initialIndex=this.options.initialIndex;if(this.isInitActivated){index=this.selectedIndex;}else if(initialIndex!==undefined){index=this.cells[initialIndex]?initialIndex:0;}else{index=0;}
this.select(index,false,true);this.isInitActivated=true;};proto._createSlider=function(){var slider=document.createElement('div');slider.className='flickity-slider';slider.style[this.originSide]=0;this.slider=slider;};proto._filterFindCellElements=function(elems){return utils.filterFindElements(elems,this.options.cellSelector);};proto.reloadCells=function(){this.cells=this._makeCells(this.slider.children);this.positionCells();this._getWrapShiftCells();this.setGallerySize();};proto._makeCells=function(elems){var cellElems=this._filterFindCellElements(elems);var cells=cellElems.map(function(cellElem){return new Cell(cellElem,this);},this);return cells;};proto.getLastCell=function(){return this.cells[this.cells.length-1];};proto.getLastSlide=function(){return this.slides[this.slides.length-1];};proto.positionCells=function(){this._sizeCells(this.cells);this._positionCells(0);};proto._positionCells=function(index){index=index||0;this.maxCellHeight=index?this.maxCellHeight||0:0;var cellX=0;if(index>0){var startCell=this.cells[index-1];cellX=startCell.x+startCell.size.outerWidth;}
var len=this.cells.length;for(var i=index;i<len;i++){var cell=this.cells[i];cell.setPosition(cellX);cellX+=cell.size.outerWidth;this.maxCellHeight=Math.max(cell.size.outerHeight,this.maxCellHeight);}
this.slideableWidth=cellX;this.updateSlides();this._containSlides();this.slidesWidth=len?this.getLastSlide().target-this.slides[0].target:0;};proto._sizeCells=function(cells){cells.forEach(function(cell){cell.getSize();});};proto.updateSlides=function(){this.slides=[];if(!this.cells.length){return;}
var slide=new Slide(this);this.slides.push(slide);var isOriginLeft=this.originSide=='left';var nextMargin=isOriginLeft?'marginRight':'marginLeft';var canCellFit=this._getCanCellFit();this.cells.forEach(function(cell,i){if(!slide.cells.length){slide.addCell(cell);return;}
var slideWidth=(slide.outerWidth-slide.firstMargin)+
(cell.size.outerWidth-cell.size[nextMargin]);if(canCellFit.call(this,i,slideWidth)){slide.addCell(cell);}else{slide.updateTarget();slide=new Slide(this);this.slides.push(slide);slide.addCell(cell);}},this);slide.updateTarget();this.updateSelectedSlide();};proto._getCanCellFit=function(){var groupCells=this.options.groupCells;if(!groupCells){return function(){return false;};}else if(typeof groupCells=='number'){var number=parseInt(groupCells,10);return function(i){return(i%number)!==0;};}
var percentMatch=typeof groupCells=='string'&&groupCells.match(/^(\d+)%$/);var percent=percentMatch?parseInt(percentMatch[1],10)/100:1;return function(i,slideWidth){return slideWidth<=(this.size.innerWidth+1)*percent;};};proto._init=proto.reposition=function(){this.positionCells();this.positionSliderAtSelected();};proto.getSize=function(){this.size=getSize(this.element);this.setCellAlign();this.cursorPosition=this.size.innerWidth*this.cellAlign;};var cellAlignShorthands={center:{left:0.5,right:0.5},left:{left:0,right:1},right:{right:0,left:1}};proto.setCellAlign=function(){var shorthand=cellAlignShorthands[this.options.cellAlign];this.cellAlign=shorthand?shorthand[this.originSide]:this.options.cellAlign;};proto.setGallerySize=function(){if(this.options.setGallerySize){var height=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=height+'px';}};proto._getWrapShiftCells=function(){if(!this.options.wrapAround){return;}
this._unshiftCells(this.beforeShiftCells);this._unshiftCells(this.afterShiftCells);var gapX=this.cursorPosition;var cellIndex=this.cells.length-1;this.beforeShiftCells=this._getGapCells(gapX,cellIndex,-1);gapX=this.size.innerWidth-this.cursorPosition;this.afterShiftCells=this._getGapCells(gapX,0,1);};proto._getGapCells=function(gapX,cellIndex,increment){var cells=[];while(gapX>0){var cell=this.cells[cellIndex];if(!cell){break;}
cells.push(cell);cellIndex+=increment;gapX-=cell.size.outerWidth;}
return cells;};proto._containSlides=function(){if(!this.options.contain||this.options.wrapAround||!this.cells.length){return;}
var isRightToLeft=this.options.rightToLeft;var beginMargin=isRightToLeft?'marginRight':'marginLeft';var endMargin=isRightToLeft?'marginLeft':'marginRight';var contentWidth=this.slideableWidth-this.getLastCell().size[endMargin];var isContentSmaller=contentWidth<this.size.innerWidth;var beginBound=this.cursorPosition+this.cells[0].size[beginMargin];var endBound=contentWidth-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(slide){if(isContentSmaller){slide.target=contentWidth*this.cellAlign;}else{slide.target=Math.max(slide.target,beginBound);slide.target=Math.min(slide.target,endBound);}},this);};proto.dispatchEvent=function(type,event,args){var emitArgs=event?[event].concat(args):args;this.emitEvent(type,emitArgs);if(jQuery&&this.$element){type+=this.options.namespaceJQueryEvents?'.flickity':'';var $event=type;if(event){var jQEvent=jQuery.Event(event);jQEvent.type=type;$event=jQEvent;}
this.$element.trigger($event,args);}};proto.select=function(index,isWrap,isInstant){if(!this.isActive){return;}
index=parseInt(index,10);this._wrapSelect(index);if(this.options.wrapAround||isWrap){index=utils.modulo(index,this.slides.length);}
if(!this.slides[index]){return;}
this.selectedIndex=index;this.updateSelectedSlide();if(isInstant){this.positionSliderAtSelected();}else{this.startAnimation();}
if(this.options.adaptiveHeight){this.setGallerySize();}
this.dispatchEvent('select');this.dispatchEvent('cellSelect');};proto._wrapSelect=function(index){var len=this.slides.length;var isWrapping=this.options.wrapAround&&len>1;if(!isWrapping){return index;}
var wrapIndex=utils.modulo(index,len);var delta=Math.abs(wrapIndex-this.selectedIndex);var backWrapDelta=Math.abs((wrapIndex+len)-this.selectedIndex);var forewardWrapDelta=Math.abs((wrapIndex-len)-this.selectedIndex);if(!this.isDragSelect&&backWrapDelta<delta){index+=len;}else if(!this.isDragSelect&&forewardWrapDelta<delta){index-=len;}
if(index<0){this.x-=this.slideableWidth;}else if(index>=len){this.x+=this.slideableWidth;}};proto.previous=function(isWrap,isInstant){this.select(this.selectedIndex-1,isWrap,isInstant);};proto.next=function(isWrap,isInstant){this.select(this.selectedIndex+1,isWrap,isInstant);};proto.updateSelectedSlide=function(){var slide=this.slides[this.selectedIndex];if(!slide){return;}
this.unselectSelectedSlide();this.selectedSlide=slide;slide.select();this.selectedCells=slide.cells;this.selectedElements=slide.getCellElements();this.selectedCell=slide.cells[0];this.selectedElement=this.selectedElements[0];};proto.unselectSelectedSlide=function(){if(this.selectedSlide){this.selectedSlide.unselect();}};proto.selectCell=function(value,isWrap,isInstant){var cell;if(typeof value=='number'){cell=this.cells[value];}else{if(typeof value=='string'){value=this.element.querySelector(value);}
cell=this.getCell(value);}
for(var i=0;cell&&i<this.slides.length;i++){var slide=this.slides[i];var index=slide.cells.indexOf(cell);if(index!=-1){this.select(i,isWrap,isInstant);return;}}};proto.getCell=function(elem){for(var i=0;i<this.cells.length;i++){var cell=this.cells[i];if(cell.element==elem){return cell;}}};proto.getCells=function(elems){elems=utils.makeArray(elems);var cells=[];elems.forEach(function(elem){var cell=this.getCell(elem);if(cell){cells.push(cell);}},this);return cells;};proto.getCellElements=function(){return this.cells.map(function(cell){return cell.element;});};proto.getParentCell=function(elem){var cell=this.getCell(elem);if(cell){return cell;}
elem=utils.getParent(elem,'.flickity-slider > *');return this.getCell(elem);};proto.getAdjacentCellElements=function(adjCount,index){if(!adjCount){return this.selectedSlide.getCellElements();}
index=index===undefined?this.selectedIndex:index;var len=this.slides.length;if(1+(adjCount*2)>=len){return this.getCellElements();}
var cellElems=[];for(var i=index-adjCount;i<=index+adjCount;i++){var slideIndex=this.options.wrapAround?utils.modulo(i,len):i;var slide=this.slides[slideIndex];if(slide){cellElems=cellElems.concat(slide.getCellElements());}}
return cellElems;};proto.uiChange=function(){this.emitEvent('uiChange');};proto.childUIPointerDown=function(event){this.emitEvent('childUIPointerDown',[event]);};proto.onresize=function(){this.watchCSS();this.resize();};utils.debounceMethod(Flickity,'onresize',150);proto.resize=function(){if(!this.isActive){return;}
this.getSize();if(this.options.wrapAround){this.x=utils.modulo(this.x,this.slideableWidth);}
this.positionCells();this._getWrapShiftCells();this.setGallerySize();this.emitEvent('resize');var selectedElement=this.selectedElements&&this.selectedElements[0];this.selectCell(selectedElement,false,true);};proto.watchCSS=function(){var watchOption=this.options.watchCSS;if(!watchOption){return;}
var afterContent=getComputedStyle(this.element,':after').content;if(afterContent.indexOf('flickity')!=-1){this.activate();}else{this.deactivate();}};proto.onkeydown=function(event){if(!this.options.accessibility||(document.activeElement&&document.activeElement!=this.element)){return;}
if(event.keyCode==37){var leftMethod=this.options.rightToLeft?'next':'previous';this.uiChange();this[leftMethod]();}else if(event.keyCode==39){var rightMethod=this.options.rightToLeft?'previous':'next';this.uiChange();this[rightMethod]();}};proto.deactivate=function(){if(!this.isActive){return;}
this.element.classList.remove('flickity-enabled');this.element.classList.remove('flickity-rtl');this.cells.forEach(function(cell){cell.destroy();});this.unselectSelectedSlide();this.element.removeChild(this.viewport);moveElements(this.slider.children,this.element);if(this.options.accessibility){this.element.removeAttribute('tabIndex');this.element.removeEventListener('keydown',this);}
this.isActive=false;this.emitEvent('deactivate');};proto.destroy=function(){this.deactivate();window.removeEventListener('resize',this);this.emitEvent('destroy');if(jQuery&&this.$element){jQuery.removeData(this.element,'flickity');}
delete this.element.flickityGUID;delete instances[this.guid];};utils.extend(proto,animatePrototype);Flickity.data=function(elem){elem=utils.getQueryElement(elem);var id=elem&&elem.flickityGUID;return id&&instances[id];};utils.htmlInit(Flickity,'flickity');if(jQuery&&jQuery.bridget){jQuery.bridget('flickity',Flickity);}
Flickity.Cell=Cell;return Flickity;}));},{"./animate":6,"./cell":7,"./slide":15,"ev-emitter":2,"fizzy-ui-utils":3,"get-size":16}],10:[function(require,module,exports){/*!
 * Flickity v2.0.5
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * http://flickity.metafizzy.co
 * Copyright 2016 Metafizzy
 */
(function(window,factory){if(typeof define=='function'&&define.amd){define(['./flickity','./drag','./prev-next-button','./page-dots','./player','./add-remove-cell','./lazyload'],factory);}else if(typeof module=='object'&&module.exports){module.exports=factory(require('./flickity'),require('./drag'),require('./prev-next-button'),require('./page-dots'),require('./player'),require('./add-remove-cell'),require('./lazyload'));}})(window,function factory(Flickity){return Flickity;});},{"./add-remove-cell":5,"./drag":8,"./flickity":9,"./lazyload":11,"./page-dots":12,"./player":13,"./prev-next-button":14}],11:[function(require,module,exports){(function(window,factory){if(typeof define=='function'&&define.amd){define(['./flickity','fizzy-ui-utils/utils'],function(Flickity,utils){return factory(window,Flickity,utils);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('./flickity'),require('fizzy-ui-utils'));}else{factory(window,window.Flickity,window.fizzyUIUtils);}}(window,function factory(window,Flickity,utils){'use strict';Flickity.createMethods.push('_createLazyload');var proto=Flickity.prototype;proto._createLazyload=function(){this.on('select',this.lazyLoad);};proto.lazyLoad=function(){var lazyLoad=this.options.lazyLoad;if(!lazyLoad){return;}
var adjCount=typeof lazyLoad=='number'?lazyLoad:0;var cellElems=this.getAdjacentCellElements(adjCount);var lazyImages=[];cellElems.forEach(function(cellElem){var lazyCellImages=getCellLazyImages(cellElem);lazyImages=lazyImages.concat(lazyCellImages);});lazyImages.forEach(function(img){new LazyLoader(img,this);},this);};function getCellLazyImages(cellElem){if(cellElem.nodeName=='IMG'&&cellElem.getAttribute('data-flickity-lazyload')){return[cellElem];}
var imgs=cellElem.querySelectorAll('img[data-flickity-lazyload]');return utils.makeArray(imgs);}
function LazyLoader(img,flickity){this.img=img;this.flickity=flickity;this.load();}
LazyLoader.prototype.handleEvent=utils.handleEvent;LazyLoader.prototype.load=function(){this.img.addEventListener('load',this);this.img.addEventListener('error',this);this.img.src=this.img.getAttribute('data-flickity-lazyload');this.img.removeAttribute('data-flickity-lazyload');};LazyLoader.prototype.onload=function(event){this.complete(event,'flickity-lazyloaded');};LazyLoader.prototype.onerror=function(event){this.complete(event,'flickity-lazyerror');};LazyLoader.prototype.complete=function(event,className){this.img.removeEventListener('load',this);this.img.removeEventListener('error',this);var cell=this.flickity.getParentCell(this.img);var cellElem=cell&&cell.element;this.flickity.cellSizeChange(cellElem);this.img.classList.add(className);this.flickity.dispatchEvent('lazyLoad',event,cellElem);};Flickity.LazyLoader=LazyLoader;return Flickity;}));},{"./flickity":9,"fizzy-ui-utils":3}],12:[function(require,module,exports){(function(window,factory){if(typeof define=='function'&&define.amd){define(['./flickity','tap-listener/tap-listener','fizzy-ui-utils/utils'],function(Flickity,TapListener,utils){return factory(window,Flickity,TapListener,utils);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('./flickity'),require('tap-listener'),require('fizzy-ui-utils'));}else{factory(window,window.Flickity,window.TapListener,window.fizzyUIUtils);}}(window,function factory(window,Flickity,TapListener,utils){'use strict';function PageDots(parent){this.parent=parent;this._create();}
PageDots.prototype=new TapListener();PageDots.prototype._create=function(){this.holder=document.createElement('ol');this.holder.className='flickity-page-dots';this.dots=[];this.on('tap',this.onTap);this.on('pointerDown',this.parent.childUIPointerDown.bind(this.parent));};PageDots.prototype.activate=function(){this.setDots();this.bindTap(this.holder);this.parent.element.appendChild(this.holder);};PageDots.prototype.deactivate=function(){this.parent.element.removeChild(this.holder);TapListener.prototype.destroy.call(this);};PageDots.prototype.setDots=function(){var delta=this.parent.slides.length-this.dots.length;if(delta>0){this.addDots(delta);}else if(delta<0){this.removeDots(-delta);}};PageDots.prototype.addDots=function(count){var fragment=document.createDocumentFragment();var newDots=[];while(count){var dot=document.createElement('li');dot.className='dot';fragment.appendChild(dot);newDots.push(dot);count--;}
this.holder.appendChild(fragment);this.dots=this.dots.concat(newDots);};PageDots.prototype.removeDots=function(count){var removeDots=this.dots.splice(this.dots.length-count,count);removeDots.forEach(function(dot){this.holder.removeChild(dot);},this);};PageDots.prototype.updateSelected=function(){if(this.selectedDot){this.selectedDot.className='dot';}
if(!this.dots.length){return;}
this.selectedDot=this.dots[this.parent.selectedIndex];this.selectedDot.className='dot is-selected';};PageDots.prototype.onTap=function(event){var target=event.target;if(target.nodeName!='LI'){return;}
this.parent.uiChange();var index=this.dots.indexOf(target);this.parent.select(index);};PageDots.prototype.destroy=function(){this.deactivate();};Flickity.PageDots=PageDots;utils.extend(Flickity.defaults,{pageDots:true});Flickity.createMethods.push('_createPageDots');var proto=Flickity.prototype;proto._createPageDots=function(){if(!this.options.pageDots){return;}
this.pageDots=new PageDots(this);this.on('activate',this.activatePageDots);this.on('select',this.updateSelectedPageDots);this.on('cellChange',this.updatePageDots);this.on('resize',this.updatePageDots);this.on('deactivate',this.deactivatePageDots);};proto.activatePageDots=function(){this.pageDots.activate();};proto.updateSelectedPageDots=function(){this.pageDots.updateSelected();};proto.updatePageDots=function(){this.pageDots.setDots();};proto.deactivatePageDots=function(){this.pageDots.deactivate();};Flickity.PageDots=PageDots;return Flickity;}));},{"./flickity":9,"fizzy-ui-utils":3,"tap-listener":18}],13:[function(require,module,exports){(function(window,factory){if(typeof define=='function'&&define.amd){define(['ev-emitter/ev-emitter','fizzy-ui-utils/utils','./flickity'],function(EvEmitter,utils,Flickity){return factory(EvEmitter,utils,Flickity);});}else if(typeof module=='object'&&module.exports){module.exports=factory(require('ev-emitter'),require('fizzy-ui-utils'),require('./flickity'));}else{factory(window.EvEmitter,window.fizzyUIUtils,window.Flickity);}}(window,function factory(EvEmitter,utils,Flickity){'use strict';var hiddenProperty,visibilityEvent;if('hidden' in document){hiddenProperty='hidden';visibilityEvent='visibilitychange';}else if('webkitHidden' in document){hiddenProperty='webkitHidden';visibilityEvent='webkitvisibilitychange';}
function Player(parent){this.parent=parent;this.state='stopped';if(visibilityEvent){this.onVisibilityChange=function(){this.visibilityChange();}.bind(this);this.onVisibilityPlay=function(){this.visibilityPlay();}.bind(this);}}
Player.prototype=Object.create(EvEmitter.prototype);Player.prototype.play=function(){if(this.state=='playing'){return;}
var isPageHidden=document[hiddenProperty];if(visibilityEvent&&isPageHidden){document.addEventListener(visibilityEvent,this.onVisibilityPlay);return;}
this.state='playing';if(visibilityEvent){document.addEventListener(visibilityEvent,this.onVisibilityChange);}
this.tick();};Player.prototype.tick=function(){if(this.state!='playing'){return;}
var time=this.parent.options.autoPlay;time=typeof time=='number'?time:3000;var _this=this;this.clear();this.timeout=setTimeout(function(){_this.parent.next(true);_this.tick();},time);};Player.prototype.stop=function(){this.state='stopped';this.clear();if(visibilityEvent){document.removeEventListener(visibilityEvent,this.onVisibilityChange);}};Player.prototype.clear=function(){clearTimeout(this.timeout);};Player.prototype.pause=function(){if(this.state=='playing'){this.state='paused';this.clear();}};Player.prototype.unpause=function(){if(this.state=='paused'){this.play();}};Player.prototype.visibilityChange=function(){var isPageHidden=document[hiddenProperty];this[isPageHidden?'pause':'unpause']();};Player.prototype.visibilityPlay=function(){this.play();document.removeEventListener(visibilityEvent,this.onVisibilityPlay);};utils.extend(Flickity.defaults,{pauseAutoPlayOnHover:true});Flickity.createMethods.push('_createPlayer');var proto=Flickity.prototype;proto._createPlayer=function(){this.player=new Player(this);this.on('activate',this.activatePlayer);this.on('uiChange',this.stopPlayer);this.on('pointerDown',this.stopPlayer);this.on('deactivate',this.deactivatePlayer);};proto.activatePlayer=function(){if(!this.options.autoPlay){return;}
this.player.play();this.element.addEventListener('mouseenter',this);};proto.playPlayer=function(){this.player.play();};proto.stopPlayer=function(){this.player.stop();};proto.pausePlayer=function(){this.player.pause();};proto.unpausePlayer=function(){this.player.unpause();};proto.deactivatePlayer=function(){this.player.stop();this.element.removeEventListener('mouseenter',this);};proto.onmouseenter=function(){if(!this.options.pauseAutoPlayOnHover){return;}
this.player.pause();this.element.addEventListener('mouseleave',this);};proto.onmouseleave=function(){this.player.unpause();this.element.removeEventListener('mouseleave',this);};Flickity.Player=Player;return Flickity;}));},{"./flickity":9,"ev-emitter":2,"fizzy-ui-utils":3}],14:[function(require,module,exports){(function(window,factory){if(typeof define=='function'&&define.amd){define(['./flickity','tap-listener/tap-listener','fizzy-ui-utils/utils'],function(Flickity,TapListener,utils){return factory(window,Flickity,TapListener,utils);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('./flickity'),require('tap-listener'),require('fizzy-ui-utils'));}else{factory(window,window.Flickity,window.TapListener,window.fizzyUIUtils);}}(window,function factory(window,Flickity,TapListener,utils){'use strict';var svgURI='http://www.w3.org/2000/svg';function PrevNextButton(direction,parent){this.direction=direction;this.parent=parent;this._create();}
PrevNextButton.prototype=new TapListener();PrevNextButton.prototype._create=function(){this.isEnabled=true;this.isPrevious=this.direction==-1;var leftDirection=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==leftDirection;var element=this.element=document.createElement('button');element.className='flickity-prev-next-button';element.className+=this.isPrevious?' previous':' next';element.setAttribute('type','button');this.disable();element.setAttribute('aria-label',this.isPrevious?'previous':'next');var svg=this.createSVG();element.appendChild(svg);this.on('tap',this.onTap);this.parent.on('select',this.update.bind(this));this.on('pointerDown',this.parent.childUIPointerDown.bind(this.parent));};PrevNextButton.prototype.activate=function(){this.bindTap(this.element);this.element.addEventListener('click',this);this.parent.element.appendChild(this.element);};PrevNextButton.prototype.deactivate=function(){this.parent.element.removeChild(this.element);TapListener.prototype.destroy.call(this);this.element.removeEventListener('click',this);};PrevNextButton.prototype.createSVG=function(){var svg=document.createElementNS(svgURI,'svg');svg.setAttribute('viewBox','0 0 100 100');var path=document.createElementNS(svgURI,'path');var pathMovements=getArrowMovements(this.parent.options.arrowShape);path.setAttribute('d',pathMovements);path.setAttribute('class','arrow');if(!this.isLeft){path.setAttribute('transform','translate(100, 100) rotate(180) ');}
svg.appendChild(path);return svg;};function getArrowMovements(shape){if(typeof shape=='string'){return shape;}
return'M '+shape.x0+',50'+
' L '+shape.x1+','+(shape.y1+50)+
' L '+shape.x2+','+(shape.y2+50)+
' L '+shape.x3+',50 '+
' L '+shape.x2+','+(50-shape.y2)+
' L '+shape.x1+','+(50-shape.y1)+
' Z';}
PrevNextButton.prototype.onTap=function(){if(!this.isEnabled){return;}
this.parent.uiChange();var method=this.isPrevious?'previous':'next';this.parent[method]();};PrevNextButton.prototype.handleEvent=utils.handleEvent;PrevNextButton.prototype.onclick=function(){var focused=document.activeElement;if(focused&&focused==this.element){this.onTap();}};PrevNextButton.prototype.enable=function(){if(this.isEnabled){return;}
this.element.disabled=false;this.isEnabled=true;};PrevNextButton.prototype.disable=function(){if(!this.isEnabled){return;}
this.element.disabled=true;this.isEnabled=false;};PrevNextButton.prototype.update=function(){var slides=this.parent.slides;if(this.parent.options.wrapAround&&slides.length>1){this.enable();return;}
var lastIndex=slides.length?slides.length-1:0;var boundIndex=this.isPrevious?0:lastIndex;var method=this.parent.selectedIndex==boundIndex?'disable':'enable';this[method]();};PrevNextButton.prototype.destroy=function(){this.deactivate();};utils.extend(Flickity.defaults,{prevNextButtons:true,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}});Flickity.createMethods.push('_createPrevNextButtons');var proto=Flickity.prototype;proto._createPrevNextButtons=function(){if(!this.options.prevNextButtons){return;}
this.prevButton=new PrevNextButton(-1,this);this.nextButton=new PrevNextButton(1,this);this.on('activate',this.activatePrevNextButtons);};proto.activatePrevNextButtons=function(){this.prevButton.activate();this.nextButton.activate();this.on('deactivate',this.deactivatePrevNextButtons);};proto.deactivatePrevNextButtons=function(){this.prevButton.deactivate();this.nextButton.deactivate();this.off('deactivate',this.deactivatePrevNextButtons);};Flickity.PrevNextButton=PrevNextButton;return Flickity;}));},{"./flickity":9,"fizzy-ui-utils":3,"tap-listener":18}],15:[function(require,module,exports){(function(window,factory){if(typeof define=='function'&&define.amd){define(factory);}else if(typeof module=='object'&&module.exports){module.exports=factory();}else{window.Flickity=window.Flickity||{};window.Flickity.Slide=factory();}}(window,function factory(){'use strict';function Slide(parent){this.parent=parent;this.isOriginLeft=parent.originSide=='left';this.cells=[];this.outerWidth=0;this.height=0;}
var proto=Slide.prototype;proto.addCell=function(cell){this.cells.push(cell);this.outerWidth+=cell.size.outerWidth;this.height=Math.max(cell.size.outerHeight,this.height);if(this.cells.length==1){this.x=cell.x;var beginMargin=this.isOriginLeft?'marginLeft':'marginRight';this.firstMargin=cell.size[beginMargin];}};proto.updateTarget=function(){var endMargin=this.isOriginLeft?'marginRight':'marginLeft';var lastCell=this.getLastCell();var lastMargin=lastCell?lastCell.size[endMargin]:0;var slideWidth=this.outerWidth-(this.firstMargin+lastMargin);this.target=this.x+this.firstMargin+slideWidth*this.parent.cellAlign;};proto.getLastCell=function(){return this.cells[this.cells.length-1];};proto.select=function(){this.changeSelectedClass('add');};proto.unselect=function(){this.changeSelectedClass('remove');};proto.changeSelectedClass=function(method){this.cells.forEach(function(cell){cell.element.classList[method]('is-selected');});};proto.getCellElements=function(){return this.cells.map(function(cell){return cell.element;});};return Slide;}));},{}],16:[function(require,module,exports){(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define(function(){return factory();});}else if(typeof module=='object'&&module.exports){module.exports=factory();}else{window.getSize=factory();}})(window,function factory(){'use strict';function getStyleSize(value){var num=parseFloat(value);var isValid=value.indexOf('%')==-1&&!isNaN(num);return isValid&&num;}
function noop(){}
var logError=typeof console=='undefined'?noop:function(message){console.error(message);};var measurements=['paddingLeft','paddingRight','paddingTop','paddingBottom','marginLeft','marginRight','marginTop','marginBottom','borderLeftWidth','borderRightWidth','borderTopWidth','borderBottomWidth'];var measurementsLength=measurements.length;function getZeroSize(){var size={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var i=0;i<measurementsLength;i++){var measurement=measurements[i];size[measurement]=0;}
return size;}
function getStyle(elem){var style=getComputedStyle(elem);if(!style){logError('Style returned '+style+
'. Are you running this code in a hidden iframe on Firefox? '+
'See http://bit.ly/getsizebug1');}
return style;}
var isSetup=false;var isBoxSizeOuter;function setup(){if(isSetup){return;}
isSetup=true;var div=document.createElement('div');div.style.width='200px';div.style.padding='1px 2px 3px 4px';div.style.borderStyle='solid';div.style.borderWidth='1px 2px 3px 4px';div.style.boxSizing='border-box';var body=document.body||document.documentElement;body.appendChild(div);var style=getStyle(div);getSize.isBoxSizeOuter=isBoxSizeOuter=getStyleSize(style.width)==200;body.removeChild(div);}
function getSize(elem){setup();if(typeof elem=='string'){elem=document.querySelector(elem);}
if(!elem||typeof elem!='object'||!elem.nodeType){return;}
var style=getStyle(elem);if(style.display=='none'){return getZeroSize();}
var size={};size.width=elem.offsetWidth;size.height=elem.offsetHeight;var isBorderBox=size.isBorderBox=style.boxSizing=='border-box';for(var i=0;i<measurementsLength;i++){var measurement=measurements[i];var value=style[measurement];var num=parseFloat(value);size[measurement]=!isNaN(num)?num:0;}
var paddingWidth=size.paddingLeft+size.paddingRight;var paddingHeight=size.paddingTop+size.paddingBottom;var marginWidth=size.marginLeft+size.marginRight;var marginHeight=size.marginTop+size.marginBottom;var borderWidth=size.borderLeftWidth+size.borderRightWidth;var borderHeight=size.borderTopWidth+size.borderBottomWidth;var isBorderBoxSizeOuter=isBorderBox&&isBoxSizeOuter;var styleWidth=getStyleSize(style.width);if(styleWidth!==false){size.width=styleWidth+
(isBorderBoxSizeOuter?0:paddingWidth+borderWidth);}
var styleHeight=getStyleSize(style.height);if(styleHeight!==false){size.height=styleHeight+
(isBorderBoxSizeOuter?0:paddingHeight+borderHeight);}
size.innerWidth=size.width-(paddingWidth+borderWidth);size.innerHeight=size.height-(paddingHeight+borderHeight);size.outerWidth=size.width+marginWidth;size.outerHeight=size.height+marginHeight;return size;}
return getSize;});},{}],17:[function(require,module,exports){(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define(['ev-emitter/ev-emitter'],function(EvEmitter){return factory(window,EvEmitter);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('ev-emitter'));}else{window.imagesLoaded=factory(window,window.EvEmitter);}})(window,function factory(window,EvEmitter){'use strict';var $=window.jQuery;var console=window.console;function extend(a,b){for(var prop in b){a[prop]=b[prop];}
return a;}
function makeArray(obj){var ary=[];if(Array.isArray(obj)){ary=obj;}else if(typeof obj.length=='number'){for(var i=0;i<obj.length;i++){ary.push(obj[i]);}}else{ary.push(obj);}
return ary;}
function ImagesLoaded(elem,options,onAlways){if(!(this instanceof ImagesLoaded)){return new ImagesLoaded(elem,options,onAlways);}
if(typeof elem=='string'){elem=document.querySelectorAll(elem);}
this.elements=makeArray(elem);this.options=extend({},this.options);if(typeof options=='function'){onAlways=options;}else{extend(this.options,options);}
if(onAlways){this.on('always',onAlways);}
this.getImages();if($){this.jqDeferred=new $.Deferred();}
setTimeout(function(){this.check();}.bind(this));}
ImagesLoaded.prototype=Object.create(EvEmitter.prototype);ImagesLoaded.prototype.options={};ImagesLoaded.prototype.getImages=function(){this.images=[];this.elements.forEach(this.addElementImages,this);};ImagesLoaded.prototype.addElementImages=function(elem){if(elem.nodeName=='IMG'){this.addImage(elem);}
if(this.options.background===true){this.addElementBackgroundImages(elem);}
var nodeType=elem.nodeType;if(!nodeType||!elementNodeTypes[nodeType]){return;}
var childImgs=elem.querySelectorAll('img');for(var i=0;i<childImgs.length;i++){var img=childImgs[i];this.addImage(img);}
if(typeof this.options.background=='string'){var children=elem.querySelectorAll(this.options.background);for(i=0;i<children.length;i++){var child=children[i];this.addElementBackgroundImages(child);}}};var elementNodeTypes={1:true,9:true,11:true};ImagesLoaded.prototype.addElementBackgroundImages=function(elem){var style=getComputedStyle(elem);if(!style){return;}
var reURL=/url\((['"])?(.*?)\1\)/gi;var matches=reURL.exec(style.backgroundImage);while(matches!==null){var url=matches&&matches[2];if(url){this.addBackground(url,elem);}
matches=reURL.exec(style.backgroundImage);}};ImagesLoaded.prototype.addImage=function(img){var loadingImage=new LoadingImage(img);this.images.push(loadingImage);};ImagesLoaded.prototype.addBackground=function(url,elem){var background=new Background(url,elem);this.images.push(background);};ImagesLoaded.prototype.check=function(){var _this=this;this.progressedCount=0;this.hasAnyBroken=false;if(!this.images.length){this.complete();return;}
function onProgress(image,elem,message){setTimeout(function(){_this.progress(image,elem,message);});}
this.images.forEach(function(loadingImage){loadingImage.once('progress',onProgress);loadingImage.check();});};ImagesLoaded.prototype.progress=function(image,elem,message){this.progressedCount++;this.hasAnyBroken=this.hasAnyBroken||!image.isLoaded;this.emitEvent('progress',[this,image,elem]);if(this.jqDeferred&&this.jqDeferred.notify){this.jqDeferred.notify(this,image);}
if(this.progressedCount==this.images.length){this.complete();}
if(this.options.debug&&console){console.log('progress: '+message,image,elem);}};ImagesLoaded.prototype.complete=function(){var eventName=this.hasAnyBroken?'fail':'done';this.isComplete=true;this.emitEvent(eventName,[this]);this.emitEvent('always',[this]);if(this.jqDeferred){var jqMethod=this.hasAnyBroken?'reject':'resolve';this.jqDeferred[jqMethod](this);}};function LoadingImage(img){this.img=img;}
LoadingImage.prototype=Object.create(EvEmitter.prototype);LoadingImage.prototype.check=function(){var isComplete=this.getIsImageComplete();if(isComplete){this.confirm(this.img.naturalWidth!==0,'naturalWidth');return;}
this.proxyImage=new Image();this.proxyImage.addEventListener('load',this);this.proxyImage.addEventListener('error',this);this.img.addEventListener('load',this);this.img.addEventListener('error',this);this.proxyImage.src=this.img.src;};LoadingImage.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth!==undefined;};LoadingImage.prototype.confirm=function(isLoaded,message){this.isLoaded=isLoaded;this.emitEvent('progress',[this,this.img,message]);};LoadingImage.prototype.handleEvent=function(event){var method='on'+event.type;if(this[method]){this[method](event);}};LoadingImage.prototype.onload=function(){this.confirm(true,'onload');this.unbindEvents();};LoadingImage.prototype.onerror=function(){this.confirm(false,'onerror');this.unbindEvents();};LoadingImage.prototype.unbindEvents=function(){this.proxyImage.removeEventListener('load',this);this.proxyImage.removeEventListener('error',this);this.img.removeEventListener('load',this);this.img.removeEventListener('error',this);};function Background(url,element){this.url=url;this.element=element;this.img=new Image();}
Background.prototype=Object.create(LoadingImage.prototype);Background.prototype.check=function(){this.img.addEventListener('load',this);this.img.addEventListener('error',this);this.img.src=this.url;var isComplete=this.getIsImageComplete();if(isComplete){this.confirm(this.img.naturalWidth!==0,'naturalWidth');this.unbindEvents();}};Background.prototype.unbindEvents=function(){this.img.removeEventListener('load',this);this.img.removeEventListener('error',this);};Background.prototype.confirm=function(isLoaded,message){this.isLoaded=isLoaded;this.emitEvent('progress',[this,this.element,message]);};ImagesLoaded.makeJQueryPlugin=function(jQuery){jQuery=jQuery||window.jQuery;if(!jQuery){return;}
$=jQuery;$.fn.imagesLoaded=function(options,callback){var instance=new ImagesLoaded(this,options,callback);return instance.jqDeferred.promise($(this));};};ImagesLoaded.makeJQueryPlugin();return ImagesLoaded;});},{"ev-emitter":2}],18:[function(require,module,exports){(function(window,factory){if(typeof define=='function'&&define.amd){define(['unipointer/unipointer'],function(Unipointer){return factory(window,Unipointer);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('unipointer'));}else{window.TapListener=factory(window,window.Unipointer);}}(window,function factory(window,Unipointer){'use strict';function TapListener(elem){this.bindTap(elem);}
var proto=TapListener.prototype=Object.create(Unipointer.prototype);proto.bindTap=function(elem){if(!elem){return;}
this.unbindTap();this.tapElement=elem;this._bindStartEvent(elem,true);};proto.unbindTap=function(){if(!this.tapElement){return;}
this._bindStartEvent(this.tapElement,true);delete this.tapElement;};proto.pointerUp=function(event,pointer){if(this.isIgnoringMouseUp&&event.type=='mouseup'){return;}
var pointerPoint=Unipointer.getPointerPoint(pointer);var boundingRect=this.tapElement.getBoundingClientRect();var scrollX=window.pageXOffset;var scrollY=window.pageYOffset;var isInside=pointerPoint.x>=boundingRect.left+scrollX&&pointerPoint.x<=boundingRect.right+scrollX&&pointerPoint.y>=boundingRect.top+scrollY&&pointerPoint.y<=boundingRect.bottom+scrollY;if(isInside){this.emitEvent('tap',[event,pointer]);}
if(event.type!='mouseup'){this.isIgnoringMouseUp=true;var _this=this;setTimeout(function(){delete _this.isIgnoringMouseUp;},400);}};proto.destroy=function(){this.pointerDone();this.unbindTap();};return TapListener;}));},{"unipointer":21}],19:[function(require,module,exports){(function(window,factory){if(typeof define=='function'&&define.amd){define(['ev-emitter/ev-emitter'],function(EvEmitter){return factory(window,EvEmitter);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('ev-emitter'));}else{window.Unipointer=factory(window,window.EvEmitter);}}(window,function factory(window,EvEmitter){'use strict';function noop(){}
function Unipointer(){}
var proto=Unipointer.prototype=Object.create(EvEmitter.prototype);proto.bindStartEvent=function(elem){this._bindStartEvent(elem,true);};proto.unbindStartEvent=function(elem){this._bindStartEvent(elem,false);};proto._bindStartEvent=function(elem,isBind){isBind=isBind===undefined?true:!!isBind;var bindMethod=isBind?'addEventListener':'removeEventListener';if(window.navigator.pointerEnabled){elem[bindMethod]('pointerdown',this);}else if(window.navigator.msPointerEnabled){elem[bindMethod]('MSPointerDown',this);}else{elem[bindMethod]('mousedown',this);elem[bindMethod]('touchstart',this);}};proto.handleEvent=function(event){var method='on'+event.type;if(this[method]){this[method](event);}};proto.getTouch=function(touches){for(var i=0;i<touches.length;i++){var touch=touches[i];if(touch.identifier==this.pointerIdentifier){return touch;}}};proto.onmousedown=function(event){var button=event.button;if(button&&(button!==0&&button!==1)){return;}
this._pointerDown(event,event);};proto.ontouchstart=function(event){this._pointerDown(event,event.changedTouches[0]);};proto.onMSPointerDown=proto.onpointerdown=function(event){this._pointerDown(event,event);};proto._pointerDown=function(event,pointer){if(this.isPointerDown){return;}
this.isPointerDown=true;this.pointerIdentifier=pointer.pointerId!==undefined?pointer.pointerId:pointer.identifier;this.pointerDown(event,pointer);};proto.pointerDown=function(event,pointer){this._bindPostStartEvents(event);this.emitEvent('pointerDown',[event,pointer]);};var postStartEvents={mousedown:['mousemove','mouseup'],touchstart:['touchmove','touchend','touchcancel'],pointerdown:['pointermove','pointerup','pointercancel'],MSPointerDown:['MSPointerMove','MSPointerUp','MSPointerCancel']};proto._bindPostStartEvents=function(event){if(!event){return;}
var events=postStartEvents[event.type];events.forEach(function(eventName){window.addEventListener(eventName,this);},this);this._boundPointerEvents=events;};proto._unbindPostStartEvents=function(){if(!this._boundPointerEvents){return;}
this._boundPointerEvents.forEach(function(eventName){window.removeEventListener(eventName,this);},this);delete this._boundPointerEvents;};proto.onmousemove=function(event){this._pointerMove(event,event);};proto.onMSPointerMove=proto.onpointermove=function(event){if(event.pointerId==this.pointerIdentifier){this._pointerMove(event,event);}};proto.ontouchmove=function(event){var touch=this.getTouch(event.changedTouches);if(touch){this._pointerMove(event,touch);}};proto._pointerMove=function(event,pointer){this.pointerMove(event,pointer);};proto.pointerMove=function(event,pointer){this.emitEvent('pointerMove',[event,pointer]);};proto.onmouseup=function(event){this._pointerUp(event,event);};proto.onMSPointerUp=proto.onpointerup=function(event){if(event.pointerId==this.pointerIdentifier){this._pointerUp(event,event);}};proto.ontouchend=function(event){var touch=this.getTouch(event.changedTouches);if(touch){this._pointerUp(event,touch);}};proto._pointerUp=function(event,pointer){this._pointerDone();this.pointerUp(event,pointer);};proto.pointerUp=function(event,pointer){this.emitEvent('pointerUp',[event,pointer]);};proto._pointerDone=function(){this.isPointerDown=false;delete this.pointerIdentifier;this._unbindPostStartEvents();this.pointerDone();};proto.pointerDone=noop;proto.onMSPointerCancel=proto.onpointercancel=function(event){if(event.pointerId==this.pointerIdentifier){this._pointerCancel(event,event);}};proto.ontouchcancel=function(event){var touch=this.getTouch(event.changedTouches);if(touch){this._pointerCancel(event,touch);}};proto._pointerCancel=function(event,pointer){this._pointerDone();this.pointerCancel(event,pointer);};proto.pointerCancel=function(event,pointer){this.emitEvent('pointerCancel',[event,pointer]);};Unipointer.getPointerPoint=function(pointer){return{x:pointer.pageX,y:pointer.pageY};};return Unipointer;}));},{"ev-emitter":2}],20:[function(require,module,exports){(function(window,factory){if(typeof define=='function'&&define.amd){define(['unipointer/unipointer'],function(Unipointer){return factory(window,Unipointer);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('unipointer'));}else{window.Unidragger=factory(window,window.Unipointer);}}(window,function factory(window,Unipointer){'use strict';function noop(){}
function Unidragger(){}
var proto=Unidragger.prototype=Object.create(Unipointer.prototype);proto.bindHandles=function(){this._bindHandles(true);};proto.unbindHandles=function(){this._bindHandles(false);};var navigator=window.navigator;proto._bindHandles=function(isBind){isBind=isBind===undefined?true:!!isBind;var binderExtra;if(navigator.pointerEnabled){binderExtra=function(handle){handle.style.touchAction=isBind?'none':'';};}else if(navigator.msPointerEnabled){binderExtra=function(handle){handle.style.msTouchAction=isBind?'none':'';};}else{binderExtra=noop;}
var bindMethod=isBind?'addEventListener':'removeEventListener';for(var i=0;i<this.handles.length;i++){var handle=this.handles[i];this._bindStartEvent(handle,isBind);binderExtra(handle);handle[bindMethod]('click',this);}};proto.pointerDown=function(event,pointer){if(event.target.nodeName=='INPUT'&&event.target.type=='range'){this.isPointerDown=false;delete this.pointerIdentifier;return;}
this._dragPointerDown(event,pointer);var focused=document.activeElement;if(focused&&focused.blur){focused.blur();}
this._bindPostStartEvents(event);this.emitEvent('pointerDown',[event,pointer]);};proto._dragPointerDown=function(event,pointer){this.pointerDownPoint=Unipointer.getPointerPoint(pointer);var canPreventDefault=this.canPreventDefaultOnPointerDown(event,pointer);if(canPreventDefault){event.preventDefault();}};proto.canPreventDefaultOnPointerDown=function(event){return event.target.nodeName!='SELECT';};proto.pointerMove=function(event,pointer){var moveVector=this._dragPointerMove(event,pointer);this.emitEvent('pointerMove',[event,pointer,moveVector]);this._dragMove(event,pointer,moveVector);};proto._dragPointerMove=function(event,pointer){var movePoint=Unipointer.getPointerPoint(pointer);var moveVector={x:movePoint.x-this.pointerDownPoint.x,y:movePoint.y-this.pointerDownPoint.y};if(!this.isDragging&&this.hasDragStarted(moveVector)){this._dragStart(event,pointer);}
return moveVector;};proto.hasDragStarted=function(moveVector){return Math.abs(moveVector.x)>3||Math.abs(moveVector.y)>3;};proto.pointerUp=function(event,pointer){this.emitEvent('pointerUp',[event,pointer]);this._dragPointerUp(event,pointer);};proto._dragPointerUp=function(event,pointer){if(this.isDragging){this._dragEnd(event,pointer);}else{this._staticClick(event,pointer);}};proto._dragStart=function(event,pointer){this.isDragging=true;this.dragStartPoint=Unipointer.getPointerPoint(pointer);this.isPreventingClicks=true;this.dragStart(event,pointer);};proto.dragStart=function(event,pointer){this.emitEvent('dragStart',[event,pointer]);};proto._dragMove=function(event,pointer,moveVector){if(!this.isDragging){return;}
this.dragMove(event,pointer,moveVector);};proto.dragMove=function(event,pointer,moveVector){event.preventDefault();this.emitEvent('dragMove',[event,pointer,moveVector]);};proto._dragEnd=function(event,pointer){this.isDragging=false;setTimeout(function(){delete this.isPreventingClicks;}.bind(this));this.dragEnd(event,pointer);};proto.dragEnd=function(event,pointer){this.emitEvent('dragEnd',[event,pointer]);};proto.onclick=function(event){if(this.isPreventingClicks){event.preventDefault();}};proto._staticClick=function(event,pointer){if(this.isIgnoringMouseUp&&event.type=='mouseup'){return;}
var nodeName=event.target.nodeName;if(nodeName=='INPUT'||nodeName=='TEXTAREA'){event.target.focus();}
this.staticClick(event,pointer);if(event.type!='mouseup'){this.isIgnoringMouseUp=true;setTimeout(function(){delete this.isIgnoringMouseUp;}.bind(this),400);}};proto.staticClick=function(event,pointer){this.emitEvent('staticClick',[event,pointer]);};Unidragger.getPointerPoint=Unipointer.getPointerPoint;return Unidragger;}));},{"unipointer":19}],21:[function(require,module,exports){(function(window,factory){if(typeof define=='function'&&define.amd){define(['ev-emitter/ev-emitter'],function(EvEmitter){return factory(window,EvEmitter);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('ev-emitter'));}else{window.Unipointer=factory(window,window.EvEmitter);}}(window,function factory(window,EvEmitter){'use strict';function noop(){}
function Unipointer(){}
var proto=Unipointer.prototype=Object.create(EvEmitter.prototype);proto.bindStartEvent=function(elem){this._bindStartEvent(elem,true);};proto.unbindStartEvent=function(elem){this._bindStartEvent(elem,false);};proto._bindStartEvent=function(elem,isBind){isBind=isBind===undefined?true:!!isBind;var bindMethod=isBind?'addEventListener':'removeEventListener';if(window.PointerEvent){elem[bindMethod]('pointerdown',this);}else{elem[bindMethod]('mousedown',this);elem[bindMethod]('touchstart',this);}};proto.handleEvent=function(event){var method='on'+event.type;if(this[method]){this[method](event);}};proto.getTouch=function(touches){for(var i=0;i<touches.length;i++){var touch=touches[i];if(touch.identifier==this.pointerIdentifier){return touch;}}};proto.onmousedown=function(event){var button=event.button;if(button&&(button!==0&&button!==1)){return;}
this._pointerDown(event,event);};proto.ontouchstart=function(event){this._pointerDown(event,event.changedTouches[0]);};proto.onpointerdown=function(event){this._pointerDown(event,event);};proto._pointerDown=function(event,pointer){if(this.isPointerDown){return;}
this.isPointerDown=true;this.pointerIdentifier=pointer.pointerId!==undefined?pointer.pointerId:pointer.identifier;this.pointerDown(event,pointer);};proto.pointerDown=function(event,pointer){this._bindPostStartEvents(event);this.emitEvent('pointerDown',[event,pointer]);};var postStartEvents={mousedown:['mousemove','mouseup'],touchstart:['touchmove','touchend','touchcancel'],pointerdown:['pointermove','pointerup','pointercancel'],};proto._bindPostStartEvents=function(event){if(!event){return;}
var events=postStartEvents[event.type];events.forEach(function(eventName){window.addEventListener(eventName,this);},this);this._boundPointerEvents=events;};proto._unbindPostStartEvents=function(){if(!this._boundPointerEvents){return;}
this._boundPointerEvents.forEach(function(eventName){window.removeEventListener(eventName,this);},this);delete this._boundPointerEvents;};proto.onmousemove=function(event){this._pointerMove(event,event);};proto.onpointermove=function(event){if(event.pointerId==this.pointerIdentifier){this._pointerMove(event,event);}};proto.ontouchmove=function(event){var touch=this.getTouch(event.changedTouches);if(touch){this._pointerMove(event,touch);}};proto._pointerMove=function(event,pointer){this.pointerMove(event,pointer);};proto.pointerMove=function(event,pointer){this.emitEvent('pointerMove',[event,pointer]);};proto.onmouseup=function(event){this._pointerUp(event,event);};proto.onpointerup=function(event){if(event.pointerId==this.pointerIdentifier){this._pointerUp(event,event);}};proto.ontouchend=function(event){var touch=this.getTouch(event.changedTouches);if(touch){this._pointerUp(event,touch);}};proto._pointerUp=function(event,pointer){this._pointerDone();this.pointerUp(event,pointer);};proto.pointerUp=function(event,pointer){this.emitEvent('pointerUp',[event,pointer]);};proto._pointerDone=function(){this.isPointerDown=false;delete this.pointerIdentifier;this._unbindPostStartEvents();this.pointerDone();};proto.pointerDone=noop;proto.onpointercancel=function(event){if(event.pointerId==this.pointerIdentifier){this._pointerCancel(event,event);}};proto.ontouchcancel=function(event){var touch=this.getTouch(event.changedTouches);if(touch){this._pointerCancel(event,touch);}};proto._pointerCancel=function(event,pointer){this._pointerDone();this.pointerCancel(event,pointer);};proto.pointerCancel=function(event,pointer){this.emitEvent('pointerCancel',[event,pointer]);};Unipointer.getPointerPoint=function(pointer){return{x:pointer.pageX,y:pointer.pageY};};return Unipointer;}));},{"ev-emitter":2}],22:[function(require,module,exports){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};!function(a){var b=function b(){window.asyncWebshims||(window.asyncWebshims={cfg:[],ready:[]});},c=function c(){window.jQuery&&(a(jQuery),a=function a(){return window.webshims;});};window.webshims={setOptions:function setOptions(){b(),window.asyncWebshims.cfg.push(arguments);},ready:function ready(){b(),window.asyncWebshims.ready.push(arguments);},activeLang:function activeLang(a){b(),window.asyncWebshims.lang=a;},polyfill:function polyfill(a){b(),window.asyncWebshims.polyfill=a;},_curScript:function(){var a,b,c,d,e,f=document.currentScript;if(!f){try{throw new Error("");}catch(g){for(c=(g.sourceURL||g.stack||"").split("\n"),e=/(?:fil|htt|wid|abo|app|res)(.)+/i,b=0;b<c.length;b++){if(d=c[b].match(e)){c=d[0].replace(/[\:\s\(]+[\d\:\)\(\s]+$/,"");break;}}}for(a=document.scripts||document.getElementsByTagName("script"),b=0;b<a.length&&(!a[b].getAttribute("src")||(f=a[b],"interactive" !=a[b].readyState&&c!=a[b].src));b++){}}return f;}()},window.webshim=window.webshims,window.webshims.timer=setInterval(c,0),c(),"function"==typeof define&&define.amd&&define("polyfiller",["jquery"],a);}(function(a){"use strict";function b(a){return document.createElement(a);}var _c3,d,e=window.navigator,f=window.webshims,g="dom-support",h=a.event.special,i=a([]),j=window.asyncWebshims,k={},l=window.Object,m=function m(a){return a+"\n//# sourceURL="+this.url;},n=function n(a){return q.enhanceAuto||"auto" !=a?a:!1;},o={matchmedia:"matchMedia",xhr2:"filereader",promise:"es6",URL:"url"},p="capture" in b("input");clearInterval(f.timer),k.advancedObjectProperties=k.objectAccessor=k.ES5=!!("create" in l&&"seal" in l),!k.ES5||"toJSON" in Date.prototype||(k.ES5=!1),d=a.support.hrefNormalized===!1?f._curScript.getAttribute("src",4):f._curScript.src,d=d.split("?")[0].slice(0,d.lastIndexOf("/")+1)+"shims/",a.extend(f,{version:"1.15.6",cfg:{enhanceAuto:window.Audio&&(!window.matchMedia||matchMedia("(min-device-width: 721px)").matches),waitReady:!0,loadStyles:!0,wsdoc:document,wspopover:{appendTo:"auto",hideOnBlur:!0},ajax:{},loadScript:function loadScript(b,c){a.ajax(a.extend({},q.ajax,{url:b,success:c,dataType:"script",cache:!0,global:!1,dataFilter:m}));},basePath:d},support:k,bugs:{},modules:{},features:{},featureList:[],setOptions:function setOptions(b,c){"string"==typeof b&&arguments.length>1?q[b]=a.isPlainObject(c)?a.extend(!0,q[b]||{},c):c:"object"==(typeof b==="undefined"?"undefined":_typeof(b))&&a.extend(!0,q,b);},_getAutoEnhance:n,addPolyfill:function addPolyfill(b,c){c=c||{};var d=c.f||b;r[d]||(r[d]=[],f.featureList.push(d),q[d]={}),r[d].push(b),c.options=a.extend(q[d],c.options),y(b,c),c.methodNames&&a.each(c.methodNames,function(a,b){f.addMethodName(b);});},polyfill:function(){return function(a){a||(a=f.featureList),"string"==typeof a&&(a=a.split(" "));return f._polyfill(a);};}(),_polyfill:function _polyfill(b){var d,e,f=[];_c3.run||(d=-1!==a.inArray("forms-ext",b),_c3(),e=d&&!v["form-number-date-ui"].test()||!p&&-1!==a.inArray("mediacapture",b),d&&-1==a.inArray("forms",b)&&b.push("forms"),q.loadStyles&&w.loadCSS("styles/shim"+(e?"-ext":"")+".css")),q.waitReady&&(a.readyWait++,t(b,function(){a.ready(!0);})),a.each(b,function(a,b){return b=o[b]||b,r[b]?(b!==r[b][0]&&t(r[b],function(){s(b,!0);}),void(f=f.concat(r[b]))):void s(b,!0);}),x(f),a.each(b,function(a,b){var c=q[b];c&&("mediaelement"==b&&(c.replaceUI=n(c.replaceUI))&&c.plugins.unshift("mediacontrols"),c.plugins&&c.plugins.length&&x(q[b].plugins));});},reTest:function(){var b,c=function c(_c,d){var e=v[d],f=d+"Ready";!e||e.loaded||(e.test&&a.isFunction(e.test)?e.test([]):e.test)||(h[f]&&delete h[f],r[e.f],b.push(d));};return function(d){"string"==typeof d&&(d=d.split(" ")),b=[],a.each(d,c),x(b);};}(),isReady:function isReady(b,c){if(b+="Ready",c){if(h[b]&&h[b].add)return!0;h[b]=a.extend(h[b]||{},{add:function add(a){a.handler.call(this,b);}}),a(document).triggerHandler(b);}return!(!h[b]||!h[b].add)||!1;},ready:function ready(b,c){var d=arguments[2];if("string"==typeof b&&(b=b.split(" ")),d||(b=a.map(a.grep(b,function(a){return!s(a);}),function(a){return a+"Ready";})),!b.length)return void c(a,f,window,document);var e=b.shift(),g=function g(){t(b,c,!0);};a(document).one(e,g);},capturingEvents:function capturingEvents(b,c){document.addEventListener&&("string"==typeof b&&(b=[b]),a.each(b,function(b,d){var e=function e(b){return b=a.event.fix(b),c&&f.capturingEventPrevented&&f.capturingEventPrevented(b),a.event.dispatch.call(this,b);};h[d]=h[d]||{},h[d].setup||h[d].teardown||a.extend(h[d],{setup:function setup(){this.addEventListener(d,e,!0);},teardown:function teardown(){this.removeEventListener(d,e,!0);}});}));},register:function register(b,c){var d=v[b];if(!d)return void f.error("can't find module: "+b);d.loaded=!0;var e=function e(){c(a,f,window,document,void 0,d.options),s(b,!0);};d.d&&d.d.length?t(d.d,e):e();},c:{},loader:{addModule:function addModule(b,c){v[b]=c,c.name=c.name||b,c.c||(c.c=[]),a.each(c.c,function(a,c){f.c[c]||(f.c[c]=[]),f.c[c].push(b);});},loadList:function(){var b=[],c=function c(_c2,d){"string"==typeof d&&(d=[d]),a.merge(b,d),w.loadScript(_c2,!1,d);},d=function d(c,_d){if(s(c)||-1!=a.inArray(c,b))return!0;var e,f=v[c];return f?(e=f.test&&a.isFunction(f.test)?f.test(_d):f.test,e?(s(c,!0),!0):!1):!0;},e=function e(b,c){if(b.d&&b.d.length){var e=function e(b,_e){d(_e,c)||-1!=a.inArray(_e,c)||c.push(_e);};a.each(b.d,function(b,c){v[c]?v[c].loaded||e(b,c):r[c]&&(a.each(r[c],e),t(r[c],function(){s(c,!0);}));}),b.noAutoCallback||(b.noAutoCallback=!0);}};return function(g){var h,i,j,k,l=[],m=function m(d,e){return k=e,a.each(f.c[e],function(c,d){return-1==a.inArray(d,l)||-1!=a.inArray(d,b)?(k=!1,!1):void 0;}),k?(c("combos/"+k,f.c[k]),!1):void 0;};for(i=0;i<g.length;i++){h=v[g[i]],h&&!d(h.name,g)&&(h.css&&q.loadStyles&&w.loadCSS(h.css),h.loadInit&&h.loadInit(),e(h,g),h.loaded||l.push(h.name),h.loaded=!0);}for(i=0,j=l.length;j>i;i++){k=!1,h=l[i],-1==a.inArray(h,b)&&("noCombo" !=q.debug&&a.each(v[h].c,m),k||c(v[h].src||h,h));}};}(),makePath:function makePath(a){return-1!=a.indexOf("//")||0===a.indexOf("/")?a:(-1==a.indexOf(".")&&(a+=".js"),q.addCacheBuster&&(a+=q.addCacheBuster),q.basePath+a);},loadCSS:function(){var b,c={};return function(d){d=this.makePath(d),c[d]||(b=b||a("link, style")[0]||a("script")[0],c[d]=1,a('<link rel="stylesheet" />').insertBefore(b).attr({href:d}));};}(),loadScript:function(){var b={};return function(c,d,e,f){if(f||(c=w.makePath(c)),!b[c]){var g=function g(){d&&d(),e&&("string"==typeof e&&(e=e.split(" ")),a.each(e,function(a,b){v[b]&&(v[b].afterLoad&&v[b].afterLoad(),s(v[b].noAutoCallback?b+"FileLoaded":b,!0));}));};b[c]=1,q.loadScript(c,g,a.noop);}};}()}});var q=f.cfg,r=f.features,s=f.isReady,t=f.ready,u=f.addPolyfill,v=f.modules,w=f.loader,x=w.loadList,y=w.addModule,z=f.bugs,A=[],B={warn:1,error:1},C=a.fn,D=b("video");f.addMethodName=function(a){a=a.split(":");var b=a[1];1==a.length?(b=a[0],a=a[0]):a=a[0],C[a]=function(){return this.callProp(b,arguments);};},C.callProp=function(b,c){var d;return c||(c=[]),this.each(function(){var e=a.prop(this,b);if(e&&e.apply){if(d=e.apply(this,c),void 0!==d)return!1;}else f.warn(b+" is not a method of "+this);}),void 0!==d?d:this;},f.activeLang=function(){"language" in e||(e.language=e.browserLanguage||"");var b=a.attr(document.documentElement,"lang")||e.language;return t("webshimLocalization",function(){f.activeLang(b);}),function(a){if(a)if("string"==typeof a)b=a;else if("object"==(typeof a==="undefined"?"undefined":_typeof(a))){var c=arguments,d=this;t("webshimLocalization",function(){f.activeLang.apply(d,c);});}return b;};}(),f.errorLog=[],a.each(["log","error","warn","info"],function(a,b){f[b]=function(a){(B[b]&&q.debug!==!1||q.debug)&&(f.errorLog.push(a),window.console&&console.log&&console[console[b]?b:"log"](a));};}),function(){a.isDOMReady=a.isReady;var b=function b(){a.isDOMReady=!0,s("DOM",!0),setTimeout(function(){s("WINDOWLOAD",!0);},9999);};_c3=function c(){if(!_c3.run){if((q.debug||!("crossDomain" in q.ajax)&&location.protocol.indexOf("http"))&&(q.ajax.crossDomain=!0),!a.isDOMReady&&q.waitReady){var d=a.ready;a.ready=function(a){return a!==!0&&document.body&&b(),d.apply(this,arguments);},a.ready.promise=d.promise;}q.readyEvt?a(document).one(q.readyEvt,b):a(b);}_c3.run=!0;},a(window).on("load",function(){b(),setTimeout(function(){s("WINDOWLOAD",!0);},9);});var d=[],e=function e(){1==this.nodeType&&f.triggerDomUpdate(this);};a.extend(f,{addReady:function addReady(a){var b=function b(_b,c){f.ready("DOM",function(){a(_b,c);});};d.push(b),q.wsdoc&&b(q.wsdoc,i);},triggerDomUpdate:function triggerDomUpdate(b){if(!b||!b.nodeType)return void(b&&b.jquery&&b.each(function(){f.triggerDomUpdate(this);}));var c=b.nodeType;if(1==c||9==c){var e=b!==document?a(b):i;a.each(d,function(a,c){c(b,e);});}}}),C.clonePolyfill=C.clone,C.htmlPolyfill=function(b){if(!arguments.length)return a(this.clonePolyfill()).html();var c=C.html.call(this,b);return c===this&&a.isDOMReady&&this.each(e),c;},C.jProp=function(){return this.pushStack(a(C.prop.apply(this,arguments)||[]));},a.each(["after","before","append","prepend","replaceWith"],function(b,c){C[c+"Polyfill"]=function(b){return b=a(b),C[c].call(this,b),a.isDOMReady&&b.each(e),this;};}),a.each(["insertAfter","insertBefore","appendTo","prependTo","replaceAll"],function(b,c){C[c.replace(/[A-Z]/,function(a){return"Polyfill"+a;})]=function(){return C[c].apply(this,arguments),a.isDOMReady&&f.triggerDomUpdate(this),this;};}),C.updatePolyfill=function(){return a.isDOMReady&&f.triggerDomUpdate(this),this;},a.each(["getNativeElement","getShadowElement","getShadowFocusElement"],function(a,b){C[b]=function(){return this.pushStack(this);};});}(),l.create&&(f.objectCreate=function(b,c,d){var e=l.create(b);return d&&(e.options=a.extend(!0,{},e.options||{},d),d=e.options),e._create&&a.isFunction(e._create)&&e._create(d),e;}),y("swfmini",{test:function test(){return window.swfobject&&!window.swfmini&&(window.swfmini=window.swfobject),"swfmini" in window;},c:[16,7,2,8,1,12,23]}),v.swfmini.test(),y("sizzle",{test:a.expr.filters}),u("es5",{test:!(!k.ES5||!Function.prototype.bind),d:["sizzle"]}),u("dom-extend",{f:g,noAutoCallback:!0,d:["es5"],c:[16,7,2,15,30,3,8,4,9,10,25,31,34]}),b("picture"),u("picture",{test:"picturefill" in window||!!window.HTMLPictureElement||"respimage" in window,d:["matchMedia"],c:[18],loadInit:function loadInit(){s("picture",!0);}}),u("matchMedia",{test:!(!window.matchMedia||!matchMedia("all").addListener),c:[18]}),u("sticky",{test:-1!=(a(b("b")).attr("style","position: -webkit-sticky; position: sticky").css("position")||"").indexOf("sticky"),d:["es5","matchMedia"]}),u("es6",{test:!!(Math.imul&&Number.MIN_SAFE_INTEGER&&l.is&&window.Promise&&Promise.all),d:["es5"]}),u("geolocation",{test:"geolocation" in e,options:{destroyWrite:!0},c:[21]}),function(){u("canvas",{src:"excanvas",test:"getContext" in b("canvas"),options:{type:"flash"},noAutoCallback:!0,loadInit:function loadInit(){var a=this.options.type;!a||-1===a.indexOf("flash")||v.swfmini.test()&&!swfmini.hasFlashPlayerVersion("9.0.0")||(this.src="flash"==a?"FlashCanvas/flashcanvas":"FlashCanvasPro/flashcanvas");},methodNames:["getContext"],d:[g]});}();var E="getUserMedia" in e;u("usermedia-core",{f:"usermedia",test:E&&window.URL,d:["url",g]}),u("usermedia-shim",{f:"usermedia",test:!!(E||e.webkitGetUserMedia||e.mozGetUserMedia||e.msGetUserMedia),d:["url","mediaelement",g]}),u("mediacapture",{test:p,d:["swfmini","usermedia",g,"filereader","forms","canvas"]}),function(){var c,d,h="form-shim-extend",i="formvalidation",j="form-number-date-api",l=!1,m=!1,o=!1,p={},r=b("progress"),s=b("output"),_t=function t(){var d,f,g="1(",j=b("input");if(f=a('<fieldset><textarea required="" /></fieldset>')[0],k.inputtypes=p,a.each(["range","date","datetime-local","month","color","number"],function(a,b){j.setAttribute("type",b),p[b]=j.type==b&&(j.value=g)&&j.value!=g;}),k.datalist=!!("options" in b("datalist")&&window.HTMLDataListElement),k[i]="checkValidity" in j,k.fieldsetelements="elements" in f,k.fieldsetdisabled="disabled" in f){try{f.querySelector(":invalid")&&(f.disabled=!0,d=!f.querySelector(":invalid")&&f.querySelector(":disabled"));}catch(n){}k.fieldsetdisabled=!!d;}if(k[i]&&(m=!(k.fieldsetdisabled&&k.fieldsetelements&&"value" in r&&"value" in s),o=m&&/Android/i.test(e.userAgent),l=window.opera||z.bustedValidity||m||!k.datalist,!l&&p.number)){l=!0;try{j.type="number",j.value="",j.stepUp(),l="1" !=j.value;}catch(q){}}return z.bustedValidity=l,c=k[i]&&!l?"form-native-extend":h,_t=a.noop,!1;},w=function w(b){var c=!0;return b._types||(b._types=b.types.split(" ")),a.each(b._types,function(a,b){return b in p&&!p[b]?(c=!1,!1):void 0;}),c;};f.validationMessages=f.validityMessages={langSrc:"i18n/formcfg-",availableLangs:"ar ca cs el es fa fr he hi hu it ja lt nl no pl pt pt-BR pt-PT ru sv zh-CN zh-TW".split(" ")},f.formcfg=a.extend({},f.validationMessages),f.inputTypes={},u("form-core",{f:"forms",test:_t,d:["es5"],options:{placeholderType:"value",messagePopover:{},list:{popover:{constrainWidth:!0}},iVal:{sel:".ws-validate",handleBubble:"hide",recheckDelay:400}},methodNames:["setCustomValidity","checkValidity","setSelectionRange"],c:[16,7,2,8,1,15,30,3,31]}),d=q.forms,u("form-native-extend",{f:"forms",test:function test(b){return _t(),!k[i]||l||-1==a.inArray(j,b||[])||v[j].test();},d:["form-core",g,"form-message"],c:[6,5,14,29]}),u(h,{f:"forms",test:function test(){return _t(),k[i]&&!l;},d:["form-core",g,"sizzle"],c:[16,15,28]}),u(h+"2",{f:"forms",test:function test(){return _t(),k[i]&&!m;},d:[h],c:[27]}),u("form-message",{f:"forms",test:function test(a){return _t(),!(d.customMessages||!k[i]||l||!v[c].test(a));},d:[g],c:[16,7,15,30,3,8,4,14,28]}),u(j,{f:"forms-ext",options:{types:"date time range number"},test:function test(){_t();var a=!l;return a&&(a=w(this.options)),a;},methodNames:["stepUp","stepDown"],d:["forms",g],c:[6,5,17,14,28,29,33]}),y("range-ui",{options:{},noAutoCallback:!0,test:function test(){return!!C.rangeUI;},d:["es5"],c:[6,5,9,10,17,11]}),u("form-number-date-ui",{f:"forms-ext",test:function test(){var a=this.options;return a.replaceUI=n(a.replaceUI),_t(),!a.replaceUI&&o&&(a.replaceUI=!0),!a.replaceUI&&w(a);},d:["forms",g,j,"range-ui"],options:{widgets:{calculateWidth:!0,animate:!0}},c:[6,5,9,10,17,11]}),u("form-datalist",{f:"forms",test:function test(){return _t(),o&&(d.customDatalist=!0),k.datalist&&!d.fD;},d:["form-core",g],c:[16,7,6,2,9,15,30,31,28,33]});}();var F="FileReader" in window&&"FormData" in window;return u("filereader-xhr",{f:"filereader",test:F,d:[g,"swfmini"],c:[25,27]}),u("canvas-blob",{f:"filereader",methodNames:["toBlob"],test:!(F&&!b("canvas").toBlob)}),u("details",{test:"open" in b("details"),d:[g],options:{text:"Details"},c:[21,22]}),u("url",{test:function test(){var a=!1;try{a=new URL("b","http://a"),a=!(!a.searchParams||"http://a/b" !=a.href);}catch(b){}return a;},d:["es5"]}),function(){f.mediaelement={};var c=b("track");if(k.mediaelement="canPlayType" in D,k.texttrackapi="addTextTrack" in D,k.track="kind" in c,b("audio"),!(z.track=!k.texttrackapi))try{z.track=!("oncuechange" in D.addTextTrack("metadata"));}catch(d){}u("mediaelement-core",{f:"mediaelement",noAutoCallback:!0,options:{jme:{},plugins:[],vars:{},params:{},attrs:{},changeSWF:a.noop},methodNames:["play","pause","canPlayType","mediaLoad:load"],d:["swfmini"],c:[16,7,2,8,1,12,13,23]}),u("mediaelement-jaris",{f:"mediaelement",d:["mediaelement-core",g],test:function test(){var a=this.options;return!k.mediaelement||f.mediaelement.loadSwf?!1:(a.preferFlash&&!v.swfmini.test()&&(a.preferFlash=!1),!(a.preferFlash&&swfmini.hasFlashPlayerVersion("11.3")));},c:[21,25]}),u("track",{options:{positionDisplay:!0,override:z.track},test:function test(){var a=this.options;return a.override=n(a.override),!a.override&&!z.track;},d:["mediaelement",g],methodNames:["addTextTrack"],c:[21,12,13,22,34]}),y("jmebase",{src:"jme/base",c:[98,99,97]}),a.each([["mediacontrols",{c:[98,99],css:"jme/controls.css"}],["playlist",{c:[98,97]}],["alternate-media"]],function(b,c){y(c[0],a.extend({src:"jme/"+c[0],d:["jmebase"]},c[1]));}),y("track-ui",{d:["track",g]});}(),u("feature-dummy",{test:!0,loaded:!0,c:A}),f.$=a,a.webshims=f,a.webshim=webshim,f.callAsync=function(){f.callAsync=a.noop,j&&(j.cfg&&(j.cfg.length||(j.cfg=[[j.cfg]]),a.each(j.cfg,function(a,b){f.setOptions.apply(f,b);})),j.ready&&a.each(j.ready,function(a,b){f.ready.apply(f,b);}),j.lang&&f.activeLang(j.lang),"polyfill" in j&&f.polyfill(j.polyfill)),f.isReady("jquery",!0);},f.callAsync(),f;});},{}],23:[function(require,module,exports){'use strict';lm.ajax=require('./_submodules/_ajax.js');lm.layers=require('./_submodules/_layers.js');var isVariationActive=function isVariationActive(id,idVariation){if(typeof abtasty.tests[id]!=='undefined'&&typeof ABTastyClickTracking==='function'){if(abtasty.tests[id][idVariation]!=null){abtasty.tests[id][idVariation]();}}};var abtasty={lstrg:[],tests:{},setVariationTest:function setVariationTest(id,idVariation){console.log('>> set test AB Tasty : '+id+' / variation '+idVariation);isVariationActive(id,idVariation);},displayPopinABTasty:function displayPopinABTasty(srcHtml,callback){lm.ajax.ajaxHandler('GET',srcHtml,'',function(data){if($('#popin-abtasty').length==0){var eltAbTasty=document.createElement('div');eltAbTasty.id='popin-abtasty';eltAbTasty.classList.add('lm-popin');eltAbTasty.classList.add('lm-popinFx3');eltAbTasty.innerHTML=data;document.body.append(eltAbTasty);}else{$('#popin-abtasty').html(data);}
if(callback){callback();}
lm.layers.displayPopin("#popin-abtasty",true,".popin-close-link");},null,null);},getHTMLABTasty:function getHTMLABTasty(srcHtml,callback){lm.ajax.ajaxHandler('GET',srcHtml,'',function(data){if(callback)callback(data);},null,null);}};module.exports.abtasty=abtasty;},{"./_submodules/_ajax.js":43,"./_submodules/_layers.js":49}],24:[function(require,module,exports){'use strict';if(typeof window.lm==="undefined"){window.lm={};}
lm=window.lm||{};lm.vad=lm.vad||{};lm.ajax=require('./_submodules/_ajax.js');lm.layers=require('./_submodules/_layers.js');module.exports.addToCart={init:function init(){addToCart();}};lm.vad.refreshZonePattern_addToCart=function refreshZonePattern_addToCart(JSON){"use strict";lm.ajax.refreshZonePattern(JSON,function callBackCreate(zone){if(zone.id=="popin-add-product"){if($('#product-details-popin').hasClass('lm-popinVisible')){$('.popin-close-link').click();}
if($('.sample-popin').hasClass('lm-popinVisible')){$('.popin-close-link').click();}
if(!$('#popin-add-product').hasClass('lm-popinVisible')){lm.layers.displayPopin("#popin-add-product",true,".popin-close-link",null,null,true);}
if($('.selection-container').is(":visible")&&$('.selection-container .total-composition').length>0){$('.selection-container').hide();}}},function callBackUpdate(zone){},function callBackDelete(zone){},function callBackSuccess(){});};var addToCart=function addToCart(){$('body').on('submit','.form-add-to-cart',function(e){e.preventDefault();var _data=$(this).serialize(),_urlForm=$(this).attr('action'),_type=$(this).attr('method');$.ajax({type:_type,data:_data,url:_urlForm,dataType:"json",success:function success(JSON){lm.vad.refreshZonePattern_addToCart(JSON);},error:function error(JSON){}});});$('body').on('submit','.form-add-to-selection',function(e){e.preventDefault();var _data=$(this).serialize(),_urlForm=$(this).attr('action'),_type=$(this).attr('method');$.ajax({type:_type,data:_data,url:_urlForm,dataType:'html',cache:false,async:false,success:function success(data){$(".selection-container").html(data);if(!$('.total-composition').hasClass('display-composition')){$('.total-composition').addClass('display-composition');}
$('.selection-container').show();},error:function error(){}});});$('body').on('click','.js-quantity-management .js-qtiteMoins',function(){if($(this).parents('#cutting-wood-popin').length==0){var addToCartForm=$(this).parents('.form-add-to-cart');if(addToCartForm.find('button[type=submit]').length>0&&addToCartForm.find('button[type=submit]').attr('data-tagco')){var addToCartTagCo=JSON.parse(addToCartForm.find('button[type=submit]').attr('data-tagco').replace(/'/g,'"'));}
var inputQty=$(this).siblings('input'),valueQty=parseInt(inputQty.val()),newValueQty=valueQty-1;if(valueQty>1){inputQty.val(newValueQty);inputQty.change();if(addToCartForm.find('button[type=submit]').length>0&&addToCartForm.find('button[type=submit]').attr('data-tagco')){addToCartTagCo.product_quantity=newValueQty;var newTagCo=JSON.stringify(addToCartTagCo);addToCartForm.find('button[type=submit]').attr('data-tagco',newTagCo);}}}else{updateTagCoDBVQuantity();}});$('body').on('click','.js-quantity-management .js-qtitePlus',function(){if($(this).parents('#cutting-wood-popin').length==0){var addToCartForm=$(this).parents('.form-add-to-cart');if(addToCartForm.find('button[type=submit]').length>0&&addToCartForm.find('button[type=submit]').attr('data-tagco')){var addToCartTagCo=JSON.parse(addToCartForm.find('button[type=submit]').attr('data-tagco').replace(/'/g,'"'));}
var inputQty=$(this).siblings('input'),valueQty=parseInt(inputQty.val()),newValueQty=valueQty+1;inputQty.val(newValueQty);inputQty.change();if(addToCartForm.find('button[type=submit]').length>0&&addToCartForm.find('button[type=submit]').attr('data-tagco')){addToCartTagCo.product_quantity=newValueQty;var newTagCo=JSON.stringify(addToCartTagCo);addToCartForm.find('.cta-ajout').attr('data-tagco',newTagCo);}}else{updateTagCoDBVQuantity();}});var timerInputManagement;$('body').on('keyup','.js-quantity-management input',function(){clearTimeout(timerInputManagement);var input=$(this);timerInputManagement=setTimeout(function(){input.change();},500);});$('body').on('change','.js-quantity-management input',function(){if($(this).parents('#cutting-wood-popin').length==0){if(this.checkValidity()==false||this.checkValidity()==true&&$(this).val()==''){$(this).val(1);$(this).change();}else if($(this).is('.double-selecteur input')){if($(this).attr('qty-type')=='qtySale'){calculateQuantityConditionnement($(this).val(),false);}else if($(this).attr('qty-type')=='qtyConditionning'){calculateQuantityConditionnement($(this).val(),true);}}
updateTagCoQuantity($(this),$(this).val());}else{updateTagCoDBVQuantity();}});$('body').on('keyup','.js-quantity-selector-conditionning',function(){clearTimeout(timerInputManagement);var input=$(this);timerInputManagement=setTimeout(function(){input.change();},500);});$('body').on('change','.js-quantity-selector-conditionning',function(){if(!this.checkValidity()==true){$(this).val(1);$(this).change();}else{if($(this).attr('qty-type')=='qtySale'){calculateQuantityConditionnement($(this).val(),false);}else if($(this).attr('qty-type')=='qtyConditionning'){calculateQuantityConditionnement($(this).val(),true);}}});function calculateQuantityConditionnement(qty,isConditionningChange){var refLm=$("input[name='refLm']").val(),_data="reflm="+refLm+"&quantity="+qty+"&isConditionningQty="+isConditionningChange,_urlForm='/v3/ajax/calculateQuantitySale.do';$.ajax({url:_urlForm,type:'POST',data:_data,success:function success(data){console.log(data);console.log(isConditionningChange);var jsonTab=JSON.parse(data);$('#qtySale').val(jsonTab.qtySale);$('#qtyConditionning').val(jsonTab.qtyConditionning);},error:function error(xhr){}});}
function updateTagCoQuantity(elt,qty){var addToCartForm=elt.parents('.form-add-to-cart');var ATCbutton=addToCartForm.find('button[type=submit]');if(ATCbutton.length>0&&ATCbutton.attr('data-tagco')){var addToCartTagCo=JSON.parse(ATCbutton.attr('data-tagco').replace(/'/g,'"'));addToCartTagCo.product_quantity=qty;var newTagCo=JSON.stringify(addToCartTagCo);ATCbutton.attr('data-tagco',newTagCo);}}};function updateTagCoDBVQuantity(){var ATCbutton=$('#cutting-wood-popin .addCuttingToBasket');var qty=0;$('#content-popinCuttingWood form table input.quantity-selector').each(function(){qty+=parseInt($(this).val());});if(ATCbutton.length>0){var addToCartTagCo=JSON.parse(ATCbutton.attr('data-tagco').replace(/'/g,'"'));addToCartTagCo.product_quantity=qty;var newTagCo=JSON.stringify(addToCartTagCo);ATCbutton.attr('data-tagco',newTagCo);}}},{"./_submodules/_ajax.js":43,"./_submodules/_layers.js":49}],25:[function(require,module,exports){"use strict";if(typeof window.lm==="undefined"){window.lm={};}
lm=window.lm||{};lm.shoppingList=lm.shoppingList||{};lm.ajax=require('./_submodules/_ajax.js');lm.shoppingList.refreshZonePattern_addToShoppingList=function refreshZonePattern(JSON){"use strict";lm.ajax.refreshZonePattern(JSON,function callBackCreate(zone){if(zone.id=="popin-add-to-shoppinglist"){lm.layers.displayPopin("#popin-add-to-shoppinglist",true,".popin-close-link");}},function callBackUpdate(zone){if(zone.id=="popin-add-to-shoppinglist"){lm.layers.displayPopin("#popin-add-to-shoppinglist",true,".popin-close-link");}},function callBackDelete(zone){},function callBackSuccess(){});};lm.shoppingList.addToShoppingList=function addToShoppingList(){"use strict";$('body').on('click','.js-shoppingList-initAddTo',function(e){e.preventDefault();var _type='POST',_urlForm='/v3/listedecourses/shoppingList/getList.do',_data=$(this).parent('.js-serialize-shoppingList').find('input').serialize();$.ajax({type:_type,url:_urlForm,async:false,data:_data,dataType:"json",success:function success(JSON){lm.shoppingList.refreshZonePattern_addToShoppingList(JSON);},error:function error(JSON){$('.layer_loader_fullpage').removeClass('active');}});});$('body').on('submit','.js-shoppingList-formAddTo',function(e){e.preventDefault();var _data=$(this).serialize(),_urlForm=$(this).attr('action'),_type=$(this).attr('method');var arrayEvents=JSON.parse($('.js-tagGA-shoppingList-data').attr("data-tagco").replace(/'/g,'"'));arrayEvents.label=$('.js-tagGA-shoppingList-tracking').val();if($('#shoppingList-name').val()!=''){if(typeof tc_events_global==="function"){arrayEvents.categorie='creation liste';tc_events_global(e.target,'liste-creation',arrayEvents);}}else{arrayEvents.action=$('#shoppingList-id').val();}
if(typeof tc_events_global==="function"){arrayEvents.categorie='ajout liste';tc_events_global(e.target,'liste-ajout',arrayEvents);}
$.ajax({type:_type,data:_data,url:_urlForm,dataType:"json",success:function success(JSON){lm.shoppingList.refreshZonePattern_addToShoppingList(JSON);},error:function error(JSON){$('.layer_loader_fullpage').removeClass('active');}});});};$(document).ready(function(){lm.shoppingList.addToShoppingList();});},{"./_submodules/_ajax.js":43}],26:[function(require,module,exports){'use strict';module.exports.backToTop={init:function init(){$('#footer').after('<a href="#top" id="back-top" class="clicCT" data-clicct="C,1,scroll_up,N"><i class="ico-arrow-top"></i></a>');if($('#back-top').length>0){$(window).on('scroll',function(){var scrollTimeout;if(scrollTimeout){clearTimeout(scrollTimeout);scrollTimeout=null;}
scrollTimeout=setTimeout(scrollHandler,250);});var scrollHandler=function scrollHandler(){if($(window).scrollTop()>200){$('#back-top').show();}else{$('#back-top').hide();}};}}};},{}],27:[function(require,module,exports){'use strict';var layers=require('./_submodules/_layers.js'),isHttps=require('./_submodules/_tools.js').isHttps,geolocation=require('./_geoloc.js');module.exports.urls={gMapsScript:"https://maps.google.com/maps/api/js?sensor=false&language=fr&client=gme-leroymerlinsa",infoBoxScript:"https://s2.lmcdn.fr/7.16.2/javascriptV3/navigationPermanente/common/infoBox.min._r017465902ef91_.js"};module.exports.initGMapsScript=function initGMaps(cb,label){console.log("initMAPS",label);var channel='';var script_tag=document.createElement('script');if(typeof label!='undefined'&&label!=""){channel='&channel=LMFR-'+window.location.hostname+'-DESKTOP-'+label;}else{channel='&channel=LMFR-'+window.location.hostname+'-DESKTOP-DEFAULT';}
script_tag.setAttribute("type","text/javascript");script_tag.setAttribute("src","//maps.google.com/maps/api/js?client=gme-srssocietederecherches"+channel);if(cb){script_tag.onload=cb;}
(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(script_tag);};module.exports.initMireContextualisation=function initMireContextualisation(filter){if(!isHttps()){$('.store-availability-content').addClass('no-geoloc');$('.main-mire-contextualisation #store-availability-popin.inside').addClass('no-geoloc');}
$(".btnActivateGeolocation").on("click",function(event){$('.btnActivateGeolocationTrack').click();var count=0;navigator.geolocation.getCurrentPosition(function(obj){var geoloc={};geoloc.coords={};geoloc.coords.latitude=obj.coords.latitude;geoloc.coords.longitude=obj.coords.longitude;geoloc.coords.altitude=obj.coords.altitude;geoloc.coords.accuracy=obj.coords.accuracy;geoloc.timestamp=obj.timestamp;sessionStorage.setItem("geoCoordinates",JSON.stringify(geoloc));module.exports.searchCoordsRequest(geoloc.coords.latitude,geoloc.coords.longitude,'fromGeoloc');module.exports.initContextGmapButton();},function(obj){var feedbackTxt="";switch(obj.code){case obj.UNKNOWN_ERROR:feedbackTxt="La geolocalisation a rencontre une erreur.";break;case obj.PERMISSION_DENIED:feedbackTxt="Vous n'avez pas souhait partager vos donnes de golocalisation.";break;case obj.POSITION_UNAVAILABLE:feedbackTxt="Les coordonnees de l'utilisateur n'ont pas pu tre trouvees.";break;case obj.TIMEOUT:feedbackTxt="La geolocalisation prend trop de temps.";break;}
var jManualGeolocErrors=$(".activate-geoloc .form-error");if(jManualGeolocErrors.length>0){jManualGeolocErrors.empty().text(feedbackTxt);}else{$(".activate-geoloc").append("<span class='form-error'>"+feedbackTxt+"</span>");}},{enableHighAccuracy:true,timeout:5000,maximumAge:0});$('span.error').hide();});$.ui.autocomplete.prototype._renderItem=function(ul,item){return $("<li>").text(item.label+"<span class='cp'>"+item.value+"</span>").appendTo(ul);};$(".departure").on("keydown",function(event){if(event.keyCode===$.ui.keyCode.TAB&&$(this).autocomplete("instance").menu.active){event.preventDefault();}
if(event.keyCode===$.ui.keyCode.BACKSPACE){$("#departure + .search").removeClass("noresults");}}).on("click",function(){$(this).autocomplete('search');if($(this).parents(".lm-popin").is('#layer_context')){var fromDeparture='layer_context';}
if($(this).parents(".lm-popin").is('#devis-popin')){var fromDeparture='devis-popin';}
module.exports.ajustementPopins(fromDeparture);$(".ui-autocomplete.ui-menu li:eq(0)").trigger('mouseover');}).autocomplete({autoFocus:true,sortResults:false,source:function source(request,response){var matcher=new RegExp($.ui.autocomplete.escapeRegex(request.term),"i");response($.grep($.getJSON("/v3/contextualization/store/findLocations.do",{query:request.term,count:10},response).done(function(query,value){if(query.length&&query!="[]"){$(".departure + .search").removeClass("noresults");$(".departure").removeClass("ui-autocomplete-loading");return matcher.test(value.value)||matcher.test(value.label);}else{$(".departure").removeClass("ui-autocomplete-loading");$(".departure + .search").addClass("noresults");}})));},search:function search(){var term=this.value;$('.activate-geoloc').html("");if(term.length<2){$(".departure").removeClass("ui-autocomplete-loading");$("ul.ui-autocomplete.ui-menu").hide();return false;}
if(term.length==0){$(".departure + .search").removeClass("noresults");$(".departure").removeClass("ui-autocomplete-loading");}
if($(this).parents(".lm-popin").is('#layer_context')){var fromDeparture='layer_context';}
if($(this).parents(".lm-popin").is('#devis-popin')){var fromDeparture='devis-popin';}
module.exports.ajustementPopins(fromDeparture);$(".ui-autocomplete.ui-menu").css("visibility","visible");},open:function open(e,ui){var TXt=this.value;var txt=this.value.toLowerCase();$(".ui-menu-item").each(function(){var lowTxt=$(this).text().toLowerCase();if(lowTxt.indexOf(TXt)>17){lowTxt=lowTxt.replace(txt,"<span class='hl'>"+txt+"</span>");$(this).html(lowTxt.substring(0,1).toUpperCase()+lowTxt.substring(1).toLowerCase());}else{lowTxt=lowTxt.replace(txt,"<span class='hl'>"+txt+"</span>");$(this).html(lowTxt.substring(0,1).toUpperCase()+lowTxt.substring(1));}});},focus:function focus(event,ui){return false;},select:function select(event,ui){if($(this).parents(".lm-popin").is('#layer_context')){var fromDeparture='layer_context';}
if($(this).parents(".lm-popin").is('#devis-popin')){var fromDeparture='devis-popin';}
module.exports.searchCoordsRequest(ui.item.latitude,ui.item.longitude,fromDeparture,ui.item.label,ui.item.value);$(".departure").removeClass("ui-autocomplete-loading");return false;}});module.exports.searchCoordsRequest=function searchCoordsRequest(MyLat,MyLong,fromDeparture,label,value,count){$('span.error').hide();$('.activate-geoloc').html("");if(count){var intCount=count;var getMaxDistance="?maxDistance=150";if(count==5){var getMaxDistance="?maxDistance=100";}}else{if($("#layer_context").length==0){var intCount=10;var getMaxDistance="?maxDistance=150";}else{var intCount=5;var getMaxDistance="?maxDistance=100";}}
var getLatitude="&latitude="+MyLat;var getLongitude="&longitude="+MyLong;var getCount="&count="+intCount;if($("#showmode").length){var getShowmode="&view=contact/stores&showmode="+$("#showmode").val();}else{var getShowmode="&view=contact/stores&showmode=context";}
if(label){var getLabel="&label="+label;}else{var getLabel="";}
if(value){var getValue="&value="+value;}else{var getValue="";}
if($("#contextLabel").length){var getContextLabel="&contextLabel="+$("#contextLabel").val();}else{var getContextLabel="";}
if($(".changestore_produit").length!=0){var getReflm="&reflm="+$(".changestore_produit").attr("data-reflm");}else{var getReflm="";}
if($("#CtxRdrct").length!=0){var getRedirect="&redirect="+$("#CtxRdrct").val();}else{var getRedirect="";}
if(fromDeparture=='fromGeoloc'){var getFrom="&fromGeoloc=true";}else{var getFrom="";}
if($('.price-container .e-devis').attr('data-type')!=""&&$("#contextControllerURL").val()=='/v3/magasin/edevis/listStoresByGPSCoordinates.do'){var getEQuoteType="&eQuoteType="+$('.price-container .e-devis').attr('data-type');}else{var getEQuoteType="";}
var getDepartment="&department="+value;if($("#isDestockage").length!=0){var getDestockage="&destockage=1";}else{var getDestockage="";}
if($("#contextControllerURL").length!=0){var searchUrl=$("#contextControllerURL").val();}else{var searchUrl="/v3/contextualization/store/findStoresByGPSCoordinates.do";}
searchUrl=searchUrl+getMaxDistance+getLatitude+getLongitude+getCount+getLabel+getValue+getShowmode+getEQuoteType+getDepartment+getReflm+getDestockage+getRedirect+getContextLabel+getFrom;if(count){$('.rechercheBottom').html("<img src='https://s2.lmcdn.fr/7.16.2/imagesV3/truckRental/loading._r0197445902ef8b_.gif' class='load'>");}else{if(fromDeparture=='layer_context'||fromDeparture=='fromGeoloc'||!fromDeparture){$('#ctxResults').html("<img src='https://s2.lmcdn.fr/7.16.2/imagesV3/truckRental/loading._r0197445902ef8b_.gif' class='load'>");}
if(fromDeparture=='devis-popin'){$('#ctxResultsDevis').html("<img src='https://s2.lmcdn.fr/7.16.2/imagesV3/truckRental/loading._r0197445902ef8b_.gif' class='load'>");}}
$.ajax({type:"GET",url:searchUrl,dataType:"text",contentType:"text/plain",success:function success(data){var dataStr=data;if((fromDeparture=='layer_context'||fromDeparture=='fromGeoloc'||!fromDeparture)&&getEQuoteType==""){$('#ctxResults').html(data);}else{if(fromDeparture=='devis-popin'||getEQuoteType!=""){$('#ctxResultsDevis').html(data);}}
module.exports.ajustementPopins(fromDeparture,count);$("tr[id^='stores-list-td-']").on("click",function(event){$(this).addClass('clicked');$('#searchCPLoader').appendTo($(this).find('a')).addClass('tolist').show();$("tr[id^='stores-list-td-']").unbind("click");if(typeof filter!=='undefined'){window.location=$(this).attr("data-url")+filter;}else{window.location=$(this).attr("data-url");}
console.log($(this).attr("data-url")+filter);});$(".etendreRecherche").on("click",function(event){if($(this).hasClass("clickable")){module.exports.searchCoordsRequest($(this).attr("data-latitude"),$(this).attr("data-longitude"),fromDeparture,label,value,10);$(this).removeClass("clickable");}});$(".reduireRecherche").on("click",function(event){if($(this).hasClass("clickable")){module.exports.searchCoordsRequest($(this).attr("data-latitude"),$(this).attr("data-longitude"),fromDeparture,label,value,5);$(this).removeClass("clickable");}});module.exports.initContextGmapButton(MyLat,MyLong,fromDeparture);$('.rechercheBottom img').hide();$(".etendreRecherche").html("tendre la zone de recherche <i class='ico-arrow-right-light'></i>");$(".reduireRecherche").html("Afficher moins de rsultats <i class='ico-arrow-left-light'></i>");},error:function error(object,msg){alert("Erreur, veuillez renouveler votre requte");}});};};module.exports.ajustementPopins=function ajustementPopins(fromDeparture,count){if(fromDeparture=='layer_context'||fromDeparture=='fromGeoloc'||!fromDeparture){if($("#layer_context").height()>$(window).height()||$("#layer_context").length==0){var finalTopPosition=$(document).scrollTop()+$(window).height()/20;$("#layer_context").css({'position':'absolute','top':finalTopPosition+'px'});if(fromDeparture&&fromDeparture!="fromGeoloc"){$("ul.ui-autocomplete.ui-menu").css("position","absolute").css("z-index","10000");}}else{$("#layer_context").css({'position':'fixed','top':'5%'});$("ul.ui-autocomplete.ui-menu").css("position","fixed").css("z-index","10000");}}
if(fromDeparture=='devis-popin'){if($("#devis-popin").height()>$(window).height()||$("devis-popin").length==0){var finalTopPosition=$(document).scrollTop()+$(window).height()/20;$("#devis-popin").css({'position':'absolute','top':finalTopPosition+'px'});$("ul.ui-autocomplete.ui-menu").css("position","absolute");}else{$("#devis-popin").css({'position':'fixed','top':'5%'});$("ul.ui-autocomplete.ui-menu").css("position","fixed").css("z-index","10000");}}};module.exports.initContextGmapButton=function initContextGmapButton(MyLat,MyLong,fromDeparture){$(".stores-list th.map").on("click",function(event){var GMapsChannel=$(this).closest('#store-availability-popin').find('[data-channel]').data('channel');module.exports.initGMapsScript(function(){return module.exports.initializeGoogleMap(MyLat,MyLong);},GMapsChannel);$("#layer_context_map_count").html($("#ctxNbrResults").html());if($("#layer_context").length){layers.displayPopin("#layer_context_map",true);}else{layers.displayPopin("#layer_context_map",true,".popin-close-link");}
$("#layer_context_map").show();if(fromDeparture=='layer_context'||fromDeparture=='fromGeoloc'||!fromDeparture){$('#layer_context').hide();$("#layer_context_map .popin-close-link").on("click",function(event){$('#layer_context').show();$('#layer_context_map').hide();});}
if($("#contextControllerURL").val()=='/v3/magasin/edevis/listStoresByGPSCoordinates.do'){$('#devis-popin').hide();$("#layer_context_map .popin-close-link").on("click",function(event){$('#devis-popin').show();;$('#layer_context_map').hide();});}});};module.exports.initPopinAutoSearch=function initPopinAutoSearch(){$("#layer_context .departure").val("on").autocomplete("search").val("");$(".ui-autocomplete.ui-menu").css("visibility","hidden").css("position","absolute").css("z-index","-1");layers.displayPopin("#layer_context",true,".popin-close-link");};module.exports.openPopin=function openPopin(filter){$.getScript("https://s1.lmcdn.fr/7.16.2/javascriptV3/services/datepicker-autocomplete._r0848c5902ef92_.js",function(){module.exports.initMireContextualisation(filter);module.exports.initPopinAutoSearch();});};module.exports.initializeGoogleMap=function initializeGoogleMap(MyLat,MyLong){var mapOptions={mapTypeId:google.maps.MapTypeId.ROADMAP};mapOptions.center=new google.maps.LatLng(MyLat,MyLong);mapOptions.zoom=9;var container=document.getElementById("storesMap");geolocation.gmap=new google.maps.Map(container,mapOptions);if(!window.InfoBox){jQuery.getScript(module.exports.urls.infoBoxScript,function(){module.exports.gmapMarqueurs(geolocation.search.storeSearchResults);});}else{module.exports.gmapMarqueurs(geolocation.search.storeSearchResults);}};module.exports.gmapMarqueurs=function gmapMarqueurs(storeSearchResults){var that=null;geolocation.markers=null;geolocation.markers={};var hasToResizeMap=storeSearchResults.length>1;var bounds=new google.maps.LatLngBounds();var marker=null;for(var i=0;i<storeSearchResults.length;i++){var letter=String.fromCharCode("A".charCodeAt(0)+i);marker=new google.maps.Marker({position:new google.maps.LatLng(storeSearchResults[i].latitude,storeSearchResults[i].longitude),map:geolocation.gmap,title:storeSearchResults[i].storeName,labelContent:storeSearchResults[i].storeName,infoBoxContent:"<div class='box_arrow'></div>"+storeSearchResults[i].infoBoxContent,draggable:false,disableDoubleClickZoom:false,icon:"https://s1.lmcdn.fr/7.16.2/imagesV3/navigationPermanente/common/gMapPin._r04935902ef73_.png",clickable:true,storeId:storeSearchResults[i].id,id:"mapIcon"});geolocation.markers[marker.storeId]=marker;google.maps.event.addListener(marker,'click',function(){if(that){that.setZIndex();that.setIcon("https://s1.lmcdn.fr/7.16.2/imagesV3/navigationPermanente/common/gMapPin._r04935902ef73_.png");}
that=this;this.setZIndex(google.maps.Marker.MAX_ZINDEX+1);this.setIcon("https://s1.lmcdn.fr/7.16.2/imagesV3/navigationPermanente/common/gMapPin2._r05d75902ef73_.png");infoBox.setContent(this.infoBoxContent);infoBox.open(geolocation.gmap,this);});if(hasToResizeMap){var point=new google.maps.LatLng(storeSearchResults[i].latitude,storeSearchResults[i].longitude);bounds.extend(point);}
var infoBoxOptions={pixelOffset:new google.maps.Size(-52,19),enableEventPropagation:true,closeBoxURL:"https://s1.lmcdn.fr/7.16.2/imagesV3/mobile/croix-filtre._r05605902ef6e_.png",boxStyle:{width:"200px"}};var infoBox=new InfoBox(infoBoxOptions);}
if(hasToResizeMap){geolocation.gmap.fitBounds(bounds);}};},{"./_geoloc.js":33,"./_submodules/_layers.js":49,"./_submodules/_tools.js":56}],28:[function(require,module,exports){'use strict';var tools=require('./_submodules/_tools.js');$(document).ready(function(){if($('.js-banner-cookie').length==0){if(tools.getCookie('ck_bnnr')===null){var displayInfo="<div class='js-banner-cookie active'><div class='js-banner-cookie-infos'><p>En poursuivant votre navigation sur ce site, vous acceptez l\'utilisation de cookies pour vous proposer des services et offres adapts  vos centres d\'intrts. <a href='#' class='js-banner-cookie-agree btn'>OK</a><a class='js-banner-cookie-more' href='/v3/p/donnees-personnelles-l1308220759'>En savoir plus</a></p></div></div>";$('body').append(displayInfo);$(window).unload(function(e){var expireDate=new Date();expireDate.setTime(expireDate.getTime()+33696000000);tools.setCookie('ck_bnnr','1',expireDate);});$('body').on('click','.js-banner-cookie-agree',function(e){e.preventDefault();$('.js-banner-cookie').removeClass("active");var expireDate=new Date();expireDate.setTime(expireDate.getTime()+33696000000);tools.setCookie('ck_bnnr','1',expireDate);});}}});},{"./_submodules/_tools.js":56}],29:[function(require,module,exports){'use strict';lm.tools=require('./_submodules/_tools.js');lm.cuttingWood={};lm.cuttingWood.isTablet=false;lm.cuttingWood.init=function(){$('.decoupeBoisVerre').on('click',function(e){e.preventDefault();$.ajax({url:'/v3/dbv/openLayerCutting.do',data:'refPrincipale='+$(this).attr('data-reflm'),success:function success(data){$('#content-popinCuttingWood').html(data);lm.layers.displayPopin('#cutting-wood-popin',true,".popin-close-link",null,null,true);$('.deleteLineCutting').hide();if($('#decoupesPanneau').length>0){evaluateCutting();}else if($('#decoupesTablette').length>0){lm.cuttingWood.isTablet=true;lm.cuttingWood.wG=$('#apercuTablette').width();lm.cuttingWood.hG=$('#apercuTablette').height();lm.cuttingWood.ctx=document.getElementById("apercuTablette").getContext("2d");evaluateTabletCutting();}},error:function error(xhr){console.warn('Erreur Layer Cutting');}});});$('#content-popinCuttingWood').on('change','input',function(e){sendEvaluateCutting($(this).parents('tr'));});$('#content-popinCuttingWood').on('click','.qtiteMoins, .qtitePlus',function(e){var quantitySelector=$(this).parent().find('.quantity-selector');e.preventDefault();if($(this).hasClass('qtiteMoins')){if(quantitySelector.val()===''){quantitySelector.val(1);}
if(parseInt(quantitySelector.val(),10)>1){quantitySelector.val(parseInt(quantitySelector.val(),10)-1);}else if(parseInt(quantitySelector.val(),10)<=1&&($('#decoupesPanneau tbody tr').length>1||$('.line-cutting-tablet').length>1)){$(this).parents('td').find('.deleteLineCutting').click();}}else{if(quantitySelector.val()===''){quantitySelector.val(1);}
if(parseInt(quantitySelector.val(),10)<9999){quantitySelector.val(parseInt(quantitySelector.val(),10)+1);}}
sendEvaluateCutting($(this).parents('tr'));});$('#content-popinCuttingWood').on('click','#addCuttingMesure',function(e){e.preventDefault();addNewLineCutting($(this));});$('#content-popinCuttingWood').on('click','.deleteLineCutting',function(e){e.preventDefault();removeNewLineCutting($(this));setTimeout(updateTagCoDBVQuantity,200);});$('#content-popinCuttingWood').on('click','.addCuttingToBasket',function(e){e.preventDefault();addCuttingToBasket();});$('#content-popinCuttingWood').on('keypress','input',function(e){if(e.keyCode==13){e.preventDefault();}});function sendEvaluateCutting(line){if(line.find('.longueur input').val()!=''&&line.find('.largeur input').val()!=''){if(lm.cuttingWood.isTablet){evaluateTabletCutting();}else{evaluateCutting();}}}
function drawRect(ctx,w,h,x,y){ctx.beginPath();ctx.moveTo(x,y);ctx.lineTo(x+w,y);ctx.lineTo(x+w,y+h);ctx.lineTo(x,y+h);ctx.closePath();ctx.fill();ctx.stroke();}
function drawPreviewInit(ctx){var w;var h;var l=0;var q;var $this;ctx.font="18px Arial";ctx.lineWidth=10;ctx.fillStyle="#bebaaf";ctx.strokeStyle="#969b9e";ctx.globalAlpha=1;drawRect(ctx,lm.cuttingWood.wG,lm.cuttingWood.hG,0,0);$('.line-cutting-tablet').each(function(incr){$this=$(this);w=parseInt(parseInt($this.find('.longueur').val(),10)/$('#maxLengthTotal').val()*lm.cuttingWood.wG,10);h=parseInt(parseInt($this.find('.largeur').val(),10)/$('#maxWidthTotal').val()*lm.cuttingWood.hG,10);q=parseInt($this.find('.quantity-selector').val(),10);for(var i=0;i<q;i++){ctx.lineWidth=1;ctx.fillStyle="#FFFFFF";ctx.strokeStyle="#FFFFFF";ctx.globalAlpha=0.7;drawRect(ctx,w,h,l,parseInt(lm.cuttingWood.hG,10)-h);ctx.lineWidth=2;ctx.strokeStyle="#6abe10";ctx.globalAlpha=1;ctx.beginPath();ctx.moveTo(l+w/2+10,lm.cuttingWood.hG-h/2);ctx.arc(l+w/2,lm.cuttingWood.hG-h/2,10,0,Math.PI*2,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.fillStyle=" #6abe10";ctx.fillText(incr+1,l+w/2-5,lm.cuttingWood.hG-h/2+6);l+=w+3;}});}
function buildRequestCutting(isTablet){var request="refPrincipale="+$('#reflmFather').val();var tabRef='decoupesPanneau';var incr=0;if(isTablet){tabRef='decoupesTablette';}
$('#'+tabRef+' tbody tr').not('.head-cutting-tablet').each(function(index){var line=$(this);request+='&cuttingDetails['+incr+'].length='+line.find('.longueur').val()+'&cuttingDetails['+incr+'].width='+line.find('.largeur').val()+'&cuttingDetails['+incr+'].quantity='+line.find('.quantity-management input').val();incr++;});return request;}
function controlDimension(line){var errorDimension=false;var message="";var longueurInput=parseFloat(line.find('.longueur').val());var largeurInput=parseFloat(line.find('.largeur').val());var borneMin=parseFloat($('#minSecurity').val());var borneLongMax=parseFloat($('#maxLength').val());var borneLargMax=parseFloat($('#maxWidth').val());var borneLongTotal=parseFloat($('#maxLengthTotal').val());var borneLargTotal=parseFloat($('#maxWidthTotal').val());var termeLargeur="Largeur";if(lm.cuttingWood.isTablet){termeLargeur="Profondeur";}
line.find('.longueur, .largeur').removeClass('errorField');$('#content-popinCuttingWood .error').hide();if(longueurInput!=borneLongTotal||borneLargTotal!=borneLargTotal){if(longueurInput>borneLongMax){if(lm.cuttingWood.isTablet){message+='<span>Les mesures renseignes ne sont pas ralisables</span>';}else{message+='<span>Longueur du panneau : '+borneLongTotal+'mm ; pas de dcoupe de moins de '+$('#minSecurity').val()+'mm</span>';}
errorDimension=true;line.find('.longueur').addClass('errorField');}else if(longueurInput<borneMin){if(lm.cuttingWood.isTablet){message+='<span>Les mesures renseignes ne sont pas ralisables</span>';}else{message+='<span>Longueur du panneau : '+borneLongTotal+'mm ; pas de dcoupe de moins de '+$('#minSecurity').val()+'mm</span>';}
errorDimension=true;line.find('.longueur').addClass('errorField');}
if(lm.cuttingWood.isTablet&&borneLargTotal!=borneLargTotal||!lm.cuttingWood.isTablet){if(largeurInput>borneLargMax){if(lm.cuttingWood.isTablet){message+='<span>Les mesures renseignes ne sont pas ralisables</span>';}else{message+='<span>Largeur du panneau : '+borneLargTotal+'mm ; pas de dcoupe de moins de '+$('#minSecurity').val()+'mm</span>';}
errorDimension=true;line.find('.largeur').addClass('errorField');}else if(largeurInput<borneMin){if(lm.cuttingWood.isTablet){message+='<span>Les mesures renseignes ne sont pas ralisables</span>';}else{message+='<span>Largeur du panneau : '+borneLargTotal+'mm ; pas de dcoupe de moins de '+$('#minSecurity').val()+'mm</span>';}
errorDimension=true;line.find('.largeur').addClass('errorField');}}}
if(errorDimension){$('#content-popinCuttingWood .error').html(message).show();$('#addCuttingMesure, .addCuttingToBasket').css('opacity',0.3).attr('disabled','disabled');}else{$('#addCuttingMesure, .addCuttingToBasket').css('opacity',1).removeAttr('disabled');}
return errorDimension;}
function evaluateCutting(){$.ajax({url:'/v3/dbv/evaluateCutting.do',type:'POST',data:buildRequestCutting(lm.cuttingWood.isTablet),success:function success(data){reloadTabCutting(data);},error:function error(xhr){}});}
function evaluateTabletCutting(){$.ajax({url:'/v3/dbv/evaluateCutting.do',type:'POST',data:buildRequestCutting(lm.cuttingWood.isTablet),success:function success(data){reloadTabCuttingService(data);},error:function error(xhr){}});}
function addNewLineCutting(obj){$.ajax({url:'/v3/dbv/addNewLineCutting.do',type:'POST',data:buildRequestCutting(lm.cuttingWood.isTablet),success:function success(data){if(lm.cuttingWood.isTablet){reloadTabCuttingService(data);}else{reloadTabCutting(data);}
lm.tools.ctButtonToLink('C,84,ajouter_mesure::'+$('.xtpageCutting').val()+',A');if($('#decoupesPanneau tbody tr').length<12&&!lm.cuttingWood.isTablet||$('.line-cutting-tablet').length<5&&lm.cuttingWood.isTablet){$('#addCuttingMesure').css('opacity',1).removeAttr('disabled','disabled');$('#content-popinCuttingWood .error').hide();}else{$('#addCuttingMesure').css('opacity',0.3).attr('disabled','disabled');$('#content-popinCuttingWood .error').html('<span>Nombre de dcoupes maximal atteint</span>').show();}
updateTagCoDBVQuantity();},error:function error(xhr){}});}
function removeNewLineCutting(obj){obj.parents('tr:not(.head-cutting-tablet)').remove();$('#content-popinCuttingWood .error').hide();if(lm.cuttingWood.isTablet){evaluateTabletCutting();}else{evaluateCutting();}}
function addCuttingToBasket(){var price=$('#content-popinCuttingWood .price').html();$.ajax({url:'/v3/dbv/addCutting.do',type:'POST',data:buildRequestCutting(lm.cuttingWood.isTablet),success:function success(data){lm.tools.ctButtonToLink('C,29,ajout_panier::decoupe::'+$('#refPrincipale').text()+',A');$("#cutting-wood-popin").trigger("layerClose");$('#basket-popin').remove();$('body').append(data);lm.layers.displayPopin('#basket-popin',true,".popin-close-link",null,null,true);setPreviewBasket($('#nbProducts').val());if(lm.cuttingWood.isTablet){$('#basket-popin .price').html(price);}},error:function error(xhr){}});}
function setPreviewBasket(nb){$('#nbrPrdPanier').text(nb);if(parseInt(nb,10)>1){$('#txtPrdPanier').text('articles');}else{$('#txtPrdPanier').text('article');}}
function reloadTabCuttingService(data){var jsonTab=JSON.parse(data);var tabCuttingInfos=jsonTab.cuttingDetailInfos;var lineCutting;var objTemp=$('<div></div>');var eltTabCutting;var errorDimension;var errorStock;var message="";var objectFocus={classe:$(':focus').attr('class'),ind:$(':focus').index()};$('#content-popinCuttingWood .error').hide();for(var i=0;i<tabCuttingInfos.length;i++){errorDimension=false;errorStock=false;eltTabCutting=tabCuttingInfos[i];if(eltTabCutting.errorStock){errorDimension=true;errorStock=true;$('#decoupesTablette tbody tr').eq(i+1).find('.quantity-selector').addClass('errorField');message+='<span>Plus assez de stock : vous pouvez en commander au maximum '+eltTabCutting.quantityMax+'m</span>';}else{if(eltTabCutting.errorLength){errorDimension=true;$('#decoupesTablette tbody tr').eq(i+1).find('.longueur').addClass('errorField');if(lm.cuttingWood.isTablet){message+='<span>Les mesures renseignes ne sont pas ralisables</span>';}else{message+='<span>Longueur suprieure  '+$('#maxLength').val()+'mm</span>';}}else if(eltTabCutting.errorWidth){errorDimension=true;$('#decoupesTablette tbody tr').eq(i+1).find('.largeur').addClass('errorField');if(lm.cuttingWood.isTablet){message+='<span>Les mesures renseignes ne sont pas ralisables</span>';}else{message+='<span>Profondeur suprieure  '+$('#maxWidth').val()+'mm</span>';}}
lineCutting=$('<tr class="line-cutting-tablet"><td class="incrCutting"><span>'+String(i+1)+'</span> Dcoupe</td><td class="thicknessCutting">'+$('#thicknessCutting').val()+'</td><td><input type="text" value="'+eltTabCutting.length+'" class="longueur" maxlength="4" /></td><td><input type="text" value="'+eltTabCutting.width+'" class="largeur" maxlength="4" /></td><td><div class="quantity-management js-quantity-management"><div><button class="fLeft qtiteMoins js-qtiteMoins">-</button><input type="text" value="'+eltTabCutting.quantity+'" class="fLeft quantity-selector" maxlength="4"><button class="fLeft qtitePlus js-qtiteMoins">+</button></div></div><a href="#" class="deleteLineCutting">Supprimer</a></td><td>'+eltTabCutting.nbSawcuts+'</td><td class="cuttingPrice">'+Number(eltTabCutting.totalPriceService).toFixed(2)+'&nbsp;</td></tr>');objTemp.append(lineCutting);}}
objTemp.prepend($('.head-cutting-tablet').clone());if(errorStock){$('#decoupesTablette .qtitePlus').css('opacity',0.3).attr('disabled','disabled');}else{$('#decoupesTablette .qtitePlus').css('opacity',1).removeAttr('disabled');}
if(errorDimension){$('#content-popinCuttingWood .error').html(message).show();$('#addCuttingMesure, .addCuttingToBasket').css('opacity',0.3).attr('disabled','disabled');}else{$(objectFocus.classe).eq(objectFocus.ind).focus();$('#decoupesTablette tbody').html(objTemp.html());$('#cuttingTotalAmount').html(Number(jsonTab.totalProducts).toFixed(2)+'&nbsp;');if($('#decoupesTablette tbody tr').length<=2){$('.deleteLineCutting').hide();}else{$('.deleteLineCutting').show();}
if($('.line-cutting-tablet').length>4){$('#addCuttingMesure').css('opacity',0.3).attr('disabled','disabled');}else{$('#addCuttingMesure').css('opacity',1).removeAttr('disabled');}
$('.addCuttingToBasket').css('opacity',1).removeAttr('disabled');drawPreviewInit(lm.cuttingWood.ctx);}}
function reloadTabCutting(data){var jsonTab=JSON.parse(data);var tabCuttingInfos=jsonTab.cuttingInfos;var lineCutting;var objTemp=$('<div></div>');var eltTabCutting;var errorDimension;var errorStock;var message="";var objectFocus={classe:$(':focus').attr('class'),ind:$(':focus').index()};if(jsonTab.addNewLineEnabled==false){$('#addCuttingMesure').hide();}else{$('#addCuttingMesure').show();}
$('#content-popinCuttingWood .error').hide();for(var i=0;i<tabCuttingInfos.length;i++){errorDimension=false;errorStock=false;eltTabCutting=tabCuttingInfos[i];if(eltTabCutting.errorStock){errorDimension=true;errorStock=true;$('#decoupesPanneau tbody tr').eq(i).find('.quantity-selector').addClass('errorField');message+='<span>Plus assez de stock : vous pouvez en commander au maximum '+eltTabCutting.quantityMax+'m</span>';}else{if(eltTabCutting.errorLength){errorDimension=true;$('#decoupesPanneau tbody tr').eq(i).find('.longueur').addClass('errorField');message+='<span>Longueur du panneau : '+$('#maxLengthTotal').val()+'mm ; pas de dcoupe de moins de '+$('#minSecurity').val()+'mm</span>';}else if(eltTabCutting.errorWidth){errorDimension=true;$('#decoupesPanneau tbody tr').eq(i).find('.largeur').addClass('errorField');message+='<span>Longueur du panneau : '+$('#maxWidthTotal').val()+'mm ; pas de dcoupe de moins de '+$('#minSecurity').val()+'mm</span>';}
lineCutting=$('<tr><td class="incrCutting"><span>'+String(i+1)+'</span></td><td>'+$('#thicknessCutting').val()+' mm</td><td><input type="text" value="'+eltTabCutting.length+'" class="longueur" maxlength="4" /></td><td><input type="text" value="'+eltTabCutting.width+'" class="largeur" maxlength="4" /></td><td><div class="quantity-management js-quantity-management"><div><button class="fLeft qtiteMoins js-qtiteMoins">-</button><input type="text" value="'+eltTabCutting.quantity+'" class="fLeft quantity-selector" maxlength="4"><button class="fLeft qtitePlus js-qtitePlus">+</button></div></div><a href="#" class="deleteLineCutting">Supprimer</a></td><td class="cuttingPrice">'+Number(eltTabCutting.price).toFixed(2)+'&nbsp;</td></tr>');objTemp.append(lineCutting);}}
if(errorStock){$('#decoupesPanneau .qtitePlus').css('opacity',0.3).attr('disabled','disabled');}else{$('#decoupesPanneau .qtitePlus').css('opacity',1).removeAttr('disabled');}
if(errorDimension){$('#content-popinCuttingWood .error').html(message).show();$('#addCuttingMesure, .addCuttingToBasket').css('opacity',0.3).attr('disabled','disabled');}else{$(objectFocus.classe).eq(objectFocus.ind).focus();$('#decoupesPanneau tbody').html(objTemp.html());$('#cuttingTotalAmount').html(Number(jsonTab.totalProducts).toFixed(2)+'&nbsp;');if($('#decoupesPanneau tbody tr').length<=1){$('.deleteLineCutting').hide();}else{$('.deleteLineCutting').show();}
$('#addCuttingMesure, .addCuttingToBasket').css('opacity',1).removeAttr('disabled');}}};if($('.decoupeBoisVerre').length>0){lm.cuttingWood.init();}},{"./_submodules/_tools.js":56}],30:[function(require,module,exports){'use strict';module.exports.derniers_produits_vus={data:[],prdID:null,crossLocation:"page_famille",init:function init(){this.data=JSON.parse(localStorage.getItem('derniers_produit_vus'))||[];this.prdID=$('.showcase-product').attr('data-prd-id')||$('#global-reflm').attr('data-prd-id')||null;this.setLocation();this.clean();if(this.prdID){this.check();}
this.receive();},check:function check(){var currentIdIndex=this.exist();if(currentIdIndex>-1){this.update(currentIdIndex);}else{this.add();}},exist:function exist(){for(var i=this.data.length-1;i>=0;i--){if(this.data[i].id===this.prdID){break;}}
return i;},setLocation:function setLocation(){if(this.prdID){this.crossLocation="fiche_produit";}
return this.crossLocation;},save:function save(){localStorage.setItem('derniers_produit_vus',JSON.stringify(this.data));return localStorage.derniers_produit_vus;},add:function add(){this.data.push({'id':this.prdID,'date':new Date().getTime()});this.sort();this.cut();return this.save();},update:function update(index){this.data[index]={'id':this.prdID,'date':new Date().getTime()};this.sort();return this.save();},cut:function cut(){this.data.splice(10);return this.data;},sort:function sort(){this.data.sort(function(a,b){return a.date<b.date;});return this.data;},clean:function clean(){var self=this,now=new Date().getTime();for(var i=this.data.length-1;i>=0;i--){if(now-this.data[i].date>90*24*60*60*1000){self.data.splice(i,1);}};return this.save();},getParams:function getParams(){var self=this;var ids=this.data.map(function(a){return a.id;});;ids=ids.filter(function(a){return a!==self.prdID;});return ids.join(',');},receive:function receive(){var self=this;var ids=this.getParams();if(ids===""){return;}
$.ajax({url:'/v3/products/getListLastProductsSeen.do',data:'maxProductReturned=5&productIds='+ids+'&crossLocation='+this.crossLocation+'&prdID='+this.prdID,dataType:'html',timeout:3000,contentType:'text/plain',success:function success(data){self.inject(data);},error:function error(){console.error('An error occured');}});},inject:function inject(html){$('#produits-complementaires, #objet-connecte-complementaires, .items-content, #avis-details').eq(0).after(html);}};},{}],31:[function(require,module,exports){'use strict';var layers=require('../_modules/_submodules/_layers.js');var ajaxHandler=require('../_modules/_submodules/_ajax.js').ajaxHandler;module.exports.echantillon={init:function init(){$('body').on('click','.js-open-sample-layer',function(){var reflm=$(this).attr('data-reflm');var sampleUrl=$(this).attr('data-layer-url');if($('#layerSuppression').length>0){$('#layerSuppression').remove();}
if($("#"+reflm).length===0){var successCallback=function successCallback(data){$('body').append(data);layers.displayPopin("#"+reflm,true,".popin-close-link");};ajaxHandler('get',sampleUrl,'',successCallback);}else{layers.displayPopin("#"+reflm,true,".popin-close-link");}});}};},{"../_modules/_submodules/_ajax.js":43,"../_modules/_submodules/_layers.js":49}],32:[function(require,module,exports){'use strict';var iframeTiers=require('./_submodules/_iframe-tiers.js').iframeTiers;module.exports.init=function(idPortail,ean){var blockCommon=document.getElementById('description-technique');var blockConnectedObject=document.getElementById('objet-connecte-caracteristiques');var blockToInsert;var blockToDelete;if(blockCommon){blockToDelete=blockCommon.querySelector('p');if(blockToDelete){blockCommon.querySelector('header').removeChild(blockCommon.querySelector('p'));}
blockToDelete=blockCommon.querySelector('.labels');if(blockToDelete){blockCommon.querySelector('header').removeChild(blockToDelete);}
blockToDelete=blockCommon.querySelector('.download-content');if(blockToDelete){blockCommon.removeChild(blockToDelete);}
blockToDelete=blockCommon.querySelector('.tableau-carac');if(blockToDelete){blockCommon.removeChild(blockToDelete);}
blockToInsert=blockCommon;}else if(blockConnectedObject){blockToInsert=blockConnectedObject;}
iframeTiers.init(window.location.hostname);iframeTiers.createIframe('/v3/p/-l'+idPortail+'?ean='+ean+'&domain='+window.location.hostname+'&zone=zoneajax','flixmedia-frame','flixmedia-frame');iframeTiers.addIframeToDOM(blockToInsert);iframeTiers.initHeightAuto();};},{"./_submodules/_iframe-tiers.js":48}],33:[function(require,module,exports){'use strict';var layers=require('./_submodules/_layers.js'),tools=require('./_submodules/_tools.js'),context=require('./_contextualisation.js'),localizationAction,forcedStoreId,currentStoreId,cookieIdStore,hasToDisplayPopup;module.exports.init=function init(){var filter="";layers.init();if(typeof window.contextualizationReturnCode!=='undefined'&&window.contextualizationReturnCode){localizationAction=contextualizationReturnCode;}else{localizationAction="DISABLED";}
if(typeof window.espaceMagasinStoreId!=='undefined'&&window.espaceMagasinStoreId){forcedStoreId=espaceMagasinStoreId;}else{forcedStoreId="";}
if(typeof window.cookieIdStore!=='undefined'&&window.cookieIdStore){currentStoreId=cookieIdStore;}else{currentStoreId="";}
if(typeof window.hasToDisplayPopup!=='undefined'){hasToDisplayPopup=hasToDisplayPopup;}else{hasToDisplayPopup=false;}
contextualisation.init();var jGeoContextInfo=jQuery("#geoContextInfo");if(hasToDisplayPopup){layers.displayAutoClosingLayer(jGeoContextInfo,"#header .ongletMag",".layerClose",null,5000);}
jGeoContextInfo.on("hover",function(event){event.stopPropagation();});};module.exports.tryGlobalGeoloc=function tryGlobalGeoloc(succeed,failed){var storedCoords=window.sessionStorage.getItem("geoCoordinates");if(!navigator.geolocation||jQuery.browser.mozilla&&parseFloat(jQuery.browser.version)<25){console.warn("geolocation not available");}else{if(storedCoords){var storedCoordsObj=JSON.parse(storedCoords);var coords={};coords.latitude=storedCoordsObj.coords.latitude;coords.longitude=storedCoordsObj.coords.longitude;coords.altitude=storedCoordsObj.coords.altitude;coords.accuracy=storedCoordsObj.coords.accuracy;console.log("let's call succeed function with data :");succeed(storedCoordsObj.coords);}else{navigator.geolocation.getCurrentPosition(function(obj){var geoloc={};geoloc.coords={};geoloc.coords.latitude=obj.coords.latitude;geoloc.coords.longitude=obj.coords.longitude;geoloc.coords.altitude=obj.coords.altitude;geoloc.coords.accuracy=obj.coords.accuracy;geoloc.timestamp=obj.timestamp;sessionStorage.setItem("geoCoordinates",JSON.stringify(geoloc));succeed(geoloc.coords);},function(obj){failed(obj);},{enableHighAccuracy:true,timeout:5000,maximumAge:0});}}};module.exports.urls={rechercheGPS:"/v3/contextualization/store/getStoreIdFromGPS.do",storeContextualization:"/v3/contextualization/store/contextualize.do",gMapsScript:"//maps.google.com/maps/api/js?sensor=false&language=fr&client=gme-srssocietederecherches&callback=module.exports.initializeGoogleMap&channel=LMFR-"+window.location.hostname+"-DESKTOP-GEOLOC",infoBoxScript:"https://s2.lmcdn.fr/7.16.2/javascriptV3/navigationPermanente/common/infoBox.min._r017465902ef91_.js"};module.exports.initializeGoogleMap=function initializeGoogleMap(Glat,Glong){if(Glat){var mapOptions={mapTypeId:google.maps.MapTypeId.ROADMAP};mapOptions.center=new google.maps.LatLng(Glat,Glong);mapOptions.zoom=9;var container=document.getElementById("storesMap");module.exports.gmap=new google.maps.Map(container,mapOptions);var jMap=jQuery("#storesMap");if(jQuery("#tablet-header").length>0){var jSearchOnglet=jQuery("#tablet-header .searchStores");}else{var jSearchOnglet=jQuery("#header .searchStores");}
jSearchOnglet.addClass("withMap");jMap.show();jQuery.getScript(module.exports.urls.infoBoxScript,function(){module.exports.placeFoundStoresMarkers(module.exports.search.storeSearchResults);});}else{}};module.exports.placeFoundStoresMarkers=function placeFoundStoresMarkers(storeSearchResults){module.exports.markers=null;module.exports.markers={};var hasToResizeMap=storeSearchResults.length>1;var bounds=new google.maps.LatLngBounds();var marker=null;for(var i=0;i<storeSearchResults.length;i++){var letter=String.fromCharCode("A".charCodeAt(0)+i);marker=new google.maps.Marker({position:new google.maps.LatLng(storeSearchResults[i].latitude,storeSearchResults[i].longitude),map:module.exports.gmap,title:storeSearchResults[i].storeName,labelContent:storeSearchResults[i].storeName,infoBoxContent:"<div class='box_arrow'></div>"+storeSearchResults[i].infoBoxContent,draggable:false,disableDoubleClickZoom:false,icon:"//chart.googleapis.com/chart?chst=d_map_pin_letter&chld="+letter+"|60ad0e|000000",clickable:true,storeId:storeSearchResults[i].id});module.exports.markers[marker.storeId]=marker;if(hasToResizeMap){var point=new google.maps.LatLng(storeSearchResults[i].latitude,storeSearchResults[i].longitude);bounds.extend(point);}
var infoBoxOptions={closeBoxURL:"//www.google.com/intl/en_us/mapfiles/close.gif",pixelOffset:new google.maps.Size(-52,19),enableEventPropagation:true,boxStyle:{width:"200px"}};var infoBox=new InfoBox(infoBoxOptions);google.maps.event.addListener(marker,'click',function(){infoBox.setContent(this.infoBoxContent);infoBox.open(module.exports.gmap,this);jQuery("#stores-result li").removeClass('selected');jQuery("#stores-result [data-store-id='"+this.storeId+"']").addClass('selected').get(0).scrollIntoView(false);});google.maps.event.addListener(marker,'click.fromList',function(){infoBox.setContent(this.infoBoxContent);infoBox.open(module.exports.gmap,this);jQuery("#stores-result li").removeClass('selected');jQuery("#stores-result [data-store-id='"+this.storeId+"']").addClass('selected');});}
if(hasToResizeMap){module.exports.gmap.fitBounds(bounds);}
if(module.exports.search.isResultsFromZipCode){google.maps.event.trigger(module.exports.markers[storeSearchResults[0].id],"click.fromList");}};module.exports.retrievingStoreIdWithGPSCoords=function retrievingStoreIdWithGPSCoords(latitude,longitude){if(latitude&&longitude&&jQuery.isNumeric(latitude)&&jQuery.isNumeric(longitude)){var url=module.exports.urls.rechercheGPS;var data={latitude:latitude,longitude:longitude};return jQuery.post(url,data);}else{}};module.exports.settingContextualizationWithGivenStoreID=function settingContextualizationWithGivenStoreID(storeId,hasToDisplayPopin){if(storeId&&jQuery.isNumeric(storeId)){var url=module.exports.urls.storeContextualization;var data={storeId:storeId,redirect:false};if(hasToDisplayPopin){data.showPopin=true;}
return jQuery.post(url,data);}else{}};module.exports.reloadPageWithContextualizationNotif=function reloadPageWithContextualizationNotif(){var initialPage=window.location.href.substr(0,window.location.href.indexOf('#'));window.location.replace(initialPage);};var contextualisation={};contextualisation.init=function init(){var succeed=function succeed(obj){console.log('succeed called _ geoloc');var retrievingStoreId=module.exports.retrievingStoreIdWithGPSCoords(obj.latitude,obj.longitude);jQuery.when(retrievingStoreId).pipe(function(data,textStatus,jqXHR){var storeId=data;var settingContextualization=module.exports.settingContextualizationWithGivenStoreID(storeId,true);return settingContextualization;},function(data,textStatus,jqXHR){}).done(function(data,textStatus,jqXHR){if(data==="success"&&tools.getCookie('store')&&!tools.getCookie('pbstore')){module.exports.reloadPageWithContextualizationNotif();}else{if(!tools.getCookie('pbstore')){alert('Problme rencontr lors de la recherche du magasin le plus proche de chez vous.');tools.setCookie('pbstore','1');}}}).fail(function(data,textStatus,jqXHR){var notFoundMessage="Une erreur technique est survenue, veuillez ressayer plus tard.";jQuery("#geoContextInfo .geoContextMessage").text(notFoundMessage);if($('#tablet-header').length>0){if(hasToDisplayPopup){layers.displayAutoClosingLayer(jQuery("#geoContextInfo"),"#tablet-header",".layerClose",null,5000);}}else{layers.displayAutoClosingLayer(jQuery("#geoContextInfo"),"#header .ongletMag",".layerClose",null,5000);}});};var failed=function failed(obj){};var failedManualGeoloc=function failedManualGeoloc(obj){var feedbackTxt="";switch(obj.code){case obj.UNKNOWN_ERROR:feedbackTxt="La geolocalisation a rencontre une erreur.";break;case obj.PERMISSION_DENIED:feedbackTxt="Vous n'avez pas souhait partager vos donnes de golocalisation.";break;case obj.POSITION_UNAVAILABLE:feedbackTxt="Les coordonnees de l'utilisateur n'ont pas pu tre trouvees.";break;case obj.TIMEOUT:feedbackTxt="La geolocalisation prend trop de temps.";break;}
var jManualGeolocCont=jQuery(".activate-geoloc");var jManualGeolocErrors=jManualGeolocCont.find(".form-error");if(jManualGeolocErrors.length>0){jManualGeolocErrors.empty().text(feedbackTxt);}else{jManualGeolocCont.append("<span class='form-error'>"+feedbackTxt+"</span>");}
$("#searchCPLoader").hide();};switch(localizationAction){case"FORCE_CONTEXTUALIZATION":var idStore=parseInt(forcedStoreId,10);if(idStore&&jQuery.isNumeric(idStore)){var contextualizingToForcedStore=module.exports.settingContextualizationWithGivenStoreID(idStore,true);jQuery.when(contextualizingToForcedStore).done(function(){module.exports.reloadPageWithContextualizationNotif();});}
break;case"OPEN_LAYER_PROPOSITION_CONTEXTUALIZATION":var jContextConflictPopin=jQuery("#contextConflictPopin");layers.displayLayer(null,jContextConflictPopin,".layerClose",null,false);jQuery(".new-context-yes",jContextConflictPopin).on("click",function(event){var idStore=parseInt(forcedStoreId,10);if(idStore&&jQuery.isNumeric(idStore)){var contextualizingToForcedStore=module.exports.settingContextualizationWithGivenStoreID(idStore,true);jQuery.when(contextualizingToForcedStore).then(function(){module.exports.reloadPageWithContextualizationNotif();});}
event.preventDefault();});jQuery(".new-context-no",jContextConflictPopin).on("click",function(event){jContextConflictPopin.hide();event.preventDefault();});break;case"NONE":break;case"RUN_GEOLOC":if(tools.isHttps()){module.exports.tryGlobalGeoloc(succeed,failed);}
break;case"DISABLED":jQuery("#header .searchStores .activate-geoloc").hide();break;default:console.warn("technical error or geoloc disabled");}};},{"./_contextualisation.js":27,"./_submodules/_layers.js":49,"./_submodules/_tools.js":56}],34:[function(require,module,exports){'use strict';var tools=require('./_submodules/_tools.js');require('./_cookieBanner.js');module.exports.init=function init(){var isSVG=typeof SVGRect!="undefined";if(isSVG===false){$('.logo_lm a').find('svg').hide();$('.logo_lm a').append('<img src="https://s1.lmcdn.fr/7.16.2/images/common/logo-lm-desktop._r07bd5902ef3d_.png" alt="Logo de l\'enseigne Leroy Merlin"/>');}
$('#wrapper').addClass('js');var delay=function(){var timer=0;return function(callback,ms){clearTimeout(timer);timer=setTimeout(callback,ms);};}();tools.deferImgInit();$(window).on('resize',function(){if(window.matchMedia){var checkWidthOfNavigator=function checkWidthOfNavigator(){if(window.matchMedia("(max-width: 980px)").matches){if($('#nav img.lazy-lm').length>0){lazyLoadLm();}}};checkWidthOfNavigator();}
if($('.all-products-nav').is(':visible')){$('#overlay').css('background','#000');}else if($('.all-products-nav').is(':hidden')){$('#overlay').css('background','none');}});var lazyLoadLm=function lazyLoadLm(){var tabNavImage=$('#nav img.lazy-lm, #header img.lazy-lm');for(var i=0;i<tabNavImage.length;i++){var image=tabNavImage[i],imageSrc=image.getAttribute('data-src');image.src=imageSrc;image.removeAttribute('data-src');image.classList.remove('lazy-lm');}};if(window.matchMedia){var checkWidthOfNavigator=function checkWidthOfNavigator(){if(window.matchMedia("(max-width: 980px)").matches){if($('#nav img.lazy-lm').length>0){lazyLoadLm();}}};checkWidthOfNavigator();}
var headerCommon=$('#header');var tabHeaderHandler=function tabHeaderHandler(elt,eltVisible){headerCommon.on('mouseenter',elt,function(){if($(eltVisible).is(':visible')){$(this).find('.accountEntry').addClass('hover');}}).on('mouseleave',elt,function(){$(this).find('.accountEntry').removeClass('hover');});};tabHeaderHandler('.ongletMag','.ongletMag');tabHeaderHandler('.ongletCompte','.sub-menu');tabHeaderHandler('.other-tab','.sub-menu');$('#header').on('hover','.ongletBasket',function(){if($(this).hasClass('active')){delay(function(){lm.vad.loadBasketPreview();},200);}});$('.ongletBasket.inactive').click(function(e){e.preventDefault();});$('.formContextRedirect').each(function(){$(this).click(function(){$('#formContextRedirect').submit();});});$('#nav #contentNav .go-univers').on('tap',function(){window.location=$(this).attr('href');$('.fleche, .tablet-layer').hide();});$('.accountEntry.unlogged').on('tap',function(){window.location=$(this).attr('href');});$('.ongletBasket').on('tap',function(){if(!$(this).hasClass('inactive')){window.location=$(this).find('.accountEntry').attr('href');}});var hurry;var nav=document.querySelector('#nav');if(nav){$('#nav .ico-cross').on('click',function(e){e.preventDefault();this.parentNode.style.display='none';});var nav_link=nav.querySelectorAll('.linkHeader');if(nav_link){$('#nav .linkHeader').on('mouseenter',function(e){e.preventDefault();var _this=$(this);var el=this;el.setAttribute('data-mouse-in',true);hurry=setTimeout(function(){if(el.getAttribute('data-mouse-in')){_this.find('.layerOnglet:not(.tablet-layer)').show();_this.find('.fleche:not(.tablet-layer)').show();}},350);});$('#nav .linkHeader').on('mouseleave',function(e){e.preventDefault();clearTimeout(hurry);this.removeAttribute('data-mouse-in');$('.linkHeader .layerOnglet').hide();$('.linkHeader .fleche').hide();});}}
$('#header').on('click','a.all-products-nav',function(e){e.preventDefault();var $nav=$('#nav');var $overlay=$('#overlay');$('.onglet-content').css('cursor','pointer');$('.layerOnglet, .fleche').toggleClass('tablet-layer');if($nav.is(':visible')){$(this).removeClass('active');$nav.hide();$overlay.css("display","none");}else{if($('#suggest').is(':visible')){$('#suggest, #overlay').hide();}
$nav.show();$(this).addClass('active');$overlay.css("display","block");}});};},{"./_cookieBanner.js":28,"./_submodules/_tools.js":56}],35:[function(require,module,exports){'use strict';module.exports.init=function(){"use strict";var img=$('#corps').find('img.lazy');if(img){var scrollYPos=$(document).scrollTop();var windowHeight=$(window).height();loadImage(img,scrollYPos,windowHeight);$(window).on('scroll',function(){var scrollYPos=$(document).scrollTop();loadImage(img,scrollYPos,windowHeight);});}};module.exports.bindAsyncImg=function(){img=$('#corps').find('img.lazy');};var img=null;var loadImage=function loadImage(img,scrollYPos,windowHeight){img.each(function(el){var _this=$(this);if(!_this.hasClass('loaded')){var pos=_this.offset().top;var srcDefault=_this.attr('data-src');var srcSet=_this.attr('data-srcset');if(scrollYPos>=pos-windowHeight-300){if(_this.hasClass('lazySrcset')){_this.attr('srcset',srcSet).removeAttr('data-srcset');}
_this.attr('src',srcDefault).removeAttr('data-src');_this.addClass('loaded');}}});};},{}],36:[function(require,module,exports){'use strict';require('./_submodules/_popins.js');var tools=require('./_submodules/_tools.js');module.exports.init=function init(){var wasDisplayed=tools.getCookie("popinOldBrowserAreDisplayed");if(wasDisplayed==null){var displayPopin=false;var nomNavigateur=navigator.appName;var userAgent=navigator.userAgent;var version;navigator.sayswho=function(){var tem;var M=userAgent.match(/(opera|chrome|safari|firefox|msie)\/?\s*([\d\.]+)/i);if(M&&(tem=userAgent.match(/version\/([\.\d]+)/i))!=null){M[2]=tem[1];}
M=M?[M[1],M[2]]:[navigator.appVersion,'-?'];return M.join(' ');}();version=parseInt(navigator.sayswho.substring(nomNavigateur.length-1));if(nomNavigateur==="Microsoft Internet Explorer"){version=parseInt(navigator.sayswho.substring(4));if(version<11){displayPopin=true;}}else if(navigator.sayswho.indexOf("Firefox")!==-1){if(version<45){displayPopin=true;}}else if(navigator.sayswho.indexOf("Safari")!==-1){if(version<6){displayPopin=true;}}
if(displayPopin){tools.setCookie("popinOldBrowserAreDisplayed","true");$.post('/html/popinOldBrowsers.html',function(data){var htmlObject=$(data);$("body").append(data);lm.popin.displayPopin('#popinOldBrowser','.popin-close-link');});}}};},{"./_submodules/_popins.js":51,"./_submodules/_tools.js":56}],37:[function(require,module,exports){'use strict';var layers=require('./_submodules/_layers.js'),carousel=require('./_submodules/_carousel.js');module.exports.init=function init(){layers.init();var visuelsSelecteur=".prd-visuel";var apercusSelecteur=".prd-apercu";var jPage=$("#page");var jApercus=$("#page .prd-apercu").not("#page .infos.prd-apercu");jPage.on('hover',visuelsSelecteur,function(e){$(this).find(apercusSelecteur).toggleClass('visible');});jPage.on('click',apercusSelecteur,function(event){var reflm=$(this).attr('data-reflm');var displayButton=true;var displayCrossSelling=false;if($(this).attr('data-button')=='false'){displayButton=false;}
if($(this).attr('data-cs')=='true'){var displayCrossSelling=true;}
module.exports.miniFicheProduit(reflm,displayButton,displayCrossSelling);event.preventDefault();});};module.exports.miniFicheProduit=function miniFicheProduit(reflm,displayButton,displayCrossSelling){$.ajax({url:'/v3/miniFicheProduit/display.do?reflm='+reflm+'&displayButton='+displayButton+'&displayCrossSelling='+displayCrossSelling,cache:false,dataType:'html',contentType:'text/plain',success:function success(data){if($('#product-details-popin').length>0){$('#product-details-popin').remove();$('body').append(data);layers.displayPopin('#product-details-popin',true,".popin-close-link");}else{$('body').append(data);layers.displayPopin('#product-details-popin',true,".popin-close-link");}
$("#product-details-popin").on("click",".checkout-sample",function(e){e.preventDefault();var $t=$(this),$tReflm=$t.attr('data-reflm');$('#product-details-popin').remove();$('.layerEchantillon').each(function(){if($tReflm===$(this).attr('id')){layers.displayPopin('#'+$(this).attr('id'),true,".popin-close-link");}});});if($(data).find('#carousel-details').length>0){carousel.init();var owlDetails=$('#carousel-details');owlDetails.owlCarousel({slideSpeed:300,paginationSpeed:400,singleItem:true,pagination:true,afterInit:function afterInit(elem){$('#carousel-details .owl-pagination span').each(function(){var $t=$(this),$tIndex=$t.index();$('.carousel-details-navigation img').each(function(index){if($tIndex===index){$t.append($(this));return false;}});});var finalTopPosition=$(document).scrollTop()+16;$("#product-details-popin").css({'position':'absolute','left':$(document).width()/2-$("#product-details-popin").width()/2+'px','top':finalTopPosition+'px'});}});}
if($('#product-details-popin .promo-percent').length>0&&$('#carousel-details').length>0){$('#product-details-popin').find('.media-wrapper').append($('#product-details-popin .promo-percent'));$(data).find('.lm-popin-container .logo-marque img').each(function(){if(!this.complete||typeof this.naturalWidth=="undefined"||this.naturalWidth==0){$(this).parent().hide();}});}else{$(data).find('.lm-popin-container .logo-marque img').each(function(){if(!this.complete||typeof this.naturalWidth=="undefined"||this.naturalWidth==0){$(this).parent().hide();}});}}});};},{"./_submodules/_carousel.js":44,"./_submodules/_layers.js":49}],38:[function(require,module,exports){'use strict';module.exports.productPageScroll={poseValue:210,lastFunctionCalled:null,descNavSection:[],items:{priceContainer:$('.js-pps'),descNav:$('#desc-product')},h:{priceContainerHeight:$('.js-pps').outerHeight(),descNavHeight:$('#desc-product').height(),descTechHeight:$('#description-technique').height(),descTechPadding:parseInt($('#description-technique').css('padding-bottom'),10)},w:{priceContainerWidth:$('.js-pps').width()},t:{mediaPositionTop:$('.left-wrapper').offset().top,descNavTop:$('#desc-product').offset().top,absolutePriceTop:0,absolutePriceGap:0,absolutePriceTopValue:0,descTechTop:$('#description-technique').offset().top},l:{priceContainerLeft:$('.js-pps').position().left},init:function init(){if($('.tablet-display').length!==0){return;}
if($('#ensemble-des-produits').length>0){lm.pps.items.priceContainer=$('.selection-container.fRight');lm.pps.h.seriesHeight=$('#ensemble-des-produits').height();lm.pps.t.mediaPositionTop=$('#ensemble-des-produits').offset().top;lm.pps.t.absolutePriceTop=lm.pps.h.descTechHeight+lm.pps.t.descTechTop+lm.pps.h.descTechPadding-lm.pps.h.descNavHeight-lm.pps.h.priceContainerHeight;lm.pps.t.absolutePriceTop=lm.pps.h.descTechHeight+lm.pps.t.descTechTop-lm.pps.h.descNavHeight*2-lm.pps.h.priceContainerHeight-lm.pps.h.descTechPadding;}else{lm.pps.t.absolutePriceTop=lm.pps.h.descTechHeight+lm.pps.t.descTechTop+lm.pps.h.descTechPadding-lm.pps.h.descNavHeight*2-lm.pps.h.priceContainerHeight;}
lm.pps.t.absolutePriceGap=lm.pps.items.priceContainer.offset().top-lm.pps.items.priceContainer.position().top;lm.pps.t.absolutePriceTop=lm.pps.h.descTechHeight+lm.pps.t.descTechTop-lm.pps.h.descNavHeight*2-lm.pps.h.priceContainerHeight-lm.pps.h.descTechPadding;lm.pps.t.absolutePriceTopValue=lm.pps.t.absolutePriceTop-lm.pps.t.absolutePriceGap+lm.pps.h.descNavHeight;lm.pps.items.priceContainer.css('width',lm.pps.w.priceContainerWidth);lm.pps.getAnchorTop();$(window).on('scroll.stickyPrice',lm.pps.scroll);$(window).on('resize.calcLeft',lm.pps.updateLeft);},updateLeft:function updateLeft(){lm.pps.items.priceContainer.removeClass('js-fixed-elt fixed-elt').removeClass('js-fixed-gap fixed-gap').removeClass('js-absolute-elt absolute-elt');$('.js-pps').css({'left':'auto','top':'auto'});lm.pps.l.priceContainerLeft=$('.js-pps').position().left;lm.pps.lastFunctionCalled=null;$(window).trigger('scroll.stickyPrice');},scroll:function scroll(e){var _tScrollTop=$(window).scrollTop();if(_tScrollTop<lm.pps.t.descNavTop){lm.pps.stickyMenu(false);}else{lm.pps.stickyMenu(true);}
if(_tScrollTop<lm.pps.t.mediaPositionTop){lm.pps.aboveMediaTop();lm.pps.lastFunctionCalled=lm.pps.aboveMediaTop;}else if(_tScrollTop<lm.pps.t.descNavTop){lm.pps.aboveProductSubmenu();lm.pps.lastFunctionCalled=lm.pps.aboveProductSubmenu;}else if(_tScrollTop<lm.pps.t.absolutePriceTop){lm.pps.aboveTechnicalDescription();lm.pps.lastFunctionCalled=lm.pps.aboveTechnicalDescription;}else{lm.pps.belowTechnicalDescription();lm.pps.lastFunctionCalled=lm.pps.belowTechnicalDescription;}
lm.pps.updateDescNav(_tScrollTop);},aboveMediaTop:function aboveMediaTop(){if(lm.pps.lastFunctionCalled==lm.pps.aboveMediaTop){return;}
lm.pps.items.priceContainer.removeClass('js-fixed-elt fixed-elt').removeClass('js-fixed-gap fixed-gap').removeClass('js-absolute-elt absolute-elt');lm.pps.updateStyle();},aboveProductSubmenu:function aboveProductSubmenu(){if(lm.pps.t.mediaPositionTop==lm.pps.aboveProductSubmenu){return;}
lm.pps.items.priceContainer.addClass('js-fixed-elt fixed-elt').removeClass('js-fixed-gap').removeClass('js-absolute-elt absolute-elt');lm.pps.updateStyle();},aboveTechnicalDescription:function aboveTechnicalDescription(){if(lm.pps.lastFunctionCalled==lm.pps.aboveTechnicalDescription){return;}
lm.pps.items.priceContainer.addClass('js-fixed-elt fixed-elt').addClass('js-fixed-gap').removeClass('js-absolute-elt absolute-elt');lm.pps.updateStyle();},belowTechnicalDescription:function belowTechnicalDescription(){if(lm.pps.lastFunctionCalled==lm.pps.belowTechnicalDescription){return;}
lm.pps.items.priceContainer.removeClass('js-fixed-elt fixed-elt').removeClass('js-fixed-gap').addClass('js-absolute-elt absolute-elt');lm.pps.updateStyle();},updateStyle:function updateStyle(){$('.js-pps').css({'left':'auto','top':'auto'});$('.js-pps.js-fixed-elt').css({'left':lm.pps.l.priceContainerLeft,'top':0});$('.js-fixed-gap').css({'top':lm.pps.h.descNavHeight});$('.js-absolute-elt').css({'top':lm.pps.t.absolutePriceTopValue,'left':lm.pps.l.priceContainerLeft});},updateDescNav:function updateDescNav(_tScrollTop){var lastItemPassed=lm.pps.descNavSection[0];$.each(lm.pps.descNavSection,function(index,value){if(_tScrollTop<value.top){return false;}
lastItemPassed=value;});lm.pps.items.descNav.find('.active').removeClass('active');lm.pps.items.descNav.find('a[href*='+lastItemPassed.id+']').closest('li').addClass('active');},getAnchorTop:function getAnchorTop(){var self=this;lm.pps.descNavSection=[];$('#description-detaillee .tabs > section').each(function(){self.descNavSection.push({id:$(this).attr('id'),top:Math.floor($(this).offset().top)});});},stickyMenu:function stickyMenu(sticky){lm.pps.getAnchorTop();if(sticky){lm.pps.items.descNav.addClass('js-fixed-elt fixed-elt');}else{lm.pps.items.descNav.removeClass('js-fixed-elt fixed-elt');}}};},{}],39:[function(require,module,exports){'use strict';require('./_submodules/_popins.js');var ajax=require('./_submodules/_ajax.js');var lazyLoadImage=require('./_lazyLoadImage.js');var webshim=require('./_webshim.js');var flickity=require('./_submodules/_flickity.js').flickity;var tooltip=require('./_submodules/_tooltip.js').tooltip;var forms=require('./_submodules/_forms.js');var tools=require('./_submodules/_tools.js');var manip=require('./_submodules/_manipulation.js');var storageAvailaible=require('./_submodules/_storageAvailaible.js').storageAvailaible;var reviewsNavigation=require('./_submodules/_reviewsNavigation.js').reviewsNavigation;var reviewsUploadFile=require('./_submodules/_reviewsUploadFile.js').reviewsUploadFile;var reviewsFeedback=require('./_submodules/_reviewsFeedback.js').reviewsFeedback;var reviews={ajaxHelpfulSubmit:'/v3/product-reviews/secured/submitHelpfullForm.do',ajaxAbuseSubmit:'/v3/product-reviews/secured/submitReport.do',ajaxFormUrl:'/v3/product-reviews/showForm.do?reflm=',ajaxSubmitUrl:'/v3/product-reviews/secured/showWaitingPage.do?reflm=',ajaxPostUrl:'/v3/product-reviews/secured/submitReviewForm.do',reflm:document.getElementById('global-reflm').dataset.reflm,body:document.querySelector('body'),reviewHiddenClass:'review-hidden',reviewFormContainerClass:'review-form-container',reviewForm:null,reviewFormClass:'js-review-form',reviewFormBtnClass:'js-load-review-form',reviewFormSubmitClass:'js-review-form-submit',reviewFormConfirmationClass:'js-review-confirmation',reviewFormConfirmationBtnClass:'js-show-review-list-container',reviewsMainContainer:null,reviewsListContainer:null,reviewStars:null,reviewStarsLevelZone:null,reviewStarsLevel:["Trs mauvais","Mauvais","Moyen","Bon","Excellent"],reviewStarFullClass:'full',reviewChooseCriteriaInputClass:'js-review-form-criteria',reviewCriteriaValueInputClass:'js-review-form-label-likes-dislikes',reviewAddCriteriaBtnClass:'js-review-form-add-criteria',reviewDeleteCriteriaBtnClass:'js-review-form-delete-criteria',abuseBtnClass:'js-review-abuse',abuseLabel:null,feedBackBtnClass:'js-review-feedback',feedbackForm:null,feedbackFormOposite:null,feedbackMessages:null,feedbackBtns:null,feedbackLabels:null,feedbackCounter:null,allFeedbackCounter:null,feedbackValue:null,unauthorizedMessageFeedback:null,successMessageFeedback:null,pseudoMessageFeedback:null,unauthorizedMessageFeedbackOposite:null,successMessageFeedbackOposite:null,pseudoMessageFeedbackOposite:null,allReviewFeedBackForm:null,allReviewFeedback:null,allReviewAbuseForm:null,allReviewAbuse:null,isForumLogin:null,reviewId:null,init:function init(){reviews.reviewsMainContainer=document.querySelector('.js-review-container');reviews.reviewsListContainer=document.querySelector('.review-list-container');reviewShowImage();reviewsNavigation.init();showForm();hideForm();reviewsFeedback.init(this);if(document.querySelector('.reviews-carousel')){flickity.multipleItems(document.querySelector('.reviews-carousel'));}
storageAvailaible.init();confirmationFormReview();},submitForm:function submitForm(){formReviewSubmit();storageAvailaible.init();reviews.reviewForm=document.querySelector('.'+reviews.reviewFormClass);},formReviewNickname:function formReviewNickname(inputId){var firstNameBtn="js-review-form-choose-first-name";reviews.body.addEventListener('change',function(e){var clickedElement=e.target;if(clickedElement.classList.contains(firstNameBtn)){if(inputId){var inputToFill=inputId;reviewsFeedback.hideMessage();}else{var inputToFill=document.getElementById('review-user-nickname');}
var firstName=clickedElement.dataset.firstname;inputToFill.focus();if(clickedElement.checked){inputToFill.value=firstName;}else{inputToFill.value="";}
setTimeout(function(){inputToFill.blur();},0);}});}};var showForm=function showForm(){"use strict";reviews.body.addEventListener('click',function(e){var clickedElement=e.target;if(clickedElement.classList.contains(reviews.reviewFormBtnClass)){var reviewFormContainer=document.querySelector('.'+reviews.reviewFormContainerClass);reviews.reviewsListContainer.classList.add(reviews.reviewHiddenClass);if(reviewFormContainer){document.querySelector('.'+reviews.reviewFormContainerClass).classList.remove(reviews.reviewHiddenClass);}else{var url=reviews.ajaxFormUrl+reviews.reflm;ajax.ajaxHandler('get',url,null,showFormSuccess,null,showFormError);}}});};var hideForm=function hideForm(){"use strict";reviews.body.addEventListener('click',function(e){var clickedElement=e.target;if(clickedElement.classList.contains('js-back-review-list')){document.querySelector('.'+reviews.reviewFormContainerClass).classList.add(reviews.reviewHiddenClass);reviews.reviewsListContainer.classList.remove(reviews.reviewHiddenClass);}});};var showFormSuccess=function showFormSuccess(data){"use strict";reviews.reviewsMainContainer.insertAdjacentHTML('beforeend',data);initFormReview();};var showFormError=function showFormError(xhr){"use strict";};var confirmationFormReview=function confirmationFormReview(){reviews.body.addEventListener('click',function(e){var clickedElement=e.target;if(clickedElement.classList.contains(reviews.reviewFormConfirmationBtnClass)){[].forEach.call(document.querySelectorAll('.'+reviews.reviewFormConfirmationClass),function(el){el.classList.add(reviews.reviewHiddenClass);});clickedElement.classList.add(reviews.reviewHiddenClass);reviews.reviewsListContainer.classList.remove(reviews.reviewHiddenClass);if(document.querySelector('.reviews-carousel')){flickity.destroy(document.querySelector('.reviews-carousel'));flickity.multipleItems(document.querySelector('.reviews-carousel'));}}});};var initFormReview=function initFormReview(){reviews.reviewForm=document.querySelector('.'+reviews.reviewFormClass);formReviewStars();formReviewCriteria();formReviewCriteriaSelection();reviews.formReviewNickname();reviewsUploadFile.init();formReviewPost();webshim.initReviews();tooltip.init();};var goSessionStorage=function goSessionStorage(key,value){if(storageAvailaible.sessionStorageIsAvalaible){var valueExist=sessionStorage.getItem(key);if(valueExist){sessionStorage.removeItem(key);}
sessionStorage.setItem(key,value);}else{var valueExist=tools.getCookie(key);if(valueExist){tools.deleteCookie(key);}
tools.setCookie(key,value,0.1);}};var deleteSessionStorage=function deleteSessionStorage(key){if(storageAvailaible.sessionStorageIsAvalaible){sessionStorage.removeItem(key);}else{tools.cookie.delete(key);}};var formReviewPost=function formReviewPost(JSONForm){reviews.reviewForm.addEventListener('submit',function(e){e.preventDefault();if(JSONForm){JSONForm.pseudo=document.getElementById('review-user-nickname').value;JSONForm.LMSEC=document.getElementById('LMSEC').value;var result='';for(var key in JSONForm){result+=key+'='+encodeURIComponent(JSONForm[key])+'&';}
result=result.slice(0,result.length-1);var formToStore=result;}else{var formToStore=forms.serialize(e.target);}
var keyToStore='review-'+reviews.reflm;if(e.target.checkValidity()){goSessionStorage(keyToStore,formToStore);window.location=reviews.ajaxSubmitUrl+reviews.reflm;}});};var formReviewStars=function formReviewStars(){reviews.reviewStars=reviews.reviewForm.querySelectorAll('.review-star li');reviews.reviewStarsLevelZone=reviews.reviewForm.querySelector('.review-star .review-star-level');[].forEach.call(reviews.reviewStars,function(star){star.addEventListener('mouseover',function(e){var hoverElement=e.currentTarget;var hoverElementRating=parseInt(hoverElement.querySelector('input').value);reviews.reviewStarsLevelZone.innerHTML=reviews.reviewStarsLevel[hoverElementRating-1];[].forEach.call(reviews.reviewStars,function(star){star.classList.remove(reviews.reviewStarFullClass);});for(var i=0;i<reviews.reviewStars.length;i++){reviews.reviewStars[i].classList.add(reviews.reviewStarFullClass);if(reviews.reviewStars[i]==hoverElement){break;}}});star.addEventListener('mouseout',function(){var reviewsRating=document.getElementById('review-star-rating').querySelector('input:checked');var rating;if(!reviewsRating){rating=0;reviews.reviewStarsLevelZone.innerHTML='';}else{rating=reviewsRating.value;reviews.reviewStarsLevelZone.innerHTML=reviews.reviewStarsLevel[rating-1];}
for(var i=0;i<reviews.reviewStars.length;i++){if(i<rating){reviews.reviewStars[i].classList.add(reviews.reviewStarFullClass);}else{if(reviews.reviewStars[i].classList.contains(reviews.reviewStarFullClass)){reviews.reviewStars[i].classList.remove(reviews.reviewStarFullClass);}}}});});};var formReviewCriteriaSelection=function formReviewCriteriaSelection(){reviews.body.addEventListener('change',function(e){var clickedElement=e.target;if(clickedElement.classList.contains(reviews.reviewChooseCriteriaInputClass)){var choice=clickedElement.value;var inputValue=clickedElement.parentNode.parentNode.parentNode;inputValue.querySelector('.'+reviews.reviewCriteriaValueInputClass).setAttribute('name',choice);}});};var formReviewCriteria=function formReviewCriteria(){reviews.body.addEventListener('click',function(e){var clickedElement=e.target;if(clickedElement.classList.contains(reviews.reviewAddCriteriaBtnClass)){var newCriteria=document.querySelector('.review-form-likes-table').querySelectorAll('.'+reviews.reviewHiddenClass);var inputRadio=newCriteria[0].querySelectorAll('input[type="radio"]');if(newCriteria.length>0){newCriteria[0].classList.remove(reviews.reviewHiddenClass);}
if(newCriteria.length==1){clickedElement.classList.add(reviews.reviewHiddenClass);}}else if(clickedElement.classList.contains(reviews.reviewDeleteCriteriaBtnClass)){var criteriaToDelete=clickedElement.parentNode.parentNode;var inputRadio=criteriaToDelete.querySelectorAll('input[type="radio"]');criteriaToDelete.classList.add(reviews.reviewHiddenClass);[].forEach.call(inputRadio,function(input){input.checked=false;});criteriaToDelete.querySelector('.review-form-label-new-criteria input[type="text"]').value="";criteriaToDelete.querySelector('.review-form-label-new-criteria input[type="text"]').name="";criteriaToDelete.parentNode.querySelector('.'+reviews.reviewAddCriteriaBtnClass).classList.remove(reviews.reviewHiddenClass);}});};var formReviewSubmitFPSuccess=function formReviewSubmitFPSuccess(dataJSON){deleteSessionStorage('review-'+reviews.reflm);window.location=dataJSON.redirectUrl+'#avis-details';};var formReviewSubmit=function formReviewSubmit(){if(storageAvailaible.sessionStorageIsAvalaible){var formSerialize=sessionStorage.getItem('review-'+reviews.reflm);}else{var formSerialize=tools.getCookie('review-'+reviews.reflm);}
$.ajax({type:'POST',url:reviews.ajaxPostUrl,data:formSerialize,contentType:'application/x-www-form-urlencoded',success:function success(data){var dataJSON=JSON.parse(data);formReviewSubmitFPSuccess(dataJSON);},error:function error(xhr,data){var waitingMessage=document.querySelector('.review-form-waiting');var errorMessage=document.querySelector('.review-form-error');var unauthorizedMessage=document.querySelector('.review-form-unauthorized');var nonicknameMessage=document.querySelector('.review-form-nonickname');var impossibleMessage=document.querySelector('.review-form-impossible');waitingMessage.classList.add(reviews.reviewHiddenClass);if(xhr.status=="403"){var errorResponse=xhr.responseText;try{var errorType=JSON.parse(errorResponse);if(errorType.codeErreur=="PSEUDO_REQUIRED"||errorType.codeErreur=="PSEUDO_ALREADY_USE"){errorMessage.classList.add(reviews.reviewHiddenClass);if(errorType.codeErreur=="PSEUDO_ALREADY_USE"){unauthorizedMessage.classList.remove(reviews.reviewHiddenClass);nonicknameMessage.classList.add(reviews.reviewHiddenClass);}else{nonicknameMessage.classList.remove(reviews.reviewHiddenClass);unauthorizedMessage.classList.add(reviews.reviewHiddenClass);}
reviews.reviewForm.classList.remove(reviews.reviewHiddenClass);var JSONForm=form2Json(formSerialize);webshim.initReviews();reviews.formReviewNickname();formReviewPost(JSONForm);}else{unauthorizedMessage.classList.add(reviews.reviewHiddenClass);nonicknameMessage.classList.add(reviews.reviewHiddenClass);reviews.reviewForm.classList.add(reviews.reviewHiddenClass);errorMessage.classList.remove(reviews.reviewHiddenClass);}}catch(e){unauthorizedMessage.classList.add(reviews.reviewHiddenClass);nonicknameMessage.classList.add(reviews.reviewHiddenClass);reviews.reviewForm.classList.add(reviews.reviewHiddenClass);errorMessage.classList.remove(reviews.reviewHiddenClass);errorMessage.querySelector('.js-product-back-link').href="/";errorMessage.querySelector('.js-product-back-link').innerHTML="Retour  l'accueil";}}else if(xhr.status=="500"){var errorResponse=xhr.responseText;var errorType=JSON.parse(errorResponse);unauthorizedMessage.classList.add(reviews.reviewHiddenClass);nonicknameMessage.classList.add(reviews.reviewHiddenClass);reviews.reviewForm.classList.add(reviews.reviewHiddenClass);errorMessage.classList.remove(reviews.reviewHiddenClass);errorMessage.querySelector('.js-product-back-link').href=errorType.redirectUrl;}else if(xhr.status=="400"){var errorResponse=xhr.responseText;var errorType=JSON.parse(errorResponse);if(errorType.codeErreur=="ERROR_DUPLICATE_SUBMISSION"){unauthorizedMessage.classList.add(reviews.reviewHiddenClass);nonicknameMessage.classList.add(reviews.reviewHiddenClass);reviews.reviewForm.classList.add(reviews.reviewHiddenClass);errorMessage.classList.add(reviews.reviewHiddenClass);impossibleMessage.classList.remove(reviews.reviewHiddenClass);impossibleMessage.querySelector('.js-product-back-link').href=errorType.redirectUrl;deleteSessionStorage('review-'+reviews.reflm);}else if(errorType.codeErreur=="BAD_REQUEST"){document.querySelector('.review-form-unauthorized').classList.add('review-form-message');document.querySelector('.review-form-nonickname').classList.add('review-form-message');document.querySelector('.review-form').classList.add('review-form-message');document.querySelector('.review-form-confirmation').classList.add('review-form-message');document.querySelector('.review-form-impossible').classList.add('review-form-message');document.querySelector('.review-form-error').classList.remove('review-form-message');}}}});};var form2Json=function form2Json(query){var match;var pl=/\+/g;var search=/([^&=]+)=?([^&]*)/g;var decode=function decode(s){return decodeURIComponent(s.replace(pl," "));};var form={};while(match=search.exec(query)){form[decode(match[1])]=decode(match[2]);}
return form;};var reviewShowImage=function reviewShowImage(){var btn="js-show-image-popin";reviews.body.addEventListener('click',function(e){var clickedElement=e.target;if(clickedElement.classList.contains(btn)){var popinToOpen=clickedElement.dataset.popin;var imageToOpen=clickedElement.src;document.querySelector(popinToOpen).querySelector('img').src=imageToOpen;lm.popin.displayPopin(popinToOpen,'.popin-close-link');}});};module.exports.reviews=reviews;},{"./_lazyLoadImage.js":35,"./_submodules/_ajax.js":43,"./_submodules/_flickity.js":46,"./_submodules/_forms.js":47,"./_submodules/_manipulation.js":50,"./_submodules/_popins.js":51,"./_submodules/_reviewsFeedback.js":52,"./_submodules/_reviewsNavigation.js":53,"./_submodules/_reviewsUploadFile.js":54,"./_submodules/_storageAvailaible.js":55,"./_submodules/_tools.js":56,"./_submodules/_tooltip.js":57,"./_webshim.js":61}],40:[function(require,module,exports){'use strict';var layers=require('./_submodules/_layers.js');module.exports.sansFrais3x={init:function init(){$('#corps').on('click','.finance-3xcb',function(e){e.preventDefault();lm.layers.displayPopin("#cb3x-popin",true,".popin-close-link");});}};},{"./_submodules/_layers.js":49}],41:[function(require,module,exports){'use strict';var tools=require('./_submodules/_tools.js');var layers=require('./_submodules/_layers.js');var hitEventTagCo=require('./_tracking.js').hitEventTagCo;var creationCookie=function creationCookie(step,cookieName){if(parseInt(Math.random()*step,10)===1||step==1){tools.setCookie(cookieName,'aff=true|ref=0|rep=false',satisfactionModule.dtExpire);}else{tools.setCookie(cookieName,'aff=true|ref=0|rep=false',satisfactionModule.dtExpire);}};var controleCookie=function controleCookie(cookieName){var decodeCookie=decodeURIComponent(tools.getCookie(cookieName));console.log("decode"+decodeCookie);var tableau=decodeCookie.split('|');var tabParam=new Object();var tabTemp;for(var i=0;i<tableau.length;i++){tabTemp=tableau[i].split('=');tabParam[tabTemp[0]]=tabTemp[1];}
return tabParam;};var rewriteCookie=function rewriteCookie(tabParam,cookieName){tools.setCookie(cookieName,'aff='+tabParam['aff']+'|ref='+tabParam['ref']+'|rep='+tabParam['rep'],satisfactionModule.dtExpire);};module.exports.init=function init(){layers.init();};var satisfactionModule;satisfactionModule=module.exports.satisfaction={dtExpire:null,init:function init(){satisfactionModule=this;if(document.getElementById('productSurvey')){this.objRef=this.params.product;this.start(1,2,'a.repondre','a.refus',this.objRef,'satisf_product');}else{var params=tools.extractURLParams();if(params['xtor']){this.objRef=this.params.xtor;this.params.xtor.url+=params['xtor'];}else{if(Math.random()<0.5){this.objRef=this.params.prime;}else{this.objRef=this.params.defaut;}}
this.start(this.params.pas,2,'a.repondre','a.refus',this.objRef,'satisfaction');}
this.dtExpire=new Date();this.dtExpire.setTime(this.dtExpire.getTime()+2*30*24*60*60*1000);},start:function start(step,nbRefus,btnOui,btnNon,objEnquete,cookieName){if(!tools.getCookie(cookieName)){creationCookie(step,cookieName);}
var tabParam=controleCookie(cookieName);if(parseInt(Math.random()*step,10)===1||step==1){tabParam['aff']='true';}else{tabParam['aff']='false';}
rewriteCookie(tabParam,cookieName);this.affichagePopinSatisfaction(nbRefus,btnOui,btnNon,objEnquete.url,objEnquete.txt,cookieName);},params:{pas:500,prime:{txt:'Nous aimerions connaitre votre niveau de satisfaction concernant votre visite sur le site www.leroymerlin.fr.</p><p>Pour recueillir votre opinion, un questionnaire vous sera propos  la fin de votre visite.',url:'http://enquetes.easypanel.fr/leroy-merlin-visite/ethnos.dll'},product:{txt:'Nous aimerions connatre votre avis sur la qualit du site www.leroymerlin.fr.</p><p>Un questionnaire de 5 minutes vous sera propos  la fin de votre visite..',url:'http://enquetes.easypanel.fr/160119lmficv2/ethnos.dll?id='+$('#global-reflm span').text()+'&P2'},xtor:{txt:'Nous aimerions connaitre votre niveau de satisfaction concernant votre visite sur le site www.leroymerlin.fr.</p><p>Pour recueillir votre opinion, un questionnaire vous sera propos  la fin de votre visite.',url:'http://enquetes.easypanel.fr/151106lm/ethnos.dll?q1='},defaut:{txt:'Nous aimerions connatre votre avis sur la qualit du site www.leroymerlin.fr.</p><p>Pour recueillir vos impressions, un questionnaire vous sera propos  la fin de votre visite.',url:'http://enquetes.easypanel.fr/lmsatisv6/introduction/intro-leroymerlin.asp'}},affichagePopinSatisfaction:function affichagePopinSatisfaction(nbRefus,btnOui,btnNon,urlEnquete,txtEnquete,cookieName){var tabParam=controleCookie(cookieName);if(tabParam['aff']=='true'&&tabParam['rep']=='false'&&parseInt(tabParam['ref'],10)<nbRefus){var dataTagco_oui="{'categorie':'satisfaction','action':'clic','label':'oui'}",dataTagco_non="{'categorie':'satisfaction','action':'clic','label':'non'}";var popinSatisfaction=$('<div id="layerSatisfaction" class="lm-popin lm-popinFx3 lm-popinVisible" style="left: 409px;"><div class="lm-popin-background"><div class="lm-popin-container"><a class="popin-close-link"><i class="ico-cross"></i></a><h1 class="title-page">Enqute de satisfaction</h1><p>'+txtEnquete+'</p><p class="question">Acceptez-vous d\'y participer ?</p><div><a class="repondre cta green js-tagGA" href="#" data-tcevent="satisfaction-clic" data-tagco="'+dataTagco_oui+'">Oui</a><a class="refus popin-close-link cta grey js-tagGA" href="#" data-tcevent="satisfaction-clic" data-tagco="'+dataTagco_non+'">Non</a></div><p class="remerciements">Merci d\'avance pour votre aide et bonne visite !</p></div></div></div>');popinSatisfaction.appendTo('body');$(window).load(function(){var arrayEvents="{'categorie':'satisfaction','action':'affichage','label':'"+window.location.href+"'}";hitEventTagCo(popinSatisfaction,"satisfaction-show",arrayEvents);});layers.displayPopin(popinSatisfaction,true,".popin-close-link");}
$(btnOui).on('click',function(e){var tabParam=controleCookie(cookieName);tabParam['rep']='true';rewriteCookie(tabParam,cookieName);$('#layerSatisfaction .lm-popin-container > .popin-close-link').trigger('click');window.open(urlEnquete).blur();window.focus();});$(btnNon).on('click',function(e){var tabParam=controleCookie(cookieName);tabParam['ref']=String(parseInt(tabParam['ref'],10)+1);rewriteCookie(tabParam,cookieName);hitEventTagCo(popinSatisfaction,"satisfaction-clic",dataTagco_non);});}};},{"./_submodules/_layers.js":49,"./_submodules/_tools.js":56,"./_tracking.js":59}],42:[function(require,module,exports){'use strict';var ajax=require('./_submodules/_ajax.js');var tools=require('./_submodules/_tools.js');module.exports.init=function init(){var delay=function(){var timer=0;return function(callback,ms){clearTimeout(timer);timer=setTimeout(callback,ms);};}();var elementsToDisplay=$('#suggest, #header div.corner-suggest'),tousNosProduits=$('#header a.all-products-nav');var hCookie='';var displaySearchHandler=function displaySearchHandler(){if($('#suggest div.wrapper-suggest').length>0){$('#overlay').addClass('transparent').show();if(tousNosProduits.is(':visible')){$('#overlay').css("background","#000");}else{$('#overlay').css("background","none");}
elementsToDisplay.show();}else{elementsToDisplay.hide();$('#overlay').hide();}};var successCallbackSearch=function successCallbackSearch(data){$('#suggest-recip').html(data);var itemLink=$('#suggest-recip').find('li a');itemLink.each(function(){if(typeof $(this).data('tagco')!='undefined'){var itemLinkTagCo=JSON.parse($(this).data('tagco').replace(/'/g,'"'));if(itemLinkTagCo){itemLinkTagCo.categorie=$('#autocomplete').val();var newitemLinkTagCo=JSON.stringify(itemLinkTagCo);$(this).attr('data-tagco',newitemLinkTagCo);}}});};var completeCallbackSearch=function completeCallbackSearch(){displaySearchHandler();};var historyCookieResult=function historyCookieResult(data){var listeHisto=$('#liste-histo-rech');if(window.DEBUG){console.log(data);}
listeHisto.append(data);displaySearchHandler();};var getHistoryCookie=function getHistoryCookie(){if(hCookie!=decodeURIComponent(tools.getCookie('historySearch'))||$('#liste-histo-rech').length===0){hCookie=decodeURIComponent(tools.getCookie('historySearch'));hCookie=hCookie.replace(/\+/g,' ');if(hCookie!=="null"&&hCookie!==""&&hCookie.length>0){$('#suggest-recip').html('<div class="wrapper-suggest"><h2>Mes recherches prcdentes :</h2><ul id="liste-histo-rech"></ul></div>');if(hCookie!='""'){var tabHcookie=hCookie.split("||");var historyDOM='';tabHcookie.forEach(function(keyword){return historyDOM+='<li>\n                <a href="/v3/search/search.do?keyword='+keyword+'" class="js-tagGA" data-tcevent="search" data-tagco="{\'categorie\': \''+keyword+'\', \'action\' : \'mes recherches pr\xE9c\xE9dentes\', \'label\': \''+tools.normalize(keyword)+'\'}">\n                  '+keyword+'\n                </a>\n                <a class="deleteSearchHistory" href="#" value="'+keyword+'" style="float:right"><i class="ico-cross"></i></a>\n            </li>';});historyCookieResult(historyDOM);}else{elementsToDisplay.hide();}}}else{historyCookieResult();}};var getKeywortTagCo=function getKeywortTagCo(el){var searchSubmitButton=el.parents('#globalSearch');var searchSubmitButtonTagCo=JSON.parse(searchSubmitButton.find('.btnRecherche').data('tagco').replace(/'/g,'"'));searchSubmitButtonTagCo.categorie=el.val();var newSearchSubmitButtonTagCo=JSON.stringify(searchSubmitButtonTagCo);searchSubmitButton.find('.btnRecherche').attr('data-tagco',newSearchSubmitButtonTagCo);};$('#globalSearch').on('submit',function(e){if(!$('#autocomplete').val()){e.preventDefault();}
$(this).addClass('go-search');}).on('keyup','#autocomplete',function(){var $this=$(this);delay(function(){if($this.val().length<=2&&!$('#globalSearch').hasClass('go-search')){$('#suggest-recip div.bg-loader, div.loader-suggest').show();getHistoryCookie();getKeywortTagCo($this);}else if($this.val().length>2&&!$('#globalSearch').hasClass('go-search')){$('#suggest-recip div.bg-loader, div.loader-suggest').show();getKeywortTagCo($this);ajax.ajaxHandler('get','/v3/search-endeca/autosuggest.do','Ntt='+encodeURIComponent($this.val())+'*',successCallbackSearch,completeCallbackSearch);}},500);}).on('focus','#autocomplete',function(){getHistoryCookie();if(tousNosProduits.is(':visible')&&tousNosProduits.hasClass('active')){$('#nav').hide();tousNosProduits.removeClass('active');}});$('body').on('click','#overlay.transparent',function(){$('#overlay').hide().removeClass('transparent');elementsToDisplay.hide();if(tousNosProduits.is(':visible')){$('#overlay').css("background","none");}});$('#suggest-recip').on('click','.deleteSearchHistory',function(e){ajax.ajaxHandler('post','/v3/search-endeca/deleteHistorySearch.do','Ntt='+encodeURIComponent($('input#autocomplete').val())+'&searchRequest='+this.getAttribute("value"),getHistoryCookie,null);});};},{"./_submodules/_ajax.js":43,"./_submodules/_tools.js":56}],43:[function(require,module,exports){"use strict";module.exports.ajaxHandler=function ajaxHandler(method,url,dataString,successCallback,completeCallback,errorCallback,dataType){if(!dataType){var dataType='html';}
$.ajax({type:method,url:url,data:dataString,dataType:dataType,success:function success(data){if(successCallback&&typeof successCallback==="function"){return successCallback(data);}},complete:function complete(){if(completeCallback&&typeof completeCallback==="function"){return completeCallback();}},error:function error(xhr){if(errorCallback&&typeof errorCallback==="function"){return errorCallback(xhr);}}});};module.exports.refreshZonePattern=function refreshZonePattern(JSON,callBackCreate,callBackUpdate,callBackDelete,callBackSuccess,debug){"use strict";function createZones(zone){if(debug){console.log('_______________');console.log('Cration de zone demand pour :');console.log(zone);}
var element=$("[data-zoneId="+zone.id+"]"),elementDeReference=$("[data-zoneId="+zone.positionId+"]"),newZone=zone.contentHtml;if(element.length){updateZones(zone);}else{if(elementDeReference.length){if(zone.position=='after'){elementDeReference.after(newZone);}else if(zone.position=='before'){elementDeReference.before(newZone);}else if(zone.position=='append'){elementDeReference.append(newZone);}}}
if(callBackCreate&&typeof callBackCreate==="function"){callBackCreate(zone);}}
function updateZones(zone){if(debug){console.log('_______________');console.log('Mise  jour de zone demand pour :');console.log(zone);}
var element=$("[data-zoneId="+zone.id+"]");if(element.length){var elementLinked=$("[data-zoneIdLinked="+zone.id+"]");if(elementLinked.length){elementLinked.remove();}
var majZone=zone.contentHtml;element.replaceWith(majZone);}
if(callBackUpdate&&typeof callBackUpdate==="function"){callBackUpdate(zone);}}
function deleteZones(zone){if(debug){console.log('_______________');console.log('Supression de zone demand pour :');console.log(zone);}
var element=$("[data-zoneId="+zone.id+"]");if(element.length){var elementLinked=$("[data-zoneIdLinked="+zone.id+"]");if(elementLinked.length){elementLinked.remove();}
element.remove();}
if(callBackDelete&&typeof callBackDelete==="function"){callBackDelete(zone);}}
if(debug){console.log('_______________');console.log('ResponseJSON');console.log(JSON);}
if(JSON.redirect){if(debug){console.log('_______________');console.log('Redirection vers '+JSON.redirect+' demande');}else{window.location.href=JSON.redirect;}}else{if(JSON.createZones){$.each(JSON.createZones,function(i,zone){createZones(zone);});}
if(JSON.updateZones){$.each(JSON.updateZones,function(i,zone){updateZones(zone);});}
if(JSON.deleteZones){$.each(JSON.deleteZones,function(i,zone){deleteZones(zone);});}
if($('.layer_loader_fullpage').length&&$('.layer_loader_fullpage').hasClass('active')){$('.layer_loader_fullpage').removeClass('active');}
if(callBackSuccess&&typeof callBackSuccess==="function"){if(debug){console.log('_______________');console.log('successRefresh');}
callBackSuccess();}}};},{}],44:[function(require,module,exports){'use strict';var flickity=require('./_flickity.js').flickity;module.exports.carouselMag={init:function init(){if(document.querySelector('#carousselMagasin')){flickity.custom(document.querySelector('#carousselMagasin'),{groupCells:true,imagesLoaded:true,pageDots:false,lazyLoad:true,cellSelector:'.carousel-cell-image',autoPlay:450});}}};},{"./_flickity.js":46}],45:[function(require,module,exports){"use strict";module.exports.init=function init(){if(typeof lm.initializedModule.elevateZoom==="boolean"){return;};lm.initializedModule.elevateZoom=true;var lensHeight,lensWidth,lensOpacity,lensColour,lensSize,lensStyle;/* jQuery elevateZoom 3.0.8 - Demo's and documentation: - www.elevateweb.co.uk/image-zoom - Copyright (c) 2013 Andrew Eades - www.elevateweb.co.uk - Dual licensed under the LGPL licenses. - http://en.wikipedia.org/wiki/MIT_License - http://en.wikipedia.org/wiki/GNU_General_Public_License */
"function" !==typeof Object.create&&(Object.create=function(d){function h(){}h.prototype=d;return new h();});(function(d,h,l,m){var k={init:function init(b,a){var c=this;c.elem=a;c.$elem=d(a);c.imageSrc=c.$elem.data("zoom-image")?c.$elem.data("zoom-image"):c.$elem.attr("src");c.options=d.extend({},d.fn.elevateZoom.options,b);c.options.tint&&(c.options.lensColour="none",c.options.lensOpacity="1");"inner"==c.options.zoomType&&(c.options.showLens=!1);c.$elem.parent().removeAttr("title").removeAttr("alt");c.zoomImage=c.imageSrc;c.refresh(1);d("#"+c.options.gallery+" a").click(function(a){c.options.galleryActiveClass&&(d("#"+c.options.gallery+" a").removeClass(c.options.galleryActiveClass),d(this).addClass(c.options.galleryActiveClass));a.preventDefault();d(this).data("zoom-image")?c.zoomImagePre=d(this).data("zoom-image"):c.zoomImagePre=d(this).data("image");c.swaptheimage(d(this).data("image"),c.zoomImagePre);return!1;});},refresh:function refresh(b){var a=this;setTimeout(function(){a.fetch(a.imageSrc);},b||a.options.refresh);},fetch:function fetch(b){var a=this,c=new Image();c.onload=function(){a.largeWidth=c.width;a.largeHeight=c.height;a.startZoom();a.currentImage=a.imageSrc;a.options.onZoomedImageLoaded(a.$elem);};c.src=b;},startZoom:function startZoom(){var b=this;b.nzWidth=b.$elem.width();b.nzHeight=b.$elem.height();b.isWindowActive=!1;b.isLensActive=!1;b.isTintActive=!1;b.overWindow=!1;b.options.imageCrossfade&&(b.zoomWrap=b.$elem.wrap('<div style="height:'+b.nzHeight+"px;width:"+b.nzWidth+'px;" class="zoomWrapper" />'),b.$elem.css("position","absolute"));b.zoomLock=1;b.scrollingLock=!1;b.changeBgSize=!1;b.currentZoomLevel=b.options.zoomLevel;b.nzOffset=b.$elem.offset();b.widthRatio=b.largeWidth/b.currentZoomLevel/b.nzWidth;b.heightRatio=b.largeHeight/b.currentZoomLevel/b.nzHeight;"window"==b.options.zoomType&&(b.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(b.options.zoomWindowBgColour)+";width: "+String(b.options.zoomWindowWidth)+"px;height: "+String(b.options.zoomWindowHeight)+"px;float: left;background-size: "+b.largeWidth/b.currentZoomLevel+"px "+b.largeHeight/b.currentZoomLevel+"px;display: none;z-index:100;border: "+String(b.options.borderSize)+"px solid "+b.options.borderColour+";background-repeat: no-repeat;position: absolute;");if("inner"==b.options.zoomType){var a=b.$elem.css("border-left-width");b.zoomWindowStyle="overflow: hidden;margin-left: "+String(a)+";margin-top: "+String(a)+";background-position: 0px 0px;width: "+String(b.nzWidth)+"px;height: "+String(b.nzHeight)+"px;float: left;display: none;cursor:"+b.options.cursor+";px solid "+b.options.borderColour+";background-repeat: no-repeat;position: absolute;";}"window"==b.options.zoomType&&(lensHeight=b.nzHeight<b.options.zoomWindowWidth/b.widthRatio?b.nzHeight:String(b.options.zoomWindowHeight/b.heightRatio),lensWidth=b.largeWidth<b.options.zoomWindowWidth?b.nzWidth:b.options.zoomWindowWidth/b.widthRatio,b.lensStyle="background-position: 0px 0px;width: "+String(b.options.zoomWindowWidth/b.widthRatio)+"px;height: "+String(b.options.zoomWindowHeight/b.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+b.options.lensOpacity+";filter: alpha(opacity = "+100*b.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+b.options.lensColour+";cursor:"+b.options.cursor+";border: "+b.options.lensBorderSize+"px solid "+b.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;");b.tintStyle="display: block;position: absolute;background-color: "+b.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+b.nzWidth+"px;height: "+b.nzHeight+"px;";b.lensRound="";"lens"==b.options.zoomType&&(b.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(b.options.borderSize)+"px solid "+b.options.borderColour+";width:"+String(b.options.lensSize)+"px;height:"+String(b.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;");"round"==b.options.lensShape&&(b.lensRound="border-top-left-radius: "+String(b.options.lensSize/2+b.options.borderSize)+"px;border-top-right-radius: "+String(b.options.lensSize/2+b.options.borderSize)+"px;border-bottom-left-radius: "+String(b.options.lensSize/2+b.options.borderSize)+"px;border-bottom-right-radius: "+String(b.options.lensSize/2+b.options.borderSize)+"px;");b.zoomContainer=d('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:absolute;left:'+b.nzOffset.left+"px;top:"+b.nzOffset.top+"px;height:"+b.nzHeight+"px;width:"+b.nzWidth+'px;"></div>');d("body").append(b.zoomContainer);b.options.containLensZoom&&"lens"==b.options.zoomType&&b.zoomContainer.css("overflow","hidden");"inner" !=b.options.zoomType&&(b.zoomLens=d("<div class='zoomLens' style='"+b.lensStyle+b.lensRound+"'>&nbsp;</div>").appendTo(b.zoomContainer).click(function(){b.$elem.trigger("click");}),b.options.tint&&(b.tintContainer=d("<div/>").addClass("tintContainer"),b.zoomTint=d("<div class='zoomTint' style='"+b.tintStyle+"'></div>"),b.zoomLens.wrap(b.tintContainer),b.zoomTintcss=b.zoomLens.after(b.zoomTint),b.zoomTintImage=d('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+b.nzWidth+"px; height: "+b.nzHeight+'px;" src="'+b.imageSrc+'">').appendTo(b.zoomLens).click(function(){b.$elem.trigger("click");})));isNaN(b.options.zoomWindowPosition)?b.zoomWindow=d("<div style='z-index:999;left:"+b.windowOffsetLeft+"px;top:"+b.windowOffsetTop+"px;"+b.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){b.$elem.trigger("click");}):b.zoomWindow=d("<div style='z-index:999;left:"+b.windowOffsetLeft+"px;top:"+b.windowOffsetTop+"px;"+b.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo(b.zoomContainer).click(function(){b.$elem.trigger("click");});b.zoomWindowContainer=d("<div/>").addClass("zoomWindowContainer").css("width",b.options.zoomWindowWidth);b.zoomWindow.wrap(b.zoomWindowContainer);"lens"==b.options.zoomType&&b.zoomLens.css({backgroundImage:"url('"+b.imageSrc+"')"});"window"==b.options.zoomType&&b.zoomWindow.css({backgroundImage:"url('"+b.imageSrc+"')"});"inner"==b.options.zoomType&&b.zoomWindow.css({backgroundImage:"url('"+b.imageSrc+"')"});b.$elem.bind("touchmove",function(a){a.preventDefault();b.setPosition(a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]);});b.zoomContainer.bind("touchmove",function(a){"inner"==b.options.zoomType&&b.showHideWindow("show");a.preventDefault();b.setPosition(a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]);});b.zoomContainer.bind("touchend",function(a){b.showHideWindow("hide");b.options.showLens&&b.showHideLens("hide");b.options.tint&&"inner" !=b.options.zoomType&&b.showHideTint("hide");});b.$elem.bind("touchend",function(a){b.showHideWindow("hide");b.options.showLens&&b.showHideLens("hide");b.options.tint&&"inner" !=b.options.zoomType&&b.showHideTint("hide");});b.options.showLens&&(b.zoomLens.bind("touchmove",function(a){a.preventDefault();b.setPosition(a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]);}),b.zoomLens.bind("touchend",function(a){b.showHideWindow("hide");b.options.showLens&&b.showHideLens("hide");b.options.tint&&"inner" !=b.options.zoomType&&b.showHideTint("hide");}));b.$elem.bind("mousemove",function(a){!1==b.overWindow&&b.setElements("show");if(b.lastX!==a.clientX||b.lastY!==a.clientY)b.setPosition(a),b.currentLoc=a;b.lastX=a.clientX;b.lastY=a.clientY;});b.zoomContainer.bind("mousemove",function(a){!1==b.overWindow&&b.setElements("show");if(b.lastX!==a.clientX||b.lastY!==a.clientY)b.setPosition(a),b.currentLoc=a;b.lastX=a.clientX;b.lastY=a.clientY;});"inner" !=b.options.zoomType&&b.zoomLens.bind("mousemove",function(a){if(b.lastX!==a.clientX||b.lastY!==a.clientY)b.setPosition(a),b.currentLoc=a;b.lastX=a.clientX;b.lastY=a.clientY;});b.options.tint&&"inner" !=b.options.zoomType&&b.zoomTint.bind("mousemove",function(a){if(b.lastX!==a.clientX||b.lastY!==a.clientY)b.setPosition(a),b.currentLoc=a;b.lastX=a.clientX;b.lastY=a.clientY;});"inner"==b.options.zoomType&&b.zoomWindow.bind("mousemove",function(a){if(b.lastX!==a.clientX||b.lastY!==a.clientY)b.setPosition(a),b.currentLoc=a;b.lastX=a.clientX;b.lastY=a.clientY;});b.zoomContainer.add(b.$elem).mouseenter(function(){!1==b.overWindow&&b.setElements("show");}).mouseleave(function(){b.scrollLock||b.setElements("hide");});"inner" !=b.options.zoomType&&b.zoomWindow.mouseenter(function(){b.overWindow=!0;b.setElements("hide");}).mouseleave(function(){b.overWindow=!1;});b.minZoomLevel=b.options.minZoomLevel?b.options.minZoomLevel:2*b.options.scrollZoomIncrement;b.options.scrollZoom&&b.zoomContainer.add(b.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(a){b.scrollLock=!0;clearTimeout(d.data(this,"timer"));d.data(this,"timer",setTimeout(function(){b.scrollLock=!1;},250));var e=a.originalEvent.wheelDelta||-1*a.originalEvent.detail;a.stopImmediatePropagation();a.stopPropagation();a.preventDefault();0<e/120?b.currentZoomLevel>=b.minZoomLevel&&b.changeZoomLevel(b.currentZoomLevel-b.options.scrollZoomIncrement):b.options.maxZoomLevel?b.currentZoomLevel<=b.options.maxZoomLevel&&b.changeZoomLevel(parseFloat(b.currentZoomLevel)+b.options.scrollZoomIncrement):b.changeZoomLevel(parseFloat(b.currentZoomLevel)+b.options.scrollZoomIncrement);return!1;});},setElements:function setElements(b){if(!this.options.zoomEnabled)return!1;"show"==b&&this.isWindowSet&&("inner"==this.options.zoomType&&this.showHideWindow("show"),"window"==this.options.zoomType&&this.showHideWindow("show"),this.options.showLens&&this.showHideLens("show"),this.options.tint&&"inner" !=this.options.zoomType&&this.showHideTint("show"));"hide"==b&&("window"==this.options.zoomType&&this.showHideWindow("hide"),this.options.tint||this.showHideWindow("hide"),this.options.showLens&&this.showHideLens("hide"),this.options.tint&&this.showHideTint("hide"));},setPosition:function setPosition(b){if(!this.options.zoomEnabled)return!1;this.nzHeight=this.$elem.height();this.nzWidth=this.$elem.width();this.nzOffset=this.$elem.offset();this.options.tint&&"inner" !=this.options.zoomType&&(this.zoomTint.css({top:0}),this.zoomTint.css({left:0}));this.options.responsive&&!this.options.scrollZoom&&this.options.showLens&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.largeWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"lens" !=this.options.zoomType&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.options.zoomWindowWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight),this.options.tint&&(this.zoomTintImage.css("width",this.nzWidth),this.zoomTintImage.css("height",this.nzHeight))),"lens"==this.options.zoomType&&this.zoomLens.css({width:String(this.options.lensSize)+"px",height:String(this.options.lensSize)+"px"}));this.zoomContainer.css({top:this.nzOffset.top});this.zoomContainer.css({left:this.nzOffset.left});this.mouseLeft=parseInt(b.pageX-this.nzOffset.left);this.mouseTop=parseInt(b.pageY-this.nzOffset.top);"window"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.zoomLens.height()/2,this.Eboppos=this.mouseTop>this.nzHeight-this.zoomLens.height()/2-2*this.options.lensBorderSize,this.Eloppos=this.mouseLeft<0+this.zoomLens.width()/2,this.Eroppos=this.mouseLeft>this.nzWidth-this.zoomLens.width()/2-2*this.options.lensBorderSize);"inner"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.nzHeight/2/this.heightRatio,this.Eboppos=this.mouseTop>this.nzHeight-this.nzHeight/2/this.heightRatio,this.Eloppos=this.mouseLeft<0+this.nzWidth/2/this.widthRatio,this.Eroppos=this.mouseLeft>this.nzWidth-this.nzWidth/2/this.widthRatio-2*this.options.lensBorderSize);0>=this.mouseLeft||0>this.mouseTop||this.mouseLeft>this.nzWidth||this.mouseTop>this.nzHeight?this.setElements("hide"):(this.options.showLens&&(this.lensLeftPos=String(this.mouseLeft-this.zoomLens.width()/2),this.lensTopPos=String(this.mouseTop-this.zoomLens.height()/2)),this.Etoppos&&(this.lensTopPos=0),this.Eloppos&&(this.tintpos=this.lensLeftPos=this.windowLeftPos=0),"window"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),"inner"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.nzWidth-2*this.options.lensBorderSize)),"lens"==this.options.zoomType&&(this.windowLeftPos=String(-1*((b.pageX-this.nzOffset.left)*this.widthRatio-this.zoomLens.width()/2)),this.windowTopPos=String(-1*((b.pageY-this.nzOffset.top)*this.heightRatio-this.zoomLens.height()/2)),this.zoomLens.css({backgroundPosition:this.windowLeftPos+"px "+this.windowTopPos+"px"}),this.changeBgSize&&(this.nzHeight>this.nzWidth?("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"})):("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"})),this.changeBgSize=!1),this.setWindowPostition(b)),this.options.tint&&"inner" !=this.options.zoomType&&this.setTintPosition(b),"window"==this.options.zoomType&&this.setWindowPostition(b),"inner"==this.options.zoomType&&this.setWindowPostition(b),this.options.showLens&&(this.fullwidth&&"lens" !=this.options.zoomType&&(this.lensLeftPos=0),this.zoomLens.css({left:this.lensLeftPos+"px",top:this.lensTopPos+"px"})));},showHideWindow:function showHideWindow(b){"show" !=b||this.isWindowActive||(this.options.zoomWindowFadeIn?this.zoomWindow.stop(!0,!0,!1).fadeIn(this.options.zoomWindowFadeIn):this.zoomWindow.show(),this.isWindowActive=!0);"hide"==b&&this.isWindowActive&&(this.options.zoomWindowFadeOut?this.zoomWindow.stop(!0,!0).fadeOut(this.options.zoomWindowFadeOut):this.zoomWindow.hide(),this.isWindowActive=!1);},showHideLens:function showHideLens(b){"show" !=b||this.isLensActive||(this.options.lensFadeIn?this.zoomLens.stop(!0,!0,!1).fadeIn(this.options.lensFadeIn):this.zoomLens.show(),this.isLensActive=!0);"hide"==b&&this.isLensActive&&(this.options.lensFadeOut?this.zoomLens.stop(!0,!0).fadeOut(this.options.lensFadeOut):this.zoomLens.hide(),this.isLensActive=!1);},showHideTint:function showHideTint(b){"show" !=b||this.isTintActive||(this.options.zoomTintFadeIn?this.zoomTint.css({opacity:this.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(this.zoomTint.css({opacity:this.options.tintOpacity}).animate(),this.zoomTint.show()),this.isTintActive=!0);"hide"==b&&this.isTintActive&&(this.options.zoomTintFadeOut?this.zoomTint.stop(!0,!0).fadeOut(this.options.zoomTintFadeOut):this.zoomTint.hide(),this.isTintActive=!1);},setLensPostition:function setLensPostition(b){},setWindowPostition:function setWindowPostition(b){var a=this;if(isNaN(a.options.zoomWindowPosition))a.externalContainer=d("#"+a.options.zoomWindowPosition),a.externalContainerWidth=a.externalContainer.width(),a.externalContainerHeight=a.externalContainer.height(),a.externalContainerOffset=a.externalContainer.offset(),a.windowOffsetTop=a.externalContainerOffset.top,a.windowOffsetLeft=a.externalContainerOffset.left;else switch(a.options.zoomWindowPosition){case 1:a.windowOffsetTop=a.options.zoomWindowOffety;a.windowOffsetLeft=+a.nzWidth;break;case 2:a.options.zoomWindowHeight>a.nzHeight&&(a.windowOffsetTop=-1*(a.options.zoomWindowHeight/2-a.nzHeight/2),a.windowOffsetLeft=a.nzWidth);break;case 3:a.windowOffsetTop=a.nzHeight-a.zoomWindow.height()-2*a.options.borderSize;a.windowOffsetLeft=a.nzWidth;break;case 4:a.windowOffsetTop=a.nzHeight;a.windowOffsetLeft=a.nzWidth;break;case 5:a.windowOffsetTop=a.nzHeight;a.windowOffsetLeft=a.nzWidth-a.zoomWindow.width()-2*a.options.borderSize;break;case 6:a.options.zoomWindowHeight>a.nzHeight&&(a.windowOffsetTop=a.nzHeight,a.windowOffsetLeft=-1*(a.options.zoomWindowWidth/2-a.nzWidth/2+2*a.options.borderSize));break;case 7:a.windowOffsetTop=a.nzHeight;a.windowOffsetLeft=0;break;case 8:a.windowOffsetTop=a.nzHeight;a.windowOffsetLeft=-1*(a.zoomWindow.width()+2*a.options.borderSize);break;case 9:a.windowOffsetTop=a.nzHeight-a.zoomWindow.height()-2*a.options.borderSize;a.windowOffsetLeft=-1*(a.zoomWindow.width()+2*a.options.borderSize);break;case 10:a.options.zoomWindowHeight>a.nzHeight&&(a.windowOffsetTop=-1*(a.options.zoomWindowHeight/2-a.nzHeight/2),a.windowOffsetLeft=-1*(a.zoomWindow.width()+2*a.options.borderSize));break;case 11:a.windowOffsetTop=a.options.zoomWindowOffety;a.windowOffsetLeft=-1*(a.zoomWindow.width()+2*a.options.borderSize);break;case 12:a.windowOffsetTop=-1*(a.zoomWindow.height()+2*a.options.borderSize);a.windowOffsetLeft=-1*(a.zoomWindow.width()+2*a.options.borderSize);break;case 13:a.windowOffsetTop=-1*(a.zoomWindow.height()+2*a.options.borderSize);a.windowOffsetLeft=0;break;case 14:a.options.zoomWindowHeight>a.nzHeight&&(a.windowOffsetTop=-1*(a.zoomWindow.height()+2*a.options.borderSize),a.windowOffsetLeft=-1*(a.options.zoomWindowWidth/2-a.nzWidth/2+2*a.options.borderSize));break;case 15:a.windowOffsetTop=-1*(a.zoomWindow.height()+2*a.options.borderSize);a.windowOffsetLeft=a.nzWidth-a.zoomWindow.width()-2*a.options.borderSize;break;case 16:a.windowOffsetTop=-1*(a.zoomWindow.height()+2*a.options.borderSize);a.windowOffsetLeft=a.nzWidth;break;default:a.windowOffsetTop=a.options.zoomWindowOffety,a.windowOffsetLeft=a.nzWidth;}a.isWindowSet=!0;a.windowOffsetTop+=a.options.zoomWindowOffety;a.windowOffsetLeft+=a.options.zoomWindowOffetx;a.zoomWindow.css({top:a.windowOffsetTop});a.zoomWindow.css({left:a.windowOffsetLeft});"inner"==a.options.zoomType&&(a.zoomWindow.css({top:0}),a.zoomWindow.css({left:0}));a.windowLeftPos=String(-1*((b.pageX-a.nzOffset.left)*a.widthRatio-a.zoomWindow.width()/2));a.windowTopPos=String(-1*((b.pageY-a.nzOffset.top)*a.heightRatio-a.zoomWindow.height()/2));a.Etoppos&&(a.windowTopPos=0);a.Eloppos&&(a.windowLeftPos=0);a.Eboppos&&(a.windowTopPos=-1*(a.largeHeight/a.currentZoomLevel-a.zoomWindow.height()));a.Eroppos&&(a.windowLeftPos=-1*(a.largeWidth/a.currentZoomLevel-a.zoomWindow.width()));a.fullheight&&(a.windowTopPos=0);a.fullwidth&&(a.windowLeftPos=0);if("window"==a.options.zoomType||"inner"==a.options.zoomType)1==a.zoomLock&&(1>=a.widthRatio&&(a.windowLeftPos=0),1>=a.heightRatio&&(a.windowTopPos=0)),a.largeHeight<a.options.zoomWindowHeight&&(a.windowTopPos=0),a.largeWidth<a.options.zoomWindowWidth&&(a.windowLeftPos=0),a.options.easing?(a.xp||(a.xp=0),a.yp||(a.yp=0),a.loop||(a.loop=setInterval(function(){a.xp+=(a.windowLeftPos-a.xp)/a.options.easingAmount;a.yp+=(a.windowTopPos-a.yp)/a.options.easingAmount;a.scrollingLock?(clearInterval(a.loop),a.xp=a.windowLeftPos,a.yp=a.windowTopPos,a.xp=-1*((b.pageX-a.nzOffset.left)*a.widthRatio-a.zoomWindow.width()/2),a.yp=-1*((b.pageY-a.nzOffset.top)*a.heightRatio-a.zoomWindow.height()/2),a.changeBgSize&&(a.nzHeight>a.nzWidth?("lens"==a.options.zoomType&&a.zoomLens.css({"background-size":a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"}),a.zoomWindow.css({"background-size":a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"})):("lens" !=a.options.zoomType&&a.zoomLens.css({"background-size":a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvalueheight+"px"}),a.zoomWindow.css({"background-size":a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvaluewidth+"px"})),a.changeBgSize=!1),a.zoomWindow.css({backgroundPosition:a.windowLeftPos+"px "+a.windowTopPos+"px"}),a.scrollingLock=!1,a.loop=!1):(a.changeBgSize&&(a.nzHeight>a.nzWidth?("lens"==a.options.zoomType&&a.zoomLens.css({"background-size":a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"}),a.zoomWindow.css({"background-size":a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"})):("lens" !=a.options.zoomType&&a.zoomLens.css({"background-size":a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvaluewidth+"px"}),a.zoomWindow.css({"background-size":a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvaluewidth+"px"})),a.changeBgSize=!1),a.zoomWindow.css({backgroundPosition:a.xp+"px "+a.yp+"px"}));},16))):(a.changeBgSize&&(a.nzHeight>a.nzWidth?("lens"==a.options.zoomType&&a.zoomLens.css({"background-size":a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"}),a.zoomWindow.css({"background-size":a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"})):("lens"==a.options.zoomType&&a.zoomLens.css({"background-size":a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvaluewidth+"px"}),a.largeHeight/a.newvaluewidth<a.options.zoomWindowHeight?a.zoomWindow.css({"background-size":a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvaluewidth+"px"}):a.zoomWindow.css({"background-size":a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"})),a.changeBgSize=!1),a.zoomWindow.css({backgroundPosition:a.windowLeftPos+"px "+a.windowTopPos+"px"}));},setTintPosition:function setTintPosition(b){this.nzOffset=this.$elem.offset();this.tintpos=String(-1*(b.pageX-this.nzOffset.left-this.zoomLens.width()/2));this.tintposy=String(-1*(b.pageY-this.nzOffset.top-this.zoomLens.height()/2));this.Etoppos&&(this.tintposy=0);this.Eloppos&&(this.tintpos=0);this.Eboppos&&(this.tintposy=-1*(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize));this.Eroppos&&(this.tintpos=-1*(this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize));this.options.tint&&(this.fullheight&&(this.tintposy=0),this.fullwidth&&(this.tintpos=0),this.zoomTintImage.css({left:this.tintpos+"px"}),this.zoomTintImage.css({top:this.tintposy+"px"}));},swaptheimage:function swaptheimage(b,a){var c=this,e=new Image();c.options.loadingIcon&&(c.spinner=d("<div style=\"background: url('"+c.options.loadingIcon+"') no-repeat center;height:"+c.nzHeight+"px;width:"+c.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),c.$elem.after(c.spinner));c.options.onImageSwap(c.$elem);e.onload=function(){c.largeWidth=e.width;c.largeHeight=e.height;c.zoomImage=a;c.zoomWindow.css({"background-size":c.largeWidth+"px "+c.largeHeight+"px"});c.zoomWindow.css({"background-size":c.largeWidth+"px "+c.largeHeight+"px"});c.swapAction(b,a);};e.src=a;},swapAction:function swapAction(b,a){var c=this,e=new Image();e.onload=function(){c.nzHeight=e.height;c.nzWidth=e.width;c.options.onImageSwapComplete(c.$elem);c.doneCallback();};e.src=b;c.currentZoomLevel=c.options.zoomLevel;c.options.maxZoomLevel=!1;"lens"==c.options.zoomType&&c.zoomLens.css({backgroundImage:"url('"+a+"')"});"window"==c.options.zoomType&&c.zoomWindow.css({backgroundImage:"url('"+a+"')"});"inner"==c.options.zoomType&&c.zoomWindow.css({backgroundImage:"url('"+a+"')"});c.currentImage=a;if(c.options.imageCrossfade){var f=c.$elem,g=f.clone();c.$elem.attr("src",b);c.$elem.after(g);g.stop(!0).fadeOut(c.options.imageCrossfade,function(){d(this).remove();});c.$elem.width("auto").removeAttr("width");c.$elem.height("auto").removeAttr("height");f.fadeIn(c.options.imageCrossfade);c.options.tint&&"inner" !=c.options.zoomType&&(f=c.zoomTintImage,g=f.clone(),c.zoomTintImage.attr("src",a),c.zoomTintImage.after(g),g.stop(!0).fadeOut(c.options.imageCrossfade,function(){d(this).remove();}),f.fadeIn(c.options.imageCrossfade),c.zoomTint.css({height:c.$elem.height()}),c.zoomTint.css({width:c.$elem.width()}));c.zoomContainer.css("height",c.$elem.height());c.zoomContainer.css("width",c.$elem.width());"inner" !=c.options.zoomType||c.options.constrainType||(c.zoomWrap.parent().css("height",c.$elem.height()),c.zoomWrap.parent().css("width",c.$elem.width()),c.zoomWindow.css("height",c.$elem.height()),c.zoomWindow.css("width",c.$elem.width()));}else c.$elem.attr("src",b),c.options.tint&&(c.zoomTintImage.attr("src",a),c.zoomTintImage.attr("height",c.$elem.height()),c.zoomTintImage.css({height:c.$elem.height()}),c.zoomTint.css({height:c.$elem.height()})),c.zoomContainer.css("height",c.$elem.height()),c.zoomContainer.css("width",c.$elem.width());c.options.imageCrossfade&&(c.zoomWrap.css("height",c.$elem.height()),c.zoomWrap.css("width",c.$elem.width()));c.options.constrainType&&("height"==c.options.constrainType&&(c.zoomContainer.css("height",c.options.constrainSize),c.zoomContainer.css("width","auto"),c.options.imageCrossfade?(c.zoomWrap.css("height",c.options.constrainSize),c.zoomWrap.css("width","auto"),c.constwidth=c.zoomWrap.width()):(c.$elem.css("height",c.options.constrainSize),c.$elem.css("width","auto"),c.constwidth=c.$elem.width()),"inner"==c.options.zoomType&&(c.zoomWrap.parent().css("height",c.options.constrainSize),c.zoomWrap.parent().css("width",c.constwidth),c.zoomWindow.css("height",c.options.constrainSize),c.zoomWindow.css("width",c.constwidth)),c.options.tint&&(c.tintContainer.css("height",c.options.constrainSize),c.tintContainer.css("width",c.constwidth),c.zoomTint.css("height",c.options.constrainSize),c.zoomTint.css("width",c.constwidth),c.zoomTintImage.css("height",c.options.constrainSize),c.zoomTintImage.css("width",c.constwidth))),"width"==c.options.constrainType&&(c.zoomContainer.css("height","auto"),c.zoomContainer.css("width",c.options.constrainSize),c.options.imageCrossfade?(c.zoomWrap.css("height","auto"),c.zoomWrap.css("width",c.options.constrainSize),c.constheight=c.zoomWrap.height()):(c.$elem.css("height","auto"),c.$elem.css("width",c.options.constrainSize),c.constheight=c.$elem.height()),"inner"==c.options.zoomType&&(c.zoomWrap.parent().css("height",c.constheight),c.zoomWrap.parent().css("width",c.options.constrainSize),c.zoomWindow.css("height",c.constheight),c.zoomWindow.css("width",c.options.constrainSize)),c.options.tint&&(c.tintContainer.css("height",c.constheight),c.tintContainer.css("width",c.options.constrainSize),c.zoomTint.css("height",c.constheight),c.zoomTint.css("width",c.options.constrainSize),c.zoomTintImage.css("height",c.constheight),c.zoomTintImage.css("width",c.options.constrainSize))));},doneCallback:function doneCallback(){this.options.loadingIcon&&this.spinner.hide();this.nzOffset=this.$elem.offset();this.nzWidth=this.$elem.width();this.nzHeight=this.$elem.height();this.currentZoomLevel=this.options.zoomLevel;this.widthRatio=this.largeWidth/this.nzWidth;this.heightRatio=this.largeHeight/this.nzHeight;"window"==this.options.zoomType&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.options.zoomWindowWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.zoomLens&&(this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight)));},getCurrentImage:function getCurrentImage(){return this.zoomImage;},getGalleryList:function getGalleryList(){var b=this;b.gallerylist=[];b.options.gallery?d("#"+b.options.gallery+" a").each(function(){var a="";d(this).data("zoom-image")?a=d(this).data("zoom-image"):d(this).data("image")&&(a=d(this).data("image"));a==b.zoomImage?b.gallerylist.unshift({href:""+a+"",title:d(this).find("img").attr("title")}):b.gallerylist.push({href:""+a+"",title:d(this).find("img").attr("title")});}):b.gallerylist.push({href:""+b.zoomImage+"",title:d(this).find("img").attr("title")});return b.gallerylist;},changeZoomLevel:function changeZoomLevel(b){this.scrollingLock=!0;this.newvalue=parseFloat(b).toFixed(2);newvalue=parseFloat(b).toFixed(2);maxheightnewvalue=this.largeHeight/(this.options.zoomWindowHeight/this.nzHeight*this.nzHeight);maxwidthtnewvalue=this.largeWidth/(this.options.zoomWindowWidth/this.nzWidth*this.nzWidth);"inner" !=this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/maxheightnewvalue/this.nzHeight,this.newvalueheight=maxheightnewvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/maxwidthtnewvalue/this.nzWidth,this.newvaluewidth=maxwidthtnewvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1),"lens"==this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.fullwidth=!0,this.newvaluewidth=maxheightnewvalue):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1)));"inner"==this.options.zoomType&&(maxheightnewvalue=parseFloat(this.largeHeight/this.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(this.largeWidth/this.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue>maxwidthtnewvalue?maxwidthtnewvalue:newvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1));scrcontinue=!1;"inner"==this.options.zoomType&&(this.nzWidth>this.nzHeight&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullwidth=this.fullheight=!0)),this.nzHeight>this.nzWidth&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullwidth=this.fullheight=!0)));"inner" !=this.options.zoomType&&(scrcontinue=!0);scrcontinue&&(this.zoomLock=0,this.changeZoom=!0,this.options.zoomWindowHeight/this.heightRatio<=this.nzHeight&&(this.currentZoomLevel=this.newvalueheight,"lens" !=this.options.zoomType&&"inner" !=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({height:String(this.options.zoomWindowHeight/this.heightRatio)+"px"})),"lens"==this.options.zoomType||"inner"==this.options.zoomType)&&(this.changeBgSize=!0),this.options.zoomWindowWidth/this.widthRatio<=this.nzWidth&&("inner" !=this.options.zoomType&&this.newvaluewidth>this.newvalueheight&&(this.currentZoomLevel=this.newvaluewidth),"lens" !=this.options.zoomType&&"inner" !=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({width:String(this.options.zoomWindowWidth/this.widthRatio)+"px"})),"lens"==this.options.zoomType||"inner"==this.options.zoomType)&&(this.changeBgSize=!0),"inner"==this.options.zoomType&&(this.changeBgSize=!0,this.nzWidth>this.nzHeight&&(this.currentZoomLevel=this.newvaluewidth),this.nzHeight>this.nzWidth&&(this.currentZoomLevel=this.newvaluewidth)));this.setPosition(this.currentLoc);},closeAll:function closeAll(){self.zoomWindow&&self.zoomWindow.hide();self.zoomLens&&self.zoomLens.hide();self.zoomTint&&self.zoomTint.hide();},changeState:function changeState(b){"enable"==b&&(this.options.zoomEnabled=!0);"disable"==b&&(this.options.zoomEnabled=!1);}};d.fn.elevateZoom=function(b){return this.each(function(){var a=Object.create(k);a.init(b,this);d.data(this,"elevateZoom",a);});};d.fn.elevateZoom.options={zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:0.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:0.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:0.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:d.noop,onZoomedImageLoaded:function onZoomedImageLoaded(){},onImageSwap:d.noop,onImageSwapComplete:d.noop};})(jQuery,window,document);};},{}],46:[function(require,module,exports){'use strict';var flickity=require('flickity');var flickityImage=require('flickity-imagesloaded');module.exports.flickity={defaut:function defaut(elem){var flkty=new flickity(elem,{prevNextButtons:false,pageDots:false,wrapAround:true,adaptiveHeight:true,contain:true});},arrows:function arrows(elem){var flkty=new flickity(elem,{pageDots:false,adaptiveHeight:true,imagesLoaded:true});},bullets:function bullets(elem){var flkty=new flickity(elem,{prevNextButtons:false,adaptiveHeight:true,imagesLoaded:true});},thumbnail:function thumbnail(elemContainer,elem,elemNav){for(var i=0;i<elemContainer.length;i++){initCarouselThumbnail(elemContainer[i],elem,elemNav);}},multipleItems:function multipleItems(elem){var flkty=new flickity(elem,{groupCells:true,imagesLoaded:true,pageDots:false});},multipleItemsOneByOne:function multipleItemsOneByOne(elem){var flkty=new flickity(elem,{contain:true});},custom:function custom(elem,options){var flkty=new flickity(elem,options);return flkty;},destroy:function destroy(elem){var flkty=new flickity(elem);flkty.destroy();}};function initCarouselThumbnail(container,elem,elemNav){var gallery=container.querySelector(elem);var galleryNav=container.querySelector(elemNav);var items=Array.prototype.slice.call(galleryNav.children);var flkty=new flickity(gallery,{prevNextButtons:false,pageDots:false});items[flkty.selectedIndex].classList.add('active');galleryNav.addEventListener('click',function(event){event.preventDefault();var item=event.target.parentNode;[].forEach.call(items,function(item){item.classList.remove('active');});item.classList.add('active');var index=items.indexOf(item);flkty.select(index);});}},{"flickity":10,"flickity-imagesloaded":4}],47:[function(require,module,exports){"use strict";module.exports.init=function init(){initBlockableButtons("#corps");};module.exports.serialize=function serialize(form){if(!form||form.nodeName!=="FORM"){return;}
var i,j,q=[];for(i=form.elements.length-1;i>=0;i=i-1){if(form.elements[i].name===""){continue;}
switch(form.elements[i].nodeName){case"INPUT":switch(form.elements[i].type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":q.push(form.elements[i].name+"="+encodeURIComponent(form.elements[i].value));break;case"checkbox":case"radio":if(form.elements[i].checked){q.push(form.elements[i].name+"="+encodeURIComponent(form.elements[i].value));}
break;case"file":break;}
break;case"TEXTAREA":q.push(form.elements[i].name+"="+encodeURIComponent(form.elements[i].value));break;case"SELECT":switch(form.elements[i].type){case"select-one":q.push(form.elements[i].name+"="+encodeURIComponent(form.elements[i].value));break;case"select-multiple":for(j=form.elements[i].options.length-1;j>=0;j=j-1){if(form.elements[i].options[j].selected){q.push(form.elements[i].name+"="+encodeURIComponent(form.elements[i].options[j].value));}}
break;}
break;case"BUTTON":switch(form.elements[i].type){case"reset":case"submit":case"button":q.push(form.elements[i].name+"="+encodeURIComponent(form.elements[i].value));break;}
break;}}
return q.join("&");};var initBlockableButtons=function initBlockableButtons(wrapperSel,triggerClass){var jForms=wrapperSel?jQuery(wrapperSel).find("form"):jQuery("body").find("form");var triggerC=triggerClass?triggerClass:"block-double-click";jForms.on("submit.blockButton",function(){var jThis=jQuery(this);if(jThis.hasClass(triggerC)){var jButton=jQuery(this).find("button[type='submit'], input[type='submit']");jButton.attr("disabled","disabled");}});};},{}],48:[function(require,module,exports){'use strict';var receiveMessage=function receiveMessage(event){if(event.origin!==module.exports.iframeTiers.domainAuto){return;}
module.exports.iframeTiers.iframeT.style.height=event.data+'px';module.exports.iframeTiers.iframeT.style.display='block';};module.exports.iframeTiers={domainAuto:'',iframeT:null,init:function init(domainP){module.exports.iframeTiers.domainAuto=window.location.protocol+'//'+domainP;},createIframe:function createIframe(url,classF,idF){var obj=document.createElement('iframe');obj.src=url,obj.id=classF;obj.classList.add(idF);module.exports.iframeTiers.iframeT=obj;return obj;},addIframeToDOM:function addIframeToDOM(block){console.log(block);block.appendChild(module.exports.iframeTiers.iframeT);},initHeightAuto:function initHeightAuto(){window.addEventListener("message",receiveMessage,false);}};},{}],49:[function(require,module,exports){"use strict";module.exports.init=function init(){if(typeof lm.initializedModule.layers==="boolean"){return;};lm.initializedModule.layers=true;var jOverlay=jQuery("#overlay");if(jOverlay.length===0){var jOverlay=$('<div id="overlay"></div>');jOverlay.appendTo('body');}
jQuery('.lm-popin, .layerProduit, .layerHighSmall, .layerHighBig, .layerAjouterPanier, .layerForum, .layerVideo, .layerVideoNew').appendTo('body');jQuery("body").on("click",".layerClose a, .bouttonClose, p.fermer a",function(e){e.preventDefault();$(this).closest('.layerProduit, .layerVideoIdeesConseils, .layerVideo, .layerVideoNew, #layerPanier, .layerVideoProduits, .layerImprimerParam, .layerConfortMagasin, .layerSon, .layerInfoBulle, .layerInfoBulleAvis, .layerEnvoiAmi, .layerQuantite, .layerHighSmall, .layerHighBig, .layerArticle, .layerAgenda, .layerForum').hide();jOverlay.unbind('click.overlayClose').hide();$('#overlay').hide();});jQuery("body").on("click",".layerVideo .layerClose a",function(e){$('#lecteurSWF').remove();$('.lecteur').html('<div id="lecteurSWF"><div id="inviteInstallFlash"><a href="http://get.adobe.com/fr/flashplayer/" target="_blank"><img width="49" height="51" src="https://s2.lmcdn.fr/7.16.2/imagesV3/navigationPermanente/getflashplayer_home._r011e55902ef74_.png" alt=""></a><p>Pour visionner cette vido,<br>vous aurez besoin d\'installer Flash Player :</p><a href="http://get.adobe.com/fr/flashplayer/" id="lienGetFlash" target="_blank">Tlcharger maintenant</a></div></div>');});jQuery("body").on("click",".layerVideoNew .layerClose a",function(e){});};module.exports.overlay=function overlay(jElem){var jOverlay=jQuery('#overlay');jOverlay.show();jOverlay.css({'height':jQuery(document).height()+'px','width':jQuery(document).width()+'px',"display":"block"});jOverlay.bind('click.overlayClose',function(event){jOverlay.unbind('click.overlayClose').hide();jElem.trigger("layerClose");jElem.hide();event.preventDefault();event.stopPropagation();});};module.exports.overlay2=function overlay2(jElem){var jOverlay=jQuery('#overlay');jOverlay.show();jOverlay.css({'height':jQuery(document).height()+'px',"display":"block"});jOverlay.bind('click.overlayClose',function(event){jOverlay.unbind('click.overlayClose').hide();jElem.trigger("layerClose");jElem.removeClass('lm-popinVisible');event.preventDefault();event.stopPropagation();});};module.exports.displayLayer=function displayLayer(trigger,layer,closingElem,closingCallback,isBlockingLayer){var jLayer=jQuery(layer);var globalScrollTop,currentTop,currentHeight,currentWidth;jLayer.show();if(document.documentElement.scrollTop){globalScrollTop=document.documentElement.scrollTop;}else{globalScrollTop=$("body").scrollTop();}
if(jLayer.height()>document.documentElement.clientHeight){currentTop=globalScrollTop+10;currentHeight=document.documentElement.clientHeight-90;currentWidth=jLayer.width()+30;}else{currentTop=globalScrollTop+(parseInt(document.documentElement.clientHeight,10)/2-parseInt(jLayer.height(),10)/2);currentHeight='auto';currentWidth=jLayer.width();}
jLayer.css({'left':$(document).width()/2-jLayer.width()/2+'px','top':currentTop+'px','width':currentWidth+'px'});if(jLayer.height()>document.documentElement.clientHeight){jLayer.find('.layerProduitContent').css({'height':currentHeight+'px','overflow':'auto','width':currentWidth-60+'px'});}
jLayer.find('.layerProduitBackground').css({'height':jLayer.height()+30+'px','width':currentWidth+30+'px'});if(!isBlockingLayer){module.exports.overlay(jLayer);}
if(closingElem){jQuery(closingElem,jLayer).on("click.overlayClose",function(event){jLayer.trigger("layerClose");jQuery(this).off("click.overlayClose");event.preventDefault();event.stopPropagation();});}
jLayer.on("layerClose",function(){if(closingCallback&&typeof closingCallback==="function"){closingCallback();}
jLayer.hide();var jOverlay=jQuery("#overlay");jOverlay.unbind('click.overlayClose').hide();jQuery(this).off("layerClose");if($('.layerVideo').length>0){$('.layerVideo object').remove();}});};module.exports.displayPopin=function displayPopin(layer,hasToCenter,closingElem,closingCallback,isBlockingLayer,isAbsolute){var jLayer=jQuery(layer);var finalTopPosition=$(document).scrollTop()+16;if(jLayer.height()>$(window).height()||isAbsolute){jLayer.css({'position':'absolute','left':$(document).width()/2-jLayer.width()/2+'px','top':finalTopPosition+'px'});}
if(hasToCenter){jLayer.css({'left':$(document).width()/2-jLayer.width()/2+'px'});}
jLayer.addClass('lm-popinVisible');var navU=navigator.userAgent;var isAndroidMobile=navU.indexOf('Android')>-1&&navU.indexOf('Mozilla/5.0')>-1&&navU.indexOf('AppleWebKit')>-1;var regExAppleWebKit=new RegExp(/AppleWebKit\/([\d.]+)/);var resultAppleWebKitRegEx=regExAppleWebKit.exec(navU);var appleWebKitVersion=resultAppleWebKitRegEx===null?null:parseFloat(regExAppleWebKit.exec(navU)[1]);var isAndroidBrowser=isAndroidMobile&&appleWebKitVersion!==null&&appleWebKitVersion<537;if(isAndroidBrowser){jLayer.css({transition:'none'});}
if(!isBlockingLayer){module.exports.overlay2(jLayer);}else{jQuery('#overlayB').show();}
if(closingElem){jQuery(closingElem,jLayer).on("click.overlayClose",function(event){jLayer.trigger("layerClose");jQuery(this).off("click.overlayClose");event.preventDefault();event.stopPropagation();});}
jLayer.on("layerClose",function(){if(closingCallback&&typeof closingCallback==="function"){closingCallback();}
jLayer.removeClass("lm-popinVisible");var jOverlay=jQuery("#overlay");jOverlay.unbind('click.overlayClose').hide();jQuery(this).off("layerClose");});$(window).on('resize',function(){if(hasToCenter){jLayer.css({'left':$(document).width()/2-jLayer.width()/2+'px'});}});};module.exports.closePopin=function(layer){var jLayer=jQuery(layer);jLayer.trigger("layerClose");};module.exports.displayAutoClosingLayer=function(layer,container,closingElem,closingCallback,closingDelay){var jLayer=jQuery(layer);if(container){jQuery(container).append(jLayer);}
jLayer.show();if(!closingDelay||!jQuery.isNumeric(closingDelay)){closingDelay=2000;}
var timeOutID=window.setTimeout(function(){jLayer.trigger("layerClose");},closingDelay);if(closingElem){jQuery(closingElem,jLayer).on("click.closingElem",function(event){jLayer.trigger("layerClose");jQuery(this).off("click.closingElem");event.preventDefault();event.stopPropagation();});}
jLayer.on("layerClose",function(){window.clearTimeout(timeOutID);if(closingCallback&&typeof closingCallback==="function"){closingCallback();}
jLayer.fadeOut("slow");jQuery(this).off("layerClose");});};},{}],50:[function(require,module,exports){"use strict";module.exports.addEvent=function addEvent(elt,evt,fn){if(elt.addEventListener){elt.addEventListener(evt,fn,false);}else if(elt.attachEvent){elt.attachEvent("on"+evt,fn);}};module.exports.appendElement=function appendElement(selector,position,elt){document.querySelector(selector).insertAdjacentHTML(position,elt);};module.exports.hasClass=function hasClass(element,className){return element.className&&new RegExp("(\\s|^)"+className+"(\\s|$)").test(element.className);};module.exports.addClass=function addClass(element,className){if(element&&className){if(element.classList){element.classList.add(className);}else{element.className+=' '+className;}}else{console.log('addClass');if(!element){console.log('No element'+element);}
if(!className){console.log('No className'+className);}}};module.exports.removeClass=function removeClass(element,className){if(element&&className){if(element.classList){element.classList.remove(className);}else{element.className=el.className.replace(new RegExp('(^|\\b)'+className.split(' ').join('|')+'(\\b|$)','gi'),' ');}}else{console.log('removeClass');if(!element){console.log('No element'+element);}
if(!className){console.log('No className'+className);}}};module.exports.removeElementsByClass=function removeElementsByClass(className){var elements=document.getElementsByClassName(className);while(elements.length>0){elements[0].parentNode.removeChild(elements[0]);}};module.exports.getClosest=function getClosest(elem,selector){var firstChar=selector.charAt(0);for(;elem&&elem!==document;elem=elem.parentNode){if(firstChar==='.'){if(elem.classList.contains(selector.substr(1))){return elem;}}
if(firstChar==='#'){if(elem.id===selector.substr(1)){return elem;}}
if(firstChar==='['){if(elem.hasAttribute(selector.substr(1,selector.length-2))){return elem;}}
if(elem.tagName.toLowerCase()===selector){return elem;}}
return false;};},{}],51:[function(require,module,exports){"use strict";if(typeof window.lm==="undefined"){window.lm={};}
lm=window.lm||{};lm.access=lm.access||{};lm.access.focusableElements=lm.access.focusableElements||"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";lm.popin=lm.popin||{};lm.popin.saveFocusBeforeDisplayPopin=lm.access.saveFocusBeforeDisplayPopin||{};lm.popin.initOverlay=function initOverlay(){if($("#overlay").length===0){$('<div id="overlay"></div>').appendTo('body');}};lm.popin.displayPopin=function displayPopin(layer,closingElem,closingCallback,isBlockingLayer){lm.popin.initOverlay();lm.popin.saveFocusBeforeDisplayPopin=document.activeElement;$(document).on('keydown.accessPopinKeydown',function(e){if(e.keyCode===9){var elements=$(layer).find('*'),focusableItems=elements.filter(lm.access.focusableElements).filter(':visible'),focusedItem=jQuery(':focus'),numberOfFocusableItems=focusableItems.length,focusedItemIndex=focusableItems.index(focusedItem);if(e.shiftKey){if(focusedItemIndex==0){focusableItems.get(numberOfFocusableItems-1).focus();e.preventDefault();}}else{if(focusedItemIndex==numberOfFocusableItems-1){focusableItems.get(0).focus();e.preventDefault();}}}});var overlay='#overlay';if(!closingElem){closingElem='.popin-close-link';}
if(isBlockingLayer!=true){$(overlay).on('click.accessClosePopin-overlay',function(){lm.popin.closePopin($('.lm-popinVisible'),closingCallback);});$(document).on('keyup.accessClosePopin-escape',function(e){if(e.keyCode===27){lm.popin.closePopin(layer,closingCallback);}});}
$(closingElem).on('click.accessClosePopin-link',function(e){e.preventDefault();lm.popin.closePopin($('.lm-popinVisible'),closingCallback);});lm.popin.openPopin(layer);};lm.popin.openPopin=function openPopin(layer){lm.popin.centerPopin(layer);$('#overlay').addClass('overlay-access-popin-active');$(layer).addClass('lm-popinVisible');var scrollTop=-$(window).scrollTop();$('body').addClass('no-scroll');$('body').css({'top':scrollTop});$(layer).attr("tabindex",-1).focus();};lm.popin.closePopin=function closePopin(layer,closingCallback){if(!layer){var layer=$('.lm-popinVisible');}
if(layer){$(layer).css({'top':'','height':'','left':''});$('#overlay').removeClass('overlay-access-popin-active');$(layer).removeClass('lm-popinVisible');var scrollTop=-parseInt($('body').css('top'));$('body').removeClass('no-scroll').css({'top':''});$(window).scrollTop(scrollTop);$('#overlay').off('click.accessClosePopin-overlay');$('.popin-close-link').off('click.accessClosePopin-link');$(document).off('keyup.accessClosePopin-escape');if(closingCallback&&typeof closingCallback==="function"){closingCallback();}
lm.popin.saveFocusBeforeDisplayPopin.focus();$(document).off('keydown.accessPopinKeydown');}};lm.popin.centerPopin=function centerPopin(layer){if(!layer){var layer=$('.lm-popinVisible');}
if(layer){$(layer).css({'top':'','left':''});var screenHeight=$(window).height(),popinHeight=$(layer).height(),positionTop=(screenHeight-popinHeight)/2,screenWidth=$(window).width(),popinWidth=$(layer).width(),positionLeft=(screenWidth-popinWidth)/2;if(popinHeight>screenHeight){$(layer).css({'top':'0','left':positionLeft+'px'});}else{$(layer).css({'top':positionTop+'px','left':positionLeft+'px'});}}};$(window).resize(function(){lm.popin.centerPopin();});},{}],52:[function(require,module,exports){'use strict';var forms=require('./_forms.js');var reviews;var reviewsFeedback={init:function init(reviewsObj){reviews=reviewsObj;reviewFeedback();reviews.body.addEventListener('click',function(e){var clickedElement=e.target;if(clickedElement.classList.contains('review-cancel')){resetAllFeedbackCounter();reviewsFeedback.hideMessage();hideReviewFeedbackNickname();uncheckedAllFeedback(clickedElement);}});},hideMessage:function hideMessage(){"use strict";reviews.unauthorizedMessageFeedback.classList.add(reviews.reviewHiddenClass);reviews.pseudoMessageFeedback.classList.add(reviews.reviewHiddenClass);}};var hideMessageOpositeForm=function hideMessageOpositeForm(){"use strict";reviews.unauthorizedMessageFeedbackOposite.classList.add(reviews.reviewHiddenClass);reviews.pseudoMessageFeedbackOposite.classList.add(reviews.reviewHiddenClass);};var resetAllFeedbackCounter=function resetAllFeedbackCounter(){"use strict";[].forEach.call(reviews.allFeedbackCounter,function(counter){counter.innerHTML=counter.dataset.count;});};var resetFeedbackCounter=function resetFeedbackCounter(){"use strict";[].forEach.call(reviews.feedbackCounter,function(counter){counter.innerHTML=counter.dataset.count;});};var hideReviewFeedbackNickname=function hideReviewFeedbackNickname(){"use strict";[].forEach.call(document.querySelectorAll('.review-form-user-nickname'),function(reviewFeedbackPseudo){reviewFeedbackPseudo.classList.add(reviews.reviewHiddenClass);});};var uncheckedAllFeedback=function uncheckedAllFeedback(clickedElement){"use strict";var btnsAbuse=document.querySelectorAll('.js-review-abuse');var btnsReport=document.querySelectorAll('.js-review-feedback');[].forEach.call(btnsAbuse,function(btnAbuse){if(btnAbuse!=clickedElement){btnAbuse.checked=false;}});[].forEach.call(btnsReport,function(btnReport){if(btnReport!=clickedElement){btnReport.checked=false;}});};var reviewFeedback=function reviewFeedback(){"use strict";reviews.body.addEventListener('change',function(e){var clickedElement=e.target;if(clickedElement.classList.contains(reviews.feedBackBtnClass)||clickedElement.classList.contains(reviews.abuseBtnClass)){var typeNickname;if(clickedElement.classList.contains(reviews.feedBackBtnClass)){reviewFeedbackSetVariable('feedback','isHelpfull',clickedElement);typeNickname="feedback";resetFeedbackCounter();}else if(clickedElement.classList.contains(reviews.abuseBtnClass)){reviewFeedbackSetVariable('abuse','abuse',clickedElement);reviews.abuseLabel=clickedElement.previousElementSibling;typeNickname="abuse";}
hideMessageOpositeForm();reviewsFeedbackSubmitManageCounter(true);if(reviews.isForumLogin==="false"){if(typeNickname==="abuse"){resetAllFeedbackCounter();}
hideReviewFeedbackNickname();uncheckedAllFeedback(clickedElement);reviews.feedbackForm.querySelector('.review-form-user-nickname').classList.remove(reviews.reviewHiddenClass);var nicknameInput=document.getElementById('review-user-nickname-'+typeNickname+'-'+reviews.reviewId);reviews.formReviewNickname(nicknameInput);reviews.feedbackForm.onsubmit=function(e){e.preventDefault();if(clickedElement.classList.contains(reviews.feedBackBtnClass)){reviewFeedbackSubmit(reviews.ajaxHelpfulSubmit);}else if(clickedElement.classList.contains(reviews.abuseBtnClass)){reviewFeedbackSubmit(reviews.ajaxAbuseSubmit);}};}else{if(clickedElement.classList.contains(reviews.feedBackBtnClass)){reviewFeedbackSubmit(reviews.ajaxHelpfulSubmit);}else if(clickedElement.classList.contains(reviews.abuseBtnClass)){reviewFeedbackSubmit(reviews.ajaxAbuseSubmit);}}}});};var reviewFeedbackSetVariable=function reviewFeedbackSetVariable(type,inputName,clickedElement){"use strict";if(type==="feedback"){var oposite="abuse";}else{var oposite="feedback";}
reviews.isForumLogin=clickedElement.parentNode.dataset.pseudo;reviews.reviewId=clickedElement.parentNode.dataset.id;reviews.feedbackValue=clickedElement.value;reviews.feedbackForm=document.getElementById('review-form-'+type+'-'+reviews.reviewId);reviews.feedbackFormOposite=document.getElementById('review-form-'+oposite+'-'+reviews.reviewId);reviews.feedbackMessages=reviews.feedbackForm.querySelectorAll('.review-'+type+'-message');reviews.feedbackBtns=reviews.feedbackForm.querySelectorAll('input[name="'+inputName+'"]');reviews.feedbackLabels=reviews.feedbackForm.querySelector('.review-'+type+'').querySelectorAll('.cta-button');reviews.unauthorizedMessageFeedback=reviews.feedbackForm.querySelector('.review-'+type+'-double');reviews.successMessageFeedback=reviews.feedbackForm.querySelector('.review-'+type+'-success');reviews.pseudoMessageFeedback=reviews.feedbackForm.querySelector('.review-'+type+'-pseudo');reviews.unauthorizedMessageFeedbackOposite=reviews.feedbackFormOposite.querySelector('.review-'+oposite+'-double');reviews.successMessageFeedbackOposite=reviews.feedbackFormOposite.querySelector('.review-'+oposite+'-success');reviews.pseudoMessageFeedbackOposite=reviews.feedbackFormOposite.querySelector('.review-'+oposite+'-pseudo');reviews.allReviewFeedBackForm=document.querySelectorAll('.review-form-feedback');reviews.allReviewFeedback=document.querySelectorAll('.review-feedback');reviews.allReviewAbuseForm=document.querySelectorAll('.review-form-abuse');reviews.allReviewAbuse=document.querySelectorAll('.review-abuse');reviews.feedbackCounter=reviews.feedbackForm.querySelectorAll('.js-review-feedback-count');reviews.allFeedbackCounter=document.querySelectorAll('.js-review-feedback-count');};var reviewFeedbackSubmit=function reviewFeedbackSubmit(url){"use strict";var feedbackFormSerialized=forms.serialize(reviews.feedbackForm);var request=new XMLHttpRequest();request.open('POST',url,true);request.setRequestHeader('Content-Type','application/x-www-form-urlencoded; charset=UTF-8');request.send(feedbackFormSerialized);request.addEventListener('load',function(){if(request.status>=200&&request.status<400){reviewFeedbackSubmitDisabledBtns();reviewFeedbackSubmitManageMessage();reviewFeedbackSubmitSuccess(url);}else if(request.status>=400&&request.status<=500){reviewFeedbackSubmitManageMessage();try{var errorType=JSON.parse(request.responseText);if(errorType.codeErreur=="ERROR_DUPLICATE_SUBMISSION"){reviewFeedbackSubmitErrorDoubleSubmission();reviewFeedbackSubmitDisabledBtns();reviewsFeedbackSubmitManageCounter();}else if(errorType.codeErreur=="PSEUDO_ALREADY_USE"){reviewFeedbackSubmitPseudoAlreadyUse();}}catch(e){console.log('erreur');}}});};var reviewFeedbackSubmitSuccess=function reviewFeedbackSubmitSuccess(url){"use strict";[].forEach.call(reviews.allReviewFeedback,function(reviewFeedback){reviewFeedback.dataset.pseudo="true";});[].forEach.call(reviews.allReviewFeedBackForm,function(reviewFeedbackForm){if(reviewFeedbackForm.querySelector('.review-form-user-nickname')){reviewFeedbackForm.removeChild(reviewFeedbackForm.querySelector('.review-form-user-nickname'));}});[].forEach.call(reviews.allReviewAbuse,function(reviewAbuse){reviewAbuse.dataset.pseudo="true";});[].forEach.call(reviews.allReviewAbuseForm,function(reviewAbuseForm){if(reviewAbuseForm.querySelector('.review-form-user-nickname')){reviewAbuseForm.removeChild(reviewAbuseForm.querySelector('.review-form-user-nickname'));}});if(url===reviews.ajaxAbuseSubmit){reviews.abuseLabel.innerHTML="Abus signal";}
reviews.successMessageFeedback.classList.remove(reviews.reviewHiddenClass);};var reviewFeedbackSubmitErrorDoubleSubmission=function reviewFeedbackSubmitErrorDoubleSubmission(){"use strict";reviews.unauthorizedMessageFeedback.classList.remove(reviews.reviewHiddenClass);};var reviewFeedbackSubmitPseudoAlreadyUse=function reviewFeedbackSubmitPseudoAlreadyUse(){"use strict";reviews.pseudoMessageFeedback.classList.remove(reviews.reviewHiddenClass);};var reviewFeedbackSubmitManageMessage=function reviewFeedbackSubmitManageMessage(){"use strict";[].forEach.call(reviews.feedbackMessages,function(feedbackMessage){feedbackMessage.classList.add(reviews.reviewHiddenClass);});};var reviewFeedbackSubmitDisabledBtns=function reviewFeedbackSubmitDisabledBtns(error){"use strict";[].forEach.call(reviews.feedbackLabels,function(feedbackLabel){feedbackLabel.classList.add('cta-disabled');});[].forEach.call(reviews.feedbackBtns,function(feedbackBtn){feedbackBtn.setAttribute('disabled','true');});};var reviewsFeedbackSubmitManageCounter=function reviewsFeedbackSubmitManageCounter(send){[].forEach.call(reviews.feedbackCounter,function(feedbackCount){if(feedbackCount.dataset.value===reviews.feedbackValue){var oldFeedbackCountValue=parseInt(feedbackCount.innerHTML);if(send){feedbackCount.innerHTML=oldFeedbackCountValue+1;}else{feedbackCount.innerHTML=oldFeedbackCountValue-1;}}});};module.exports.reviewsFeedback=reviewsFeedback;},{"./_forms.js":47}],53:[function(require,module,exports){'use strict';var ajax=require('./_ajax.js');var lazyLoadImage=require('../_lazyLoadImage.js');var reviewsNavigation={reflm:document.getElementById('global-reflm').dataset.reflm,body:document.querySelector('body'),ajaxSortUrl:'/v3/product-reviews/getReviews.do?reviewsPerPage=4&',sortByDefault:'DATE_DESC',reviewHiddenClass:'review-hidden',reviewsListContainer:null,reviewsMainContainer:null,init:function init(){reviewsNavigation.reviewsListContainer=document.querySelector('.review-list-container');reviewsNavigation.reviewsMainContainer=document.querySelector('.js-review-container');openReviewText();hideReviewText();showReviewsSynthesis();sortReviews();pagerReviews();}};var pagerReviews=function pagerReviews(){"use strict";reviewsNavigation.body.addEventListener('click',function(e){var clickedElement=e.target;if(clickedElement.classList.contains('js-go-to-page')){var pageDestination=clickedElement.dataset.page;}else if(clickedElement.classList.contains('js-page-number')){var pageDestination=clickedElement.getAttribute('value');}
if(clickedElement.classList.contains('js-go-to-page')||clickedElement.classList.contains('js-page-number')){var sortBy=document.querySelector('.js-list-sort').options[document.querySelector('.js-list-sort').selectedIndex].value;if(sortBy!=reviewsNavigation.sortByDefault){var url=reviewsNavigation.ajaxSortUrl+'pageNumber='+pageDestination+'&sortBy='+sortBy+'&lmid='+reviewsNavigation.reflm;}else{var url=reviewsNavigation.ajaxSortUrl+'pageNumber='+pageDestination+'&sortBy='+reviewsNavigation.sortByDefault+'&lmid='+reviewsNavigation.reflm;}
ajax.ajaxHandler('get',url,null,reviewsSuccess,null,reviewsError);}});};var sortReviews=function sortReviews(){"use strict";reviewsNavigation.body.addEventListener('change',function(e){var clickedElement=e.target;if(clickedElement.classList.contains('js-list-sort')){var sortBy=clickedElement.options[clickedElement.selectedIndex].value;var url=reviewsNavigation.ajaxSortUrl+'pageNumber=1&sortBy='+sortBy+'&lmid='+reviewsNavigation.reflm;ajax.ajaxHandler('get',url,null,reviewsSuccess,null,reviewsError);}});};var reviewsSuccess=function reviewsSuccess(data){"use strict";var sortListContainer=document.querySelector('.js-sort-list-container');reviewsNavigation.reviewsListContainer.removeChild(sortListContainer);reviewsNavigation.reviewsListContainer.insertAdjacentHTML('beforeend',data);lazyLoadImage.init();hideReviewText();};var reviewsError=function reviewsError(xhr){"use strict";console.log(xhr);};var showReviewsSynthesis=function showReviewsSynthesis(){"use strict";var synthesisLinks=document.querySelectorAll('.js-show-synthesis');[].forEach.call(synthesisLinks,function(el){var wrapper=el.parentElement;el.addEventListener('mouseover',function(){wrapper.querySelector('.reviews-synthesis').classList.remove(reviewsNavigation.reviewHiddenClass);});el.addEventListener('mouseout',function(){wrapper.querySelector('.reviews-synthesis').classList.add(reviewsNavigation.reviewHiddenClass);});});};var hideReviewText=function hideReviewText(){"use strict";var reviewsList=document.querySelectorAll('.review-text');[].forEach.call(reviewsList,function(reviewText){reviewText.setAttribute('data-open',false);});setTimeout(function(){var reviewsList=document.querySelectorAll('.review-text');var button='<button type="button" class="review-btn-see-more js-review-btn-see-more">En voir plus <i class="ico-arrow-bottom-full"></i></button>';[].forEach.call(reviewsList,function(reviewText){var textContent=reviewText.querySelector('span');if(reviewText.offsetHeight<textContent.offsetHeight){reviewText.insertAdjacentHTML('afterend',button);}});},0);};var openReviewText=function openReviewText(){"use strict";reviewsNavigation.body.addEventListener('click',function(e){var clickedElement=e.target;if(clickedElement.classList.contains('js-review-btn-see-more')){clickedElement.parentNode.querySelector('.review-text').dataset.open=true;var parent=clickedElement.parentNode;parent.removeChild(clickedElement);}});};module.exports.reviewsNavigation=reviewsNavigation;},{"../_lazyLoadImage.js":35,"./_ajax.js":43}],54:[function(require,module,exports){'use strict';var reviewsUploadFile={reflm:document.getElementById('global-reflm').dataset.reflm,body:document.querySelector('body'),ajaxUploadUrl:'/v3/product-reviews/postMedia.do?reflm=',reviewHiddenClass:'review-hidden',reviewForm:null,reviewFormClass:'js-review-form',reviewUploadElParent:null,reviewUploadImgWrapper:null,reviewUploadMax:null,reviewUploadImgBtnClass:'js-review-form-upload-btn',reviewUploadImgSize:null,reviewUploadImgCount:0,reviewUploadListQty:null,reviewUploadDeleteBtnClass:'js-review-form-delete-image',reviewUploadLabelFile:null,reviewUploadInputFile:document.createElement('input'),reviewUploadDetailMessage:null,init:function init(){reviewsUploadFile.reviewUploadLabelFile=document.querySelector('label[for="review-form-upload-btn"]');reviewsUploadFile.reviewUploadDetailMessage=document.querySelector('.review-form-upload-detail-message');reviewsUploadFile.reviewForm=document.querySelector('.'+reviewsUploadFile.reviewFormClass);reviewsUploadFile.reviewUploadImgWrapper=document.querySelector('.review-form-image-wrapper');reviewsUploadFile.reviewUploadImgSize=document.querySelector('.review-form-no-image-upload').offsetWidth;reviewsUploadFile.reviewUploadMax=document.querySelector('label[for="review-form-upload-btn"]').dataset.max;formReviewUploadImg();formReviewDeleteUploadedImage();}};var formReviewUploadImg=function formReviewUploadImg(){var formUpload=document.createElement('form');formUpload.setAttribute("method",'POST');formUpload.setAttribute("action",reviewsUploadFile.ajaxUploadUrl);formUpload.setAttribute('enctype','multipart/form-data');reviewsUploadFile.ajaxUploadUrl=reviewsUploadFile.ajaxUploadUrl+reviewsUploadFile.reflm;reviewsUploadFile.body.addEventListener('change',function(e){var clickedElement=e.target;if(clickedElement.classList.contains(reviewsUploadFile.reviewUploadImgBtnClass)){reviewsUploadFile.reviewUploadElParent=clickedElement.parentNode;var inputLMSec=document.createElement('input');inputLMSec.name="LMSEC";inputLMSec.value=reviewsUploadFile.reviewForm.querySelector('input[name="LMSEC"]').value;formUpload.appendChild(inputLMSec);formUpload.appendChild(clickedElement);var formData=new FormData(formUpload);$.ajax({type:'POST',url:reviewsUploadFile.ajaxUploadUrl,data:formData,processData:false,mimeType:"multipart/form-data",contentType:false,cache:false,success:function success(data){formReviewUploadImgSuccess(data);},complete:function complete(data){formReviewUploadImgComplete(formUpload);},error:function error(xhr){formReviewUploadImgError(xhr);}});}});};var formReviewUploadImgSuccess=function formReviewUploadImgSuccess(data){reviewsUploadFile.reviewUploadImgCount=reviewsUploadFile.reviewUploadImgCount+1;var imgJSON=JSON.parse(data);var sizeMessage=document.querySelector('.review-form-upload-size-message');if(imgJSON!=null){sizeMessage.classList.add(reviewsUploadFile.reviewHiddenClass);var figureUploaded=document.createElement('figure');figureUploaded.setAttribute('data-count',reviewsUploadFile.reviewUploadImgCount);var urlUploaded=document.createElement('input');urlUploaded.setAttribute('type','hidden');urlUploaded.setAttribute('name','medias');urlUploaded.setAttribute('value',imgJSON.url);var buttonDeleteUploaded=document.createElement('button');buttonDeleteUploaded.setAttribute('type','button');buttonDeleteUploaded.setAttribute('class','js-review-form-delete-image review-form-delete-image');var iconUploaded=document.createElement('i');iconUploaded.setAttribute('class','ico-trash');buttonDeleteUploaded.appendChild(iconUploaded);var imgUploaded=document.createElement('img');imgUploaded.setAttribute('src',imgJSON.url);imgUploaded.setAttribute('alt','');imgUploaded.style.height=reviewsUploadFile.reviewUploadImgSize+'px';imgUploaded.style.width=reviewsUploadFile.reviewUploadImgSize+'px';figureUploaded.appendChild(urlUploaded);figureUploaded.appendChild(buttonDeleteUploaded);figureUploaded.appendChild(imgUploaded);if(document.querySelectorAll('.review-form-no-image-upload').length>0){reviewsUploadFile.reviewUploadImgWrapper.removeChild(document.querySelector('.review-form-no-image-upload'));}
reviewsUploadFile.reviewUploadImgWrapper.appendChild(figureUploaded);reviewsUploadFile.reviewUploadListQty=reviewsUploadFile.reviewUploadImgWrapper.querySelectorAll('figure').length;}else{sizeMessage.classList.remove(reviewsUploadFile.reviewHiddenClass);}};var formReviewUploadImgComplete=function formReviewUploadImgComplete(formUpload){formReviewUploadImgMax(reviewsUploadFile.reviewUploadLabelFile,reviewsUploadFile.reviewUploadInputFile,reviewsUploadFile.reviewUploadDetailMessage);formUpload.innerHTML='';};var formReviewUploadImgError=function formReviewUploadImgError(xhr){};var formReviewUploadAddField=function formReviewUploadAddField(label,input){input.setAttribute("type","file");input.setAttribute("id","review-form-upload-btn");input.setAttribute("class","js-review-form-upload-btn");input.setAttribute("name","file");input.setAttribute("accept","image/jpeg, image/jpg, image/gif, image/png");reviewsUploadFile.reviewUploadElParent.insertBefore(input,label);};var formReviewUploadImgMax=function formReviewUploadImgMax(label,input,detailMessage){formReviewUploadAddField(label,input);if(reviewsUploadFile.reviewUploadListQty==reviewsUploadFile.reviewUploadMax){label.classList.add('review-form-upload-btn-disabled');input.setAttribute('disabled','disabled');detailMessage.classList.remove(reviewsUploadFile.reviewHiddenClass);}else{label.classList.remove('review-form-upload-btn-disabled');input.removeAttribute('disabled');detailMessage.classList.add(reviewsUploadFile.reviewHiddenClass);}};var formReviewDeleteUploadedImage=function formReviewDeleteUploadedImage(){reviewsUploadFile.body.addEventListener('click',function(e){var clickedElement=e.target;if(clickedElement.classList.contains(reviewsUploadFile.reviewUploadDeleteBtnClass)){var figureToDelete=clickedElement.parentNode;var figures=reviewsUploadFile.reviewUploadImgWrapper.querySelectorAll('figure');[].forEach.call(figures,function(figure){if(figure==figureToDelete){reviewsUploadFile.reviewUploadImgWrapper.removeChild(figure);reviewsUploadFile.reviewUploadImgCount=reviewsUploadFile.reviewUploadImgCount-1;reviewsUploadFile.reviewUploadListQty=reviewsUploadFile.reviewUploadImgWrapper.querySelectorAll('figure').length;formReviewUploadImgMax(reviewsUploadFile.reviewUploadLabelFile,reviewsUploadFile.reviewUploadInputFile,reviewsUploadFile.reviewUploadDetailMessage);}});}});};module.exports.reviewsUploadFile=reviewsUploadFile;},{}],55:[function(require,module,exports){'use strict';var storageAvailaible={sessionStorageIsAvalaible:true,init:function init(){stockSessionStorage();}};var stockSessionStorage=function stockSessionStorage(){storageAvailaible.sessionStorageIsAvalaible=true;try{sessionStorage.setItem('sessionStorage',1);sessionStorage.removeItem('sessionStorage');}catch(e){storageAvailaible.sessionStorageIsAvalaible=false;}
return storageAvailaible.sessionStorageIsAvalaible;};module.exports.storageAvailaible=storageAvailaible;},{}],56:[function(require,module,exports){'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};module.exports.controleUrl=function controleUrl(url,jElement){if(url){var xhr;jElement.css('display','none');try{xhr=new ActiveXObject('Msxml2.XMLHTTP');}catch(e){try{xhr=new ActiveXObject('Microsoft.XMLHTTP');}catch(e2){try{xhr=new XMLHttpRequest();}catch(e3){xhr=false;}}}
xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status==200){if(xhr.getResponseHeader("Content-Type")=="image/gif"||xhr.getResponseHeader("Content-Type")=="image/jpeg"||xhr.getResponseHeader("Content-Type")=="image/png"||xhr.getResponseHeader("Content-Type")=="image/svg"){jElement.css('display','block');}}}};xhr.open("GET",url);xhr.send(null);}};module.exports.deferImgInit=function deferImgInit(){window.onload=function(){$('.defer-img').each(function(){$(this).attr('src',$(this).attr('data-defer'));});};};module.exports.setCookie=function setCookie(name,value,expires){document.cookie=name+"="+escape(value)+(expires==null?"":"; expires="+expires.toGMTString());};module.exports.deleteCookie=function deleteCookie(name){var expdate=new Date();expdate.setTime(expdate.getTime()-1);document.cookie=name+"="+null+"; expires="+expdate.toGMTString();};module.exports.getCookie=function getCookie(name){var arg=name+"=";var alen=arg.length;var clen=document.cookie.length;var i=0;while(i<clen){var j=i+alen;if(document.cookie.substring(i,j)==arg){return module.exports.getCookieVal(j);}
i=document.cookie.indexOf(" ",i)+1;if(i==0){break;}}
return null;};module.exports.getCookieVal=function getCookieVal(offset){var endstr=document.cookie.indexOf(";",offset);if(endstr==-1){endstr=document.cookie.length;}
return unescape(document.cookie.substring(offset,endstr));};module.exports.extractURLParams=function extractURLParams(){var match;var pl=/\+/g;var search=/([^&=]+)=?([^&]*)/g;var decode=function decode(s){return decodeURIComponent(s.replace(pl," "));};var query=window.location.search.substring(1);var urlParams={};while(match=search.exec(query)){urlParams[decode(match[1])]=decode(match[2]);}
return urlParams;};module.exports.initGoogleMaps=function initGoogleMaps(callbackF,label){var channel='';if(typeof label!='undefined'){channel='&channel=LMFR-'+window.location.hostname+'-DESKTOP-'+label;}else{channel='&channel=LMFR-'+window.location.hostname+'-DESKTOP-DEFAULT';}
if((typeof google==='undefined'?'undefined':_typeof(google))==='object'&&_typeof(google.maps)==='object'){if(call!=null)callbackF();}else{$.getScript('//maps.google.com/maps/api/js?sensor=false&language=fr&client=gme-srssocietederecherches&callback=initialize'+channel,function(data){if(callbackF!=null)callbackF();});}};module.exports.ctButtonToLink=function ctButtonToLink(clicCT){$('<a href="#" target="_track" data-clicct="'+clicCT+'" class="clicCT dummyClicCT"></a>').appendTo('#wrapper').click();};module.exports.ctClickAllTag=function ctClickAllTag(clicCT){var paramCT=clicCT.split(",");xt_med(paramCT[0],paramCT[1],paramCT[2],paramCT[3]);};module.exports.isHttps=function isHttps(){return window.location.protocol=='https:';};module.exports.normalize=function normalize(str){var translate_re=/[]/g;var translate='aaaaaceeeeiiiinooooouuuuyyAAAAACEEEEIIIINOOOOOUUUUY';return str.toLowerCase().replace(/\s/g,'_').replace(translate_re,function(match){return translate.substr(translate_re.source.indexOf(match)-1,1);});};},{}],57:[function(require,module,exports){'use strict';module.exports.tooltip={init:function init(){if(typeof lm.initializedModule.tooltip==="boolean"){return;};lm.initializedModule.tooltip=true;openTooltip();}};function openTooltip(){var tooltipBtnClass=document.querySelectorAll('.js-open-tooltip');[].forEach.call(tooltipBtnClass,function(tooltipBtn){var tooltipToOpen=document.getElementById(tooltipBtn.dataset.tooltip);tooltipBtn.addEventListener('mouseover',function(e){tooltipToOpen.classList.add('lm-tooltip-visible');});tooltipBtn.addEventListener('mouseout',function(e){tooltipToOpen.classList.remove('lm-tooltip-visible');});});}},{}],58:[function(require,module,exports){'use strict';module.exports.tablet={init:function init(){var self=this;$(window).on('resize',function(){if(self.checkWidthOfNavigator()){$('#nav img.lazy-lm, #header img.lazy-lm').each(function(){$(this).attr('src',$(this).attr('data-original'));$(this).removeAttr('data-original').removeClass('lazy-lm');});}});},checkWidthOfNavigator:function checkWidthOfNavigator(){return window.matchMedia("(max-width: 980px)").matches;}};},{}],59:[function(require,module,exports){"use strict";module.exports.init=function init(){$("body").on("click",".clicCT",function(e){var jThis=$(this);if(jThis.attr("href")=="#"){e.preventDefault();}
var arrayEvents={};if(jThis.attr("data-clicCT")){var tabClick=jThis.attr("data-clicCT").split(",");arrayEvents.event_type=tabClick[0];arrayEvents.click_type=tabClick[3];arrayEvents.name=tabClick[2];arrayEvents.xtn2=tabClick[1];}
if(typeof tc_events_3==="function"){return tc_events_3(e.target,'click',arrayEvents);}});$("body").on("click",".js-tagGA",function(e){var jThis=$(this);if(jThis.attr("href")=="#"){e.preventDefault();}
if(jThis.data("tagco")){var arrayEvents=jThis.attr('data-tagco').replace(/'/g,'"');}else{var arrayEvents={};}
hitEventTagCo(e.target,jThis.attr("data-tcevent"),arrayEvents);});if(localStorage.getItem('registerDate')){var now=new Date().getTime();var resetRegisterStorage=function resetRegisterStorage(){localStorage.removeItem('registerDate');localStorage.removeItem('registerTarget');localStorage.removeItem('registerEvent');localStorage.removeItem('registerJSON');};if(localStorage.getItem('registerDate')+1000*60*5>now){if(window.tc_vars.user_id!==""){hitEventTagCo(unescape(localStorage.getItem('registerTarget')),localStorage.getItem('registerEvent'),localStorage.getItem('registerJSON'));resetRegisterStorage();}}else{resetRegisterStorage();}}};var hitEventTagCo=function hitEventTagCo(target,eventType,stringJson){if(stringJson){var arrayEvents=JSON.parse(stringJson.replace(/'/g,'"'));}else{var arrayEvents={};}
if(typeof tc_events_global==="function"){return tc_events_global(target,eventType,arrayEvents);}};$("body").on("submit",".js-form-tagGA",function(e){var jThis=$(this);if(this.checkValidity()){if(jThis.data("tagco")){var arrayEvents=JSON.parse(jThis.attr('data-tagco').replace(/'/g,'"'));var eventType=jThis.attr("data-tcevent");}else{var arrayEvents={};}
if(typeof tc_events_global==="function"){return tc_events_global(e.target,eventType,arrayEvents);}}});module.exports.hitEventTagCo=hitEventTagCo;},{}],60:[function(require,module,exports){'use strict';var layers=require('./_submodules/_layers.js');module.exports.video={init:function init(){layers.init();var self=this;$('body').on("click.popinVideo",'.lireVideo',function(e){self.videoClickHandler(this,e);});},videoClickHandler:function videoClickHandler(that,e){e.preventDefault();var mediaUid=$(that).attr("data-media-uid");var videoId=$(that).attr("data-videoid");var playerId=$(that).attr("data-playerid");var playerKey=$(that).attr("data-playerkey");if(videoId&&videoId!=''){if($('#video-connecte').length>0){addBrightcove(videoId,playerId,playerKey,711,400,'',true);}else if($(that).parents('.layerCont').length>0){if($(that).hasClass('vOutils')){addBrightcove(videoId,playerId,playerKey,440,300,'.videoContOutils');}else{addBrightcove(videoId,playerId,playerKey,440,300,'.videoCont');}}else{addBrightcove(videoId,playerId,playerKey,711,400);}
layers.displayPopin('.layerVideo',true,'.layerClose a','','',true);}else if(mediaUid&&mediaUid!=''){if($(that).parents('.layerCont').length>0){var jVideoContainer=$("#layerVideo .videoCont");}else{var jVideoContainer=$("#lecteurSWF");}
jVideoContainer.empty();var jVideo=$('<video>',{"controls":"controls"});jVideoContainer.append(jVideo);if($(that).parents('.layerCont').length>0){HTML5Player(mediaUid,jVideoContainer,{width:440,height:300});}else{HTML5Player(mediaUid,jVideoContainer);}
layers.displayPopin('.layerVideo',true,'.layerClose a',function(){var jVideoElem=jVideoContainer.find("video");jVideoElem.get(0).pause();jVideoElem.removeAttr("src");},'',true);$('.layerVideo .layerVideoContent h2').text($('img',that).attr('alt'));}}};var addBrightcove=function addBrightcove(videoId,playerId,playerKey,width,height,container,autoStart){var htmlString='<div class="cntPlayer"><object id="myExperience'+videoId+'" class="BrightcoveExperience"><param name="bgcolor" value="#ffffff" /><param name="width" value="'+width+'" /><param name="height" value="'+height+'" /><param name="playerID" value="'+playerId+'" /><param name="autoStart" value="'+autoStart+'" /><param name="playerKey" value="'+playerKey+'" /><param name="isVid" value="true" /><param name="isUI" value="true" /><param name="dynamicStreaming" value="true" /><param name="@videoPlayer" value="ref:'+videoId+'" /><param name="htmlFallback" value="true" /><param name="linkBaseURL" value="'+window.location+'" /><param name="wmode" value="transparent" /><param name="secureConnections" value="true" /><param name="secureHTMLConnections" value="true" /></object></div>';if(container){$(container).html(htmlString);}else{$('.lecteur').html(htmlString);}
brightcove.createExperiences();};var HTML5Player=function HTML5Player(uidMedia,targetContainer,dimensions){if(!dimensions||!dimensions.width||!dimensions.height){var dimensions={};}
var videoProfile="h264_leroymerlin";var jTargetContainer=targetContainer;var jVideo=jTargetContainer.find("video");$.support.cors=true;$.ajax({url:'https://leroymerlin.api.v3.vpod.tv/api/services/rest/general/Media_get',dataType:'json',data:"uids="+uidMedia+"&kmgmt=~W1u-zrdL7B0&ck=~W1u-zrdL7B0&time="+Math.random()*10,success:function success(data){var chosenMedia=null;for(var i=0;i<data.item[0].downloads.item.length;i++){var currentItem=data.item[0].downloads.item[i];if(currentItem.profileName==videoProfile){chosenMedia=currentItem;break;}}
if(chosenMedia){jVideo.attr({"src":chosenMedia.path,"width":dimensions.width?dimensions.width:chosenMedia.width,"height":dimensions.height?dimensions.height:chosenMedia.height});}else{alert("Un problme est survenue lors de la rcupration de la vido.");}},error:function error(xhr,status,code){alert("Un problme est survenue lors de la rcupration de la vido : "+code);}});};},{"./_submodules/_layers.js":49}],61:[function(require,module,exports){'use strict';module.exports.init=function init(){if(typeof lm.initializedModule.webshim==="boolean"){return;};lm.initializedModule.webshim=true;require('../../../bower_components/webshim/js-webshim/minified/polyfiller.js');webshim.setOptions({'basePath':'../../../../bower_components/webshim/js-webshim/minified/shims/','debug':false,'forms':conf,'forms-ext':conf_ext});webshim.polyfill('forms forms-ext');};module.exports.initReviews=function initReviews(){if(typeof lm.initializedModule.webshim==="boolean"){return;};lm.initializedModule.webshim=true;require('../../../bower_components/webshim/js-webshim/minified/polyfiller.js');webshim.setOptions({'basePath':'../../../../bower_components/webshim/js-webshim/minified/shims/','debug':false,'forms':confReviews,'forms-ext':conf_ext});webshim.polyfill('forms forms-ext');};var conf={replaceValidationUI:true,lazyCustomMessages:true,addValidators:true,waitReady:false,iVal:{"sel":".ws-validate","handleBubble":"hide","fieldWrapper":".lmInput","recheckDelay":400,"submitCheck":false,"events":"focusout change","errorBoxClass":"ws-errorbox","errorBoxWrapper":"span","errorMessageWrapper":"span","errorMessageClass":"ws-errormessage","errorWrapperClass":"ws-invalid","successWrapperClass":"ws-success","fx":"no"}};var confReviews=conf;confReviews.iVal.events="focusout change keyup";var conf_ext={"replaceUI":true,"date":{"openOnFocus":true}};},{"../../../bower_components/webshim/js-webshim/minified/polyfiller.js":22}],62:[function(require,module,exports){'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};var elevateZoom=require('../_modules/_submodules/_elevateZoom.js');var video=require('../_modules/_video.js').video;module.exports.init=function init(){elevateZoom.init();$('.lireVideo').on("click.popinVideo",function(e){video.videoClickHandler(this,e);});if($('#url-ope').length>0){var opeUrl=$('#url-ope').val();var opeLinkLeft=document.createElement('a');opeLinkLeft.href=opeUrl;opeLinkLeft.id='opeBackgroundLinkLeft';var opeLinkRight=document.createElement('a');opeLinkRight.href=opeUrl;opeLinkRight.id='opeBackgroundLinkRight';$('#page').prepend(opeLinkLeft).prepend(opeLinkRight);}
/*--------------------------------------
  VOTE AVIS CLIENT
  Koarating - v0.1.0 - 2012-10-16
  Copyright (c) 2012 Aleksandar Gosevski; Licensed MIT, GPL
  ---------------------------------------*/
(function(a){function c(b,c){var d=this.options=a.extend({},a.fn.rating.defaults,c);this.$element=a(b),this.$array=[],this.half=!1,this.rate=parseFloat(this.$element.data("rating")),this.integer=parseInt(this.rate,10),this.decimal=this.rate-this.integer;for(var e=d.max-1;e>=0;e--){this.$array.push("<div />");}this.$element.append(this.$array.join("")),this.half=this.decimal>.4&&this.decimal<.6?!0:!1;for(e=this.integer-1;e>=0;e--){this.$element.find("div").eq(e).addClass(d.fullClass);}this.half===!0&&this.$element.find("div").eq(this.integer).addClass(d.halfClass),this.$element.find("div").not("."+d.fullClass).not("."+d.halfClass).addClass(d.blankClass);}var b="ratings";a.fn.rating=function(d){return this.each(function(){var e=a(this),f=e.data(b),g=(typeof d==='undefined'?'undefined':_typeof(d))=="object"&&d;f||e.data(b,f=new c(this,g)),typeof d=="string"&&d.charAt(0)!=="_"&&f[d]();});},a.fn.rating.Constructor=c,a.fn.rating.defaults={max:5,fullClass:"full-star",halfClass:"half-star",blankClass:"blank-star"};})(jQuery);function extractUrlParams(t){var f=[];for(var i=0;i<t.length;i++){var x=t[i].split('=');f[x[0]]=x[1];}
return f;}
function storeAvailability(elt){$(elt).on('click',function(e){$(".ui-autocomplete.ui-menu").hide();$("#CtxResults").html("");if($("#CtxProduct .stores-list-container").length==0){$("#CtxProduct").load('/v3/disponibilite/magasin/listStores.do?reflm='+$(".changestore_produit").attr("data-reflm"),function(){if($("#isCours").val()==1){$("#contextControllerURL").val('/v3/magasin/services/cours/searchByGPSCoordinates.do');}else{$("#contextControllerURL").val('/v3/disponibilite/magasin/searchByGPSCoordinates.do');}
$("#layer_context").show();lm.contextualisation.openPopin();$("#layer_context .CtxPopinMessage").hide();if($("#isCours").val()==1){$("#layer_context .CtxPopinMessageInside").show().find("span").html("Consulter la disponibilit de ce cours de bricolage");}else{if($("#isPose").length){$("#layer_context .CtxPopinMessageInside").show().find("span").html("Consulter la disponibilit de ce service de pose en magasin");}else{$("#layer_context .CtxPopinMessageInside").show().find("span").html("Consulter la disponibilit de cet article en magasin");}}
if($("#isCours").val()==1){$("#ctxResults").load('/v3/magasin/services/cours/search.do?reflm='+$(".changestore_produit").attr("data-reflm")+'&storeId='+$("#isContextualise").val()+'&redirect='+$("#CtxRdrct").val());}});}else{$("#layer_context .CtxPopinMessage").hide();$("#contextControllerURL").val('/v3/disponibilite/magasin/searchByGPSCoordinates.do');if($("#isCours").val()==1){$("#layer_context .CtxPopinMessageInside").show().find("span").html(" Consulter la disponibilit de ce cours de bricolage");}else{if($("#isPose").length){$("#layer_context .CtxPopinMessageInside").show().find("span").html("Consulter la disponibilit de ce service de pose en magasin");}else{$("#layer_context .CtxPopinMessageInside").show().find("span").html("Consulter la disponibilit de cet article en magasin");}}
lm.contextualisation.openPopin();}});}
function popTVA(elt){$(elt).on('click',function(e){var tvaPopin="#tva-popin";lm.layers.displayPopin(tvaPopin,true,".popin-close-link");e.preventDefault();});}
function storesChecklist(urlResult,eltLength,eltToAppend){$.ajax({type:"post",url:urlResult,dataType:"text",contentType:"text/plain",success:function success(data){if(!$(eltLength)){$(eltToAppend).append(data);}else{$(eltLength).remove();$(eltToAppend).append(data);}
$('.searchCPLoader').hide();}});}
$(window).load(function(){var $createLayer='<div id="fullscreen-layer"><div class="transparent-layer"></div></div>';$('body').append($createLayer);$('#corps').on('mouseover','.ico-tips',function(){var $tips=$(this);$('#tips-reflm').css({top:92,left:$tips.position().left-20,display:"block",zIndex:9998});$tips.css({zIndex:9999});});$('#corps').on('mouseleave','.tooltip',function(){$('.tooltip:visible').hide();$('.ico-tips').css({zIndex:1});});if($('#navigation-02').length>0){$('#navigation-02').width($('#navigation-02 a:first').outerWidth(true)*$('#navigation-02 a').length);}
$('#navigation-01').on('click','a.nav-pict',function(e){e.preventDefault();var _t=$(this),navigation1=$('#navigation-01'),navigation2=$('#navigation-02'),navigationLink=navigation2.find('a'),navigationLinkFirst=navigationLink.find(':first'),navigationLinkLast=navigationLink.find(':last');navigationLink.each(function(){var $t=$(this);if($t.hasClass('active')){if(_t.hasClass('next-pict')){if($t.next('a').length>0){var leftPosition=$t.position().left+$t.width()-34;console.log(leftPosition,navigation1.width());$t.removeClass('active').next().click();navigation2.append($('#navigation-02 a:first'));}else{$t.removeClass('active');if(navigationLink.length>5){navigationLinkLast.addClass('active').click();}else{$('#navigation-02 a:first').click();}}
return false;}else if(_t.hasClass('prev-pict')){if($t.prev('a').length>0){$t.removeClass('active').prev().click();}else{$t.removeClass('active');if(navigationLink.length>5){navigation2.prepend($('#navigation-02 a:last'));navigationLinkFirst.addClass('active').click();}else{navigationLinkLast.addClass('active').click();}}
return false;}}});});$(document).on('click','.zoomLens',function(e){if($('.tablet-display').length>0){console.log($('.tablet-display').length);e.stopPropagation();}
if($('#navigation-02 a.active').hasClass('lireVideo')){$('#navigation-02 a.active.lireVideo').click();}
else if($('#navigation-02 a.active').hasClass('play-song')){lm.layers.displayPopin("#song-popin",true,".popin-close-link",function(){if($('#player-ie').length===0){var songPlayer=document.getElementById('song-player');songPlayer.pause();songPlayer.currentTime=0;}else{var songPlayer=document.getElementById('player-ie');songPlayer.pause();songPlayer.currentTime=0;}});}
else{if($('#carousel').length>0){$('#fullscreen-layer').fadeIn(200);}else{$.ajax({url:'/v3/miniFicheProduit/layerFullScreen.do?reflm='+$('#global-reflm span').text(),dataType:'html',timeout:3000,contentType:'text/plain',success:function success(data){$('#fullscreen-layer').append(data);},complete:function complete(){lm.owlCarousel.init();var owl=$("#carousel");owl.owlCarousel({slideSpeed:300,paginationSpeed:400,singleItem:true,navigation:false,pagination:false,afterInit:function afterInit(){if($('#navigation-01').length>0){$('#carousel').append($('.owl-controls'));}}});owl.on('click','.owl-page',function(index,element){var $t=$(this),$tIndex=$t.index();$('.owl-wrapper .item').each(function(index){if($tIndex===index){owl.trigger('owl.goTo',$tIndex);return false;}});});owl.on('click','.owl-controls .ico-arrow-top',function(){owl.trigger('owl.prev');});owl.on('click','.owl-controls .ico-arrow-down',function(){owl.trigger('owl.next');});$('#fullscreen-layer').fadeIn(200);}});}}});$("#img-01").elevateZoom({zoomType:"inner",gallery:'navigation-02',galleryActiveClass:"active",imageCrossfade:true,containLensZoom:true,lensFadeIn:300,lensFadeOut:300});$('#fullscreen-layer').on('click','div.owl-wrapper-outer, div.transparent-layer',function(){$('#fullscreen-layer').fadeOut(200);});$('#navigation-02 .play-song').on('click',function(e){e.preventDefault();lm.layers.displayPopin("#song-popin",true,".popin-close-link",function(){if($('#player-ie').length===0){var songPlayer=document.getElementById('song-player');songPlayer.pause();songPlayer.currentTime=0;}else{var songPlayer=document.getElementById('player-ie');songPlayer.pause();songPlayer.currentTime=0;}});});$('.price-container').on('click','.e-devis',function(e){e.preventDefault();if($("#ctxResultsDevis .stores-list-container").length==0){$("#ctxResultsDevis").html("");$(".CtxPopinMessageInside").hide();$(".CtxPopinMessage").show();$(".ui-autocomplete.ui-menu").hide();$("#contextControllerURL").val('/v3/magasin/edevis/listStoresByGPSCoordinates.do');$.ajax({type:"get",url:"/v3/magasin/edevis/afficher.do?eQuoteType="+$(this).attr('data-type'),dataType:"html",contentType:"text/plain",success:function success(data){var dataSplit=data.split('@');var nomMag=dataSplit[1];if(dataSplit[0]=='DISPLAY_STORE_LAYER'){if($("#e-devisContext").length){$("#ctxResultsDevis").load("/v3/magasin/edevis/listStores.do?eQuoteType="+$('.price-container .e-devis').attr('data-type')+"&storeId="+$("#e-devisContext").val());}
$.getScript("https://s1.lmcdn.fr/7.16.2/javascriptV3/services/datepicker-autocomplete._r0848c5902ef92_.js",function(){lm.contextualisation.initMireContextualisation();$("#devis-popin .departure").val("on").autocomplete("search").val("");$(".ui-autocomplete.ui-menu").css("visibility","hidden").css("position","absolute");lm.layers.displayPopin("#devis-popin",true,".popin-close-link");});}else{window.location='/v3/p/-e'+data;}}});}else{$(".CtxPopinMessageInside").hide();$(".CtxPopinMessage").show();$("#contextControllerURL").val('/v3/magasin/edevis/listStoresByGPSCoordinates.do');$.getScript("https://s1.lmcdn.fr/7.16.2/javascriptV3/services/datepicker-autocomplete._r0848c5902ef92_.js",function(){lm.contextualisation.initMireContextualisation();$("#devis-popin .departure").val("on").autocomplete("search").val("");$(".ui-autocomplete.ui-menu").css("visibility","hidden").css("position","absolute");lm.layers.displayPopin("#devis-popin",true,".popin-close-link");});}});$('#corps').on('click','.store-funding',function(e){e.preventDefault();var productPrice=$(this).attr("data-price");if(productPrice){$.ajax({url:"/v3/financement/proposition.do?montant="+parseInt(productPrice,10),type:"get",success:function success(data){$('.popInFin').html(data);$('.simulerFin').attr("href","/v3/p/services/financement-l1308223640?prx="+productPrice);},error:function error(data){$('.popInFin').html("<p>Ce service est momentanent indisponible, merci de ressayer ultrieurement.</p>");}});}
lm.layers.displayPopin("#funding-popin",true,".popin-close-link");});storeAvailability('.changestore_produit');$('.showcase-product').on('change','.declinaison select',function(){var $optionSelected=$(this).find('option:selected');if($optionSelected.attr('value')!==""){window.location=$optionSelected.val();}});$('body').on('click','.js-open-popin',function(e){e.preventDefault();var popinSelector=$(this).data('popin-selector');if($(popinSelector).length){lm.layers.displayPopin($(this).data('popin-selector'),true,".popin-close-link");}});var FS;var ficheSerie=FS={init:function init(){$('#ensemble-des-produits').on('click','a.delete-product',function(e){e.preventDefault();var productId=$(this).attr("data-productId");var productMasterId=$(this).attr("data-productMasterId");FS.deleteProductSerie(productId,productMasterId);}).on('change','#filter-serie',function(){var tProductId=$(this).closest('.lm-form').attr('data-prd-id'),tOptionSelected=$(this).find('option:selected').val();if(tOptionSelected!==''){var paramUrl='productId='+tProductId+'&attributeValue='+tOptionSelected;}else{var paramUrl='productId='+tProductId+'&attributeValue=';}
ajaxHandler('post','/v3/products/getFilteredSeriesProducts.do',paramUrl,FS.callbackSuccessFilter);});},deleteProductSerie:function deleteProductSerie(productId,productMasterId){$.ajax({type:'POST',url:'/v3/products/removeProductSeriesToUserSelection.do',dataType:'html',cache:false,async:false,data:'productId='+productId+'&productMasterId='+productMasterId,success:function success(data){$(".selection-container").html(data);},error:function error(reponse){alert("Le serveur n'a pas rpondu. Veuillez ressayer ultrieurement");}});},callbackSuccessFilter:function callbackSuccessFilter(data){$('#ensemble-des-produits .composition-serie').html(data);}};FS.init();});lm.video={};lm.video.inPageInit=function(){var uidMedia=jQuery('.player').attr('data-media-uid');var videoContainer='lecteurSWF';if(uidMedia&&uidMedia!=''){if(!Modernizr.video.h264){lm.video.playerFlash(uidMedia,videoContainer,{width:455,height:341});}else{var jVideoContainer=jQuery("#"+videoContainer);jVideoContainer.empty();var jVideo=jQuery('<video>',{"controls":"controls"});jVideoContainer.append(jVideo);lm.video.HTML5Player(uidMedia,videoContainer,{width:455,height:341});}}};lm.video.popinInit=function(delegateContainerSelector){var videoTriggerSelector=".lireVideo";function videoClickHandler(that,event){event.preventDefault();var jThis=$(that);var videoContainer="lecteurSWF";var mediaUid=jThis.attr("data-media-uid");var videoId=jThis.attr("data-videoid");var playerId=jThis.attr("data-playerid");var playerKey=jThis.attr("data-playerkey");if(videoId&&videoId!=''){if($('#video-connecte').length>0){lm.video.addBrightcove(videoId,playerId,playerKey,711,400,'',true);}else if(jThis.parents('.layerCont').length>0){if(jThis.hasClass('vOutils'))lm.video.addBrightcove(videoId,playerId,playerKey,440,300,'.videoContOutils');else lm.video.addBrightcove(videoId,playerId,playerKey,440,300,'.videoCont');}else{lm.video.addBrightcove(videoId,playerId,playerKey,711,400);}
lm.layers.displayLayer(jThis,'.layerVideo','.layerClose a',null);}else if(mediaUid&&mediaUid!=''){if(jThis.parents('.layerCont').length>0){var jVideoContainer=$("#layerVideo .videoCont");}else{var jVideoContainer=$("#"+videoContainer);}
jVideoContainer.empty();if(!Modernizr.video.h264){lm.video.playerFlash(mediaUid,videoContainer);lm.layers.displayLayer(jThis,'.layerVideo');}else{var jVideo=$('<video>',{"controls":"controls"});jVideoContainer.append(jVideo);if(jThis.parents('.layerCont').length>0){lm.video.HTML5Player(mediaUid,jVideoContainer,{width:440,height:300});}else{lm.video.HTML5Player(mediaUid,jVideoContainer);}
lm.layers.displayLayer(jThis,'.layerVideo','.layerClose a',function(){var jVideoElem=jVideoContainer.find("video");jVideoElem.get(0).pause();jVideoElem.removeAttr("src");});}
$('.layerVideo .layerVideoContent h2').text($('img',this).attr('alt'));}}
if(!delegateContainerSelector){var jVideoTriggers=jQuery(videoTriggerSelector);jVideoTriggers.on("click",function(event){videoClickHandler(this,event);});}
else{var jDelegateContainer=jQuery(delegateContainerSelector);jDelegateContainer.on("click",videoTriggerSelector,function(event){videoClickHandler(this,event);});}};lm.video.addBrightcove=function(videoId,playerId,playerKey,width,height,container,autoStart){var htmlString='<div class="cntPlayer"><object id="myExperience'+videoId+'" class="BrightcoveExperience"><param name="bgcolor" value="#ffffff" /><param name="width" value="'+width+'" /><param name="height" value="'+height+'" /><param name="playerID" value="'+playerId+'" /><param name="autoStart" value="'+autoStart+'" /><param name="playerKey" value="'+playerKey+'" /><param name="isVid" value="true" /><param name="isUI" value="true" /><param name="dynamicStreaming" value="true" /><param name="@videoPlayer" value="ref:'+videoId+'" /><param name="htmlFallback" value="true" /><param name="linkBaseURL" value="'+window.location+'" /><param name="wmode" value="transparent" /><param name="secureConnections" value="true" /><param name="secureHTMLConnections" value="true" /></object></div>';if(container){$(container).html(htmlString);}else{$('.lecteur').html(htmlString);}
brightcove.createExperiences();};lm.video.popinInit();};},{"../_modules/_submodules/_elevateZoom.js":45,"../_modules/_video.js":60}],63:[function(require,module,exports){'use strict';lm=window.lm||{};lm.abtasty=require('../_modules/_abtasty.js').abtasty;var setCookie=require('../_modules/_submodules/_tools.js').setCookie;module.exports.init=function init(){lm.abtasty.tests={'CLICRDV':{'0':null,'1':function _(){var idMag=$('.ongletMag').attr('data-idmag');var urlMag='';if(idMag=='157'||idMag=='14'||idMag=='176'){lm.abtasty.displayPopinABTasty('/html/abtasty/popin-clic-rdv.html',function(){switch($('.ongletMag').attr('data-idmag')){case'157':urlMag='https://www.clicrdv.com/leroymerlin-mulhouse';break;case'14':urlMag='https://www.clicrdv.com/leroymerlin-valenciennes';break;case'176':urlMag='https://www.clicrdv.com/leroymerlin-agen';break;}
ABTastyClickTracking('Affichage Popin',null,155184);$('#link-mag-clic-rdv').attr('href',urlMag);$('#link-mag-clic-rdv').on('click',function(e){ABTastyClickTracking('Clics Pop in',null,155184);ABTastyClickTracking('clic pop in',null,155184);});$('.clic-rdv .popin-close-link').on('click',function(e){ABTastyClickTracking('Clics fermeture Pop in',null,155184);ABTastyClickTracking('fermeture pop in',null,155184);});});}}},'POPINFRIZBIZ':{'0':null,'1':function _(){lm.abtasty.displayPopinABTasty('/html/abtasty/popin-frizbizz.html',function(){$('#link-mag-frizbiz').on('click',function(e){ABTastyClickTracking('Clics Pop in',null,155193);});$('.frizbiz .popin-close-link').on('click',function(e){ABTastyClickTracking('Clics fermeture Pop in',null,155193);});var dateFrizbiz=new Date();dateFrizbiz.setTime(+dateFrizbiz+30*86400000);setCookie('frizbiz','true',dateFrizbiz);});}}};};},{"../_modules/_abtasty.js":23,"../_modules/_submodules/_tools.js":56}],64:[function(require,module,exports){'use strict';var setClassButtonAndAndShow=function setClassButtonAndAndShow(color){var listeToHide=document.querySelector('.tools .js-shoppingList-initAddTo');var listeToShow;if(listeToHide){listeToHide.parentNode.removeChild(listeToHide);}
listeToShow=document.querySelectorAll('.js-shoppingList-initAddTo');if(listeToShow){listeToShow.forEach(function(elt){if(color=='blue'){elt.classList.add('blue');}
elt.classList.remove('visually-hidden');});}};module.exports.init=function init(abtasty,type){abtasty.tests['LISTECOURSESV2']={'0':null,'1':function _(){setClassButtonAndAndShow('green');},'2':function _(){setClassButtonAndAndShow('blue');}};$('#corps').on('click','.lienBouttonPanier',function(){if(document.querySelector('.plain')){ABTastyClickTracking('Clic ajout panier liste',null,164759);}else if(document.querySelector('.mosaic')){ABTastyClickTracking('Clic ajout panier mosaique',null,164759);}else{ABTastyClickTracking('Clic ajout panier fiche produit',null,164759);}});$('#corps').on('click','.js-shoppingList-initAddTo',function(){if(document.querySelector('.plain')){ABTastyClickTracking('Clic ajout liste liste',null,164759);}else if(document.querySelector('.mosaic')){ABTastyClickTracking('Clic ajout liste mosaique',null,164759);}else{ABTastyClickTracking('Clic ajout liste fiche produit',null,164759);}});};},{}],65:[function(require,module,exports){'use strict';var defineContent=function defineContent(properties){var content=document.createElement('div');var contentNico=document.createElement('a');var img=document.createElement('img');var cross=document.createElement('a');cross.classList.add('popin-close-link');cross.innerHTML='<i class="ico-cross"></i>';img.src='/images/desktop/abtasty/bons-plans-nicolas/'+properties.img;contentNico.href='/big/pdf/bons-plans-nicolas/'+properties.link+'-prolongation.pdf';contentNico.classList.add('link-pdf-nicolas');contentNico.append(img);content.classList.add('lm-popin-container');content.append(cross);content.append(contentNico);return content;};var displayPopinOneToOne=function displayPopinOneToOne(){lm.layers.displayPopin("#popin-abtasty",true,".popin-close-link");lm.abtasty.tools.setCookie('ABTasty_oTo','1');};var initPopinOneToOne=function initPopinOneToOne(properties){var popin=document.getElementById("popin-abtasty");var contentPopin=defineContent(properties);if(!popin){var eltAbTasty=document.createElement('div');eltAbTasty.id='popin-abtasty';eltAbTasty.classList.add('lm-popin');eltAbTasty.classList.add('lm-popinFx3');eltAbTasty.style.width='620px';eltAbTasty.append(contentPopin);document.body.append(eltAbTasty);}else{popin.innerHTML='';popin.append(contentPopin);}
if(lm.abtasty.tools.getCookie('ABTasty_oTo')===null){displayPopinOneToOne();}
$('#popin-abtasty .link-pdf-nicolas').on('click',function(){ABTastyClickTracking('Voir PDF',null,properties.ID);});$('#overlay').on('click',function(){ABTastyClickTracking('Fermer popin',null,properties.ID);});$('#popin-abtasty .popin-close-link').on('click',function(){ABTastyClickTracking('Fermer popin',null,properties.ID);});};module.exports.init=function(abtasty){var properties={img:"",link:"",ID:""};abtasty.tools=require('../_modules/_submodules/_tools.js');abtasty.tests['ONETOONE']={'0':null,'1':function _(){properties.img="bati-a.jpg";properties.link="A4-bati-offreA";properties.ID=170861;initPopinOneToOne(properties);},'2':function _(){properties.img="bati-b.jpg";properties.link="A4-bati-offreB";properties.ID=170861;initPopinOneToOne(properties);},'3':function _(){properties.img="cuisine-a.jpg";properties.link="A4-cuisine-offreA";properties.ID=170869;initPopinOneToOne(properties);},'4':function _(){properties.img="cuisine-b.jpg";properties.link="A4-cuisine-offreB";properties.ID=170869;initPopinOneToOne(properties);},'5':function _(){properties.img="jardin-a.jpg";properties.link="A4-jardin-offreA";properties.ID=170880;initPopinOneToOne(properties);},'6':function _(){properties.img="jardin-b.jpg";properties.link="A4-jardin-offreB";properties.ID=170880;initPopinOneToOne(properties);},'7':function _(){properties.img="menuiserie-a.jpg";properties.link="A4-menuiserie-offreA";properties.ID=170881;initPopinOneToOne(properties);},'8':function _(){properties.img="menuiserie-b.jpg";properties.link="A4-menuiserie-offreB";properties.ID=170881;initPopinOneToOne(properties);},'9':function _(){properties.img="rangement-a.jpg";properties.link="A4-rangement-offreA";properties.ID=170885;initPopinOneToOne(properties);},'10':function _(){properties.img="rangement-b.jpg";properties.link="A4-rangement-offreB";properties.ID=170885;initPopinOneToOne(properties);},'11':function _(){properties.img="sanitaire-a.jpg";properties.link="A4-sdb-offre1";properties.ID=170886;initPopinOneToOne(properties);},'12':function _(){properties.img="sanitaire-b.jpg";properties.link="A4-sdb-offre2";properties.ID=170886;initPopinOneToOne(properties);},'13':function _(){properties.img="sol-a.jpg";properties.link="A4-sol-offreA";properties.ID=170889;initPopinOneToOne(properties);},'14':function _(){properties.img="sol-b.jpg";properties.link="A4-sol-offreB";properties.ID=170889;initPopinOneToOne(properties);}};};},{"../_modules/_submodules/_tools.js":56}],66:[function(require,module,exports){'use strict';if(typeof window.lm==="undefined"){window.lm={};}
lm=window.lm||{};lm.initializedModule={};lm.geoloc=require('../_modules/_geoloc.js');lm.contextualisation=require('../_modules/_contextualisation.js');lm.addToCart=require('../_modules/_addToCart.js').addToCart;lm.addToShoppingList=require('../_modules/_addToShoppingList.js');lm.cuttingWood=require('../_modules/_cuttingWood.js');lm.lazyLoadImage=require('../_modules/_lazyLoadImage.js');lm.prdApercu=require('../_modules/_prdApercu.js');lm.tracking=require('../_modules/_tracking.js');lm.satisfaction=require('../_modules/_satisfaction.js').satisfaction;lm.tablet=require('../_modules/_tablet.js').tablet;lm.forms=require('../_modules/_submodules/_forms.js');lm.backToTop=require('../_modules/_backToTop.js').backToTop;lm.abtasty=require('../_modules/_abtasty.js').abtasty;lm.popinbrowser=require('../_modules/_popinOldBrowser.js');lm.header=require('../_modules/_header.js');lm.search=require('../_modules/_search.js');lm.fp=require('../_pages/_fp.js');lm.dpv=require('../_modules/_derniersProduitsVus.js').derniers_produits_vus;lm.pps=require('../_modules/_productPageScroll.js').productPageScroll;lm.video=require('../_modules/_video.js').video;lm.echantillon=require('../_modules/_echantillon.js').echantillon;lm.sansFrais3x=require('../_modules/_sansFrais3x.js').sansFrais3x;lm.reviews=require('../_modules/_reviews.js').reviews;lm.flixmedia=require('../_modules/_flixmedia.js');lm.ficheProduit=lm.ficheProduit||{};$(function(){var moduleToInit=["header","search","addToCart","tracking","geoloc","lazyLoadImage","prdApercu","satisfaction","tablet","forms","backToTop","popinbrowser"];moduleToInit=moduleToInit.concat(["pps","video","fp","echantillon","sansFrais3x",'reviews']);moduleToInit.forEach(function(el){console.log(el);lm[el].init();});require('../abtasty/_abtasty-clicdrv.js').init();require('../abtasty/_abtasty-liste-courses-v2.js').init(lm.abtasty,'product');require('../abtasty/_abtasty-one-to-one.js').init(lm.abtasty);lm.abtasty.tests['PRODUITSVUSRECEMMENT']={'0':null,'1':function _(){lm.dpv.init();$("#corps").on('click','section#derniers-produits-vus>section',function(){ABTastyClickTracking('Clics derniers produits consults',null,144833);});$("#corps").on('click','section#derniers-produits-vus',function(){ABTastyClickTracking('Clic bloc derniers produits',null,144833);});}};lm.abtasty.tests['DISPORETRAIT']={'0':null,'1':function _(){var icoContext=document.querySelector('.delivery:first-child .ico-cross.no-actif');if(icoContext&&typeof document.querySelector('.ongletMag').dataset.idmag==="undefined"){icoContext.classList.remove('ico-cross');icoContext.classList.remove('no-actif');icoContext.classList.add('ico-checked');}}};lm.abtasty.tests['CHOIXMAGASINRETRAIT']={'0':null,'1':function _(){var contextLink=document.querySelector('.changestore_produit');var icon=contextLink.querySelector('.ico-geolocation');if(contextLink&&icon){icon.style.color='#78BE20';contextLink.style.color='#78BE20';contextLink.innerHTML=contextLink.innerHTML+' de retrait';}}};var addExpertContent=function addExpertContent(data){var leftWrapper=document.querySelector('.showcase-product .left-wrapper');var domData=document.createElement('div');var expertQuote=null;var products=['69691664','70241122','70618352'];domData.innerHTML=data;domData.querySelector('.ab-expert-photo').src='https://s2.lmcdn.fr/7.16.2/images/desktop/abtasty/avis-expert/herve._r0538f5902ef3d_.png';for(var i=0;i<products.length;i++){expertQuote=domData.querySelector('.ab-expert-'+products[i]);if(products[i]!=tc_vars.product_id)expertQuote.parentNode.removeChild(expertQuote);else console.log("ID Produit et products[i] == ",tc_vars.product_id);}
console.log(domData);if(leftWrapper){leftWrapper.appendChild(domData.querySelector('style'));leftWrapper.appendChild(domData.querySelector('#ab-expert-feedback'));}};lm.abtasty.tests['AVISEXPERT']={'0':null,'1':function _(){lm.abtasty.getHTMLABTasty("/html/abtasty/ab-expert-template.html",addExpertContent);}};});},{"../_modules/_abtasty.js":23,"../_modules/_addToCart.js":24,"../_modules/_addToShoppingList.js":25,"../_modules/_backToTop.js":26,"../_modules/_contextualisation.js":27,"../_modules/_cuttingWood.js":29,"../_modules/_derniersProduitsVus.js":30,"../_modules/_echantillon.js":31,"../_modules/_flixmedia.js":32,"../_modules/_geoloc.js":33,"../_modules/_header.js":34,"../_modules/_lazyLoadImage.js":35,"../_modules/_popinOldBrowser.js":36,"../_modules/_prdApercu.js":37,"../_modules/_productPageScroll.js":38,"../_modules/_reviews.js":39,"../_modules/_sansFrais3x.js":40,"../_modules/_satisfaction.js":41,"../_modules/_search.js":42,"../_modules/_submodules/_forms.js":47,"../_modules/_tablet.js":58,"../_modules/_tracking.js":59,"../_modules/_video.js":60,"../_pages/_fp.js":62,"../abtasty/_abtasty-clicdrv.js":63,"../abtasty/_abtasty-liste-courses-v2.js":64,"../abtasty/_abtasty-one-to-one.js":65}]},{},[66]);